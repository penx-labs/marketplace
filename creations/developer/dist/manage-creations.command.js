"use strict";(()=>{var vh=Object.create;var vl=Object.defineProperty;var bh=Object.getOwnPropertyDescriptor;var wh=Object.getOwnPropertyNames;var xh=Object.getPrototypeOf,_h=Object.prototype.hasOwnProperty;var Tt=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var Ah=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let a of wh(t))!_h.call(e,a)&&a!==r&&vl(e,a,{get:()=>t[a],enumerable:!(n=bh(t,a))||n.enumerable});return e};var Ot=(e,t,r)=>(r=e!=null?vh(xh(e)):{},Ah(t||!e||!e.__esModule?vl(r,"default",{value:e,enumerable:!0}):r,e));var Zc=Tt($=>{"use strict";var tn=Symbol.for("react.element"),Bg=Symbol.for("react.portal"),Wg=Symbol.for("react.fragment"),$g=Symbol.for("react.strict_mode"),Vg=Symbol.for("react.profiler"),Hg=Symbol.for("react.provider"),Yg=Symbol.for("react.context"),zg=Symbol.for("react.forward_ref"),Gg=Symbol.for("react.suspense"),Zg=Symbol.for("react.memo"),qg=Symbol.for("react.lazy"),Fc=Symbol.iterator;function Kg(e){return e===null||typeof e!="object"?null:(e=Fc&&e[Fc]||e["@@iterator"],typeof e=="function"?e:null)}var Bc={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Wc=Object.assign,$c={};function br(e,t,r){this.props=e,this.context=t,this.refs=$c,this.updater=r||Bc}br.prototype.isReactComponent={};br.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};br.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Vc(){}Vc.prototype=br.prototype;function Os(e,t,r){this.props=e,this.context=t,this.refs=$c,this.updater=r||Bc}var Cs=Os.prototype=new Vc;Cs.constructor=Os;Wc(Cs,br.prototype);Cs.isPureReactComponent=!0;var Uc=Array.isArray,Hc=Object.prototype.hasOwnProperty,Ns={current:null},Yc={key:!0,ref:!0,__self:!0,__source:!0};function zc(e,t,r){var n,a={},i=null,o=null;if(t!=null)for(n in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)Hc.call(t,n)&&!Yc.hasOwnProperty(n)&&(a[n]=t[n]);var s=arguments.length-2;if(s===1)a.children=r;else if(1<s){for(var u=Array(s),l=0;l<s;l++)u[l]=arguments[l+2];a.children=u}if(e&&e.defaultProps)for(n in s=e.defaultProps,s)a[n]===void 0&&(a[n]=s[n]);return{$$typeof:tn,type:e,key:i,ref:o,props:a,_owner:Ns.current}}function Xg(e,t){return{$$typeof:tn,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Rs(e){return typeof e=="object"&&e!==null&&e.$$typeof===tn}function Qg(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var jc=/\/+/g;function Ts(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Qg(""+e.key):t.toString(36)}function ca(e,t,r,n,a){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case tn:case Bg:o=!0}}if(o)return o=e,a=a(o),e=n===""?"."+Ts(o,0):n,Uc(a)?(r="",e!=null&&(r=e.replace(jc,"$&/")+"/"),ca(a,t,r,"",function(l){return l})):a!=null&&(Rs(a)&&(a=Xg(a,r+(!a.key||o&&o.key===a.key?"":(""+a.key).replace(jc,"$&/")+"/")+e)),t.push(a)),1;if(o=0,n=n===""?".":n+":",Uc(e))for(var s=0;s<e.length;s++){i=e[s];var u=n+Ts(i,s);o+=ca(i,t,r,u,a)}else if(u=Kg(e),typeof u=="function")for(e=u.call(e),s=0;!(i=e.next()).done;)i=i.value,u=n+Ts(i,s++),o+=ca(i,t,r,u,a);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function la(e,t,r){if(e==null)return e;var n=[],a=0;return ca(e,n,"","",function(i){return t.call(r,i,a++)}),n}function Jg(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var be={current:null},da={transition:null},ey={ReactCurrentDispatcher:be,ReactCurrentBatchConfig:da,ReactCurrentOwner:Ns};function Gc(){throw Error("act(...) is not supported in production builds of React.")}$.Children={map:la,forEach:function(e,t,r){la(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return la(e,function(){t++}),t},toArray:function(e){return la(e,function(t){return t})||[]},only:function(e){if(!Rs(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};$.Component=br;$.Fragment=Wg;$.Profiler=Vg;$.PureComponent=Os;$.StrictMode=$g;$.Suspense=Gg;$.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ey;$.act=Gc;$.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=Wc({},e.props),a=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=Ns.current),t.key!==void 0&&(a=""+t.key),e.type&&e.type.defaultProps)var s=e.type.defaultProps;for(u in t)Hc.call(t,u)&&!Yc.hasOwnProperty(u)&&(n[u]=t[u]===void 0&&s!==void 0?s[u]:t[u])}var u=arguments.length-2;if(u===1)n.children=r;else if(1<u){s=Array(u);for(var l=0;l<u;l++)s[l]=arguments[l+2];n.children=s}return{$$typeof:tn,type:e.type,key:a,ref:i,props:n,_owner:o}};$.createContext=function(e){return e={$$typeof:Yg,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Hg,_context:e},e.Consumer=e};$.createElement=zc;$.createFactory=function(e){var t=zc.bind(null,e);return t.type=e,t};$.createRef=function(){return{current:null}};$.forwardRef=function(e){return{$$typeof:zg,render:e}};$.isValidElement=Rs;$.lazy=function(e){return{$$typeof:qg,_payload:{_status:-1,_result:e},_init:Jg}};$.memo=function(e,t){return{$$typeof:Zg,type:e,compare:t===void 0?null:t}};$.startTransition=function(e){var t=da.transition;da.transition={};try{e()}finally{da.transition=t}};$.unstable_act=Gc;$.useCallback=function(e,t){return be.current.useCallback(e,t)};$.useContext=function(e){return be.current.useContext(e)};$.useDebugValue=function(){};$.useDeferredValue=function(e){return be.current.useDeferredValue(e)};$.useEffect=function(e,t){return be.current.useEffect(e,t)};$.useId=function(){return be.current.useId()};$.useImperativeHandle=function(e,t,r){return be.current.useImperativeHandle(e,t,r)};$.useInsertionEffect=function(e,t){return be.current.useInsertionEffect(e,t)};$.useLayoutEffect=function(e,t){return be.current.useLayoutEffect(e,t)};$.useMemo=function(e,t){return be.current.useMemo(e,t)};$.useReducer=function(e,t,r){return be.current.useReducer(e,t,r)};$.useRef=function(e){return be.current.useRef(e)};$.useState=function(e){return be.current.useState(e)};$.useSyncExternalStore=function(e,t,r){return be.current.useSyncExternalStore(e,t,r)};$.useTransition=function(){return be.current.useTransition()};$.version="18.3.1"});var ks=Tt((VS,qc)=>{"use strict";qc.exports=Zc()});var Jc=Tt((HS,Qc)=>{"use strict";var ty=function(t){return ry(t)&&!ny(t)};function ry(e){return!!e&&typeof e=="object"}function ny(e){var t=Object.prototype.toString.call(e);return t==="[object RegExp]"||t==="[object Date]"||oy(e)}var ay=typeof Symbol=="function"&&Symbol.for,iy=ay?Symbol.for("react.element"):60103;function oy(e){return e.$$typeof===iy}function sy(e){return Array.isArray(e)?[]:{}}function rn(e,t){return t.clone!==!1&&t.isMergeableObject(e)?wr(sy(e),e,t):e}function uy(e,t,r){return e.concat(t).map(function(n){return rn(n,r)})}function ly(e,t){if(!t.customMerge)return wr;var r=t.customMerge(e);return typeof r=="function"?r:wr}function cy(e){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(e).filter(function(t){return Object.propertyIsEnumerable.call(e,t)}):[]}function Kc(e){return Object.keys(e).concat(cy(e))}function Xc(e,t){try{return t in e}catch{return!1}}function dy(e,t){return Xc(e,t)&&!(Object.hasOwnProperty.call(e,t)&&Object.propertyIsEnumerable.call(e,t))}function fy(e,t,r){var n={};return r.isMergeableObject(e)&&Kc(e).forEach(function(a){n[a]=rn(e[a],r)}),Kc(t).forEach(function(a){dy(e,a)||(Xc(e,a)&&r.isMergeableObject(t[a])?n[a]=ly(a,r)(e[a],t[a],r):n[a]=rn(t[a],r))}),n}function wr(e,t,r){r=r||{},r.arrayMerge=r.arrayMerge||uy,r.isMergeableObject=r.isMergeableObject||ty,r.cloneUnlessOtherwiseSpecified=rn;var n=Array.isArray(t),a=Array.isArray(e),i=n===a;return i?n?r.arrayMerge(e,t,r):fy(e,t,r):rn(t,r)}wr.all=function(t,r){if(!Array.isArray(t))throw new Error("first argument should be an array");return t.reduce(function(n,a){return wr(n,a,r)},{})};var py=wr;Qc.exports=py});var fa=Tt((YS,ed)=>{"use strict";function hy(e){for(var t=5381,r=e.length;r;)t=t*33^e.charCodeAt(--r);return t>>>0}ed.exports=hy});var Qf=Tt(G=>{"use strict";var de=typeof Symbol=="function"&&Symbol.for,Js=de?Symbol.for("react.element"):60103,eu=de?Symbol.for("react.portal"):60106,Oa=de?Symbol.for("react.fragment"):60107,Ca=de?Symbol.for("react.strict_mode"):60108,Na=de?Symbol.for("react.profiler"):60114,Ra=de?Symbol.for("react.provider"):60109,ka=de?Symbol.for("react.context"):60110,tu=de?Symbol.for("react.async_mode"):60111,Da=de?Symbol.for("react.concurrent_mode"):60111,Ma=de?Symbol.for("react.forward_ref"):60112,Pa=de?Symbol.for("react.suspense"):60113,Qb=de?Symbol.for("react.suspense_list"):60120,La=de?Symbol.for("react.memo"):60115,Fa=de?Symbol.for("react.lazy"):60116,Jb=de?Symbol.for("react.block"):60121,ew=de?Symbol.for("react.fundamental"):60117,tw=de?Symbol.for("react.responder"):60118,rw=de?Symbol.for("react.scope"):60119;function Ce(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case Js:switch(e=e.type,e){case tu:case Da:case Oa:case Na:case Ca:case Pa:return e;default:switch(e=e&&e.$$typeof,e){case ka:case Ma:case Fa:case La:case Ra:return e;default:return t}}case eu:return t}}}function Xf(e){return Ce(e)===Da}G.AsyncMode=tu;G.ConcurrentMode=Da;G.ContextConsumer=ka;G.ContextProvider=Ra;G.Element=Js;G.ForwardRef=Ma;G.Fragment=Oa;G.Lazy=Fa;G.Memo=La;G.Portal=eu;G.Profiler=Na;G.StrictMode=Ca;G.Suspense=Pa;G.isAsyncMode=function(e){return Xf(e)||Ce(e)===tu};G.isConcurrentMode=Xf;G.isContextConsumer=function(e){return Ce(e)===ka};G.isContextProvider=function(e){return Ce(e)===Ra};G.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===Js};G.isForwardRef=function(e){return Ce(e)===Ma};G.isFragment=function(e){return Ce(e)===Oa};G.isLazy=function(e){return Ce(e)===Fa};G.isMemo=function(e){return Ce(e)===La};G.isPortal=function(e){return Ce(e)===eu};G.isProfiler=function(e){return Ce(e)===Na};G.isStrictMode=function(e){return Ce(e)===Ca};G.isSuspense=function(e){return Ce(e)===Pa};G.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===Oa||e===Da||e===Na||e===Ca||e===Pa||e===Qb||typeof e=="object"&&e!==null&&(e.$$typeof===Fa||e.$$typeof===La||e.$$typeof===Ra||e.$$typeof===ka||e.$$typeof===Ma||e.$$typeof===ew||e.$$typeof===tw||e.$$typeof===rw||e.$$typeof===Jb)};G.typeOf=Ce});var ep=Tt((oT,Jf)=>{"use strict";Jf.exports=Qf()});var sp=Tt((sT,op)=>{"use strict";var ru=ep(),nw={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},aw={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},iw={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},ap={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},nu={};nu[ru.ForwardRef]=iw;nu[ru.Memo]=ap;function tp(e){return ru.isMemo(e)?ap:nu[e.$$typeof]||nw}var ow=Object.defineProperty,sw=Object.getOwnPropertyNames,rp=Object.getOwnPropertySymbols,uw=Object.getOwnPropertyDescriptor,lw=Object.getPrototypeOf,np=Object.prototype;function ip(e,t,r){if(typeof t!="string"){if(np){var n=lw(t);n&&n!==np&&ip(e,n,r)}var a=sw(t);rp&&(a=a.concat(rp(t)));for(var i=tp(e),o=tp(t),s=0;s<a.length;++s){var u=a[s];if(!aw[u]&&!(r&&r[u])&&!(o&&o[u])&&!(i&&i[u])){var l=uw(t,u);try{ow(e,u,l)}catch{}}}}return e}op.exports=ip});var pi;(function(e){e.Render="Render",e.InitOnFilterChange="InitOnFilterChange",e.OnFilterChange="OnFilterChange",e.InitOnSearchChange="InitOnSearchChange",e.OnSearchChange="OnSearchChange"})(pi||(pi={}));function bl(e){return e.type==="CustomAction"}function Sh(e){return e?.type==="action--custom-action"&&Reflect.has(e,"itemIndex")}function Eh(e){return e?.type==="onItemSelect"}var kn=class{constructor(t){this.setState=r=>{let n=r?.items?.length?!1:this.state.isLoading;this.state={...this.state,isLoading:n,...r},this.render()},this.onSelectItem=r=>(this.onItemSelectCallback=r,this),this.run=()=>(this.render(),self.addEventListener("message",async r=>{if(Sh(r.data)){let a=this.state.items[r.data.itemIndex].actions[r.data.actionIndex];bl(a)&&a.onSelect?.()}if(Eh(r.data)){let n=this.state.items[r.data.itemIndex];if(typeof n.detail=="function"){postMessage({type:"detail",isLoading:!0,data:[]});let a=await n.detail();postMessage({type:"detail",isLoading:!1,data:a})}}}),this),this.render=()=>{postMessage({type:pi.Render,payload:{type:"list",...this.formatState(this.state)}})},this.state={items:[],isLoading:!1,filtering:!0,titleLayout:"row",isShowingDetail:!1,...t}}formatState(t){let r=t.items.map(n=>({...n,detail:typeof n.detail=="function"?"functionDetail":n.detail,actions:n.actions?.map(a=>{if(!bl(a))return a;let{onSelect:i,...o}=a;return o})}));return{...this.state,items:r}}};var xl=Symbol("Comlink.proxy"),Ih=Symbol("Comlink.endpoint"),Th=Symbol("Comlink.releaseProxy"),hi=Symbol("Comlink.finalizer"),Mn=Symbol("Comlink.thrown"),_l=e=>typeof e=="object"&&e!==null||typeof e=="function",Oh={canHandle:e=>_l(e)&&e[xl],serialize(e){let{port1:t,port2:r}=new MessageChannel;return gi(e,t),[r,[r]]},deserialize(e){return e.start(),Un(e)}},Ch={canHandle:e=>_l(e)&&Mn in e,serialize({value:e}){let t;return e instanceof Error?t={isError:!0,value:{message:e.message,name:e.name,stack:e.stack}}:t={isError:!1,value:e},[t,[]]},deserialize(e){throw e.isError?Object.assign(new Error(e.value.message),e.value):e.value}},Al=new Map([["proxy",Oh],["throw",Ch]]);function Nh(e,t){for(let r of e)if(t===r||r==="*"||r instanceof RegExp&&r.test(t))return!0;return!1}function gi(e,t=globalThis,r=["*"]){t.addEventListener("message",function n(a){if(!a||!a.data)return;if(!Nh(r,a.origin)){console.warn(`Invalid origin '${a.origin}' for comlink proxy`);return}let{id:i,type:o,path:s}=Object.assign({path:[]},a.data),u=(a.data.argumentList||[]).map(Ct),l;try{let c=s.slice(0,-1).reduce((f,p)=>f[p],e),d=s.reduce((f,p)=>f[p],e);switch(o){case"GET":l=d;break;case"SET":c[s.slice(-1)[0]]=Ct(a.data.value),l=!0;break;case"APPLY":l=d.apply(c,u);break;case"CONSTRUCT":{let f=new d(...u);l=ct(f)}break;case"ENDPOINT":{let{port1:f,port2:p}=new MessageChannel;gi(e,p),l=Ph(f,[f])}break;case"RELEASE":l=void 0;break;default:return}}catch(c){l={value:c,[Mn]:0}}Promise.resolve(l).catch(c=>({value:c,[Mn]:0})).then(c=>{let[d,f]=Fn(c);t.postMessage(Object.assign(Object.assign({},d),{id:i}),f),o==="RELEASE"&&(t.removeEventListener("message",n),Sl(t),hi in e&&typeof e[hi]=="function"&&e[hi]())}).catch(c=>{let[d,f]=Fn({value:new TypeError("Unserializable return value"),[Mn]:0});t.postMessage(Object.assign(Object.assign({},d),{id:i}),f)})}),t.start&&t.start()}function Rh(e){return e.constructor.name==="MessagePort"}function Sl(e){Rh(e)&&e.close()}function Un(e,t){return mi(e,[],t)}function Dn(e){if(e)throw new Error("Proxy has been released and is not useable")}function El(e){return ar(e,{type:"RELEASE"}).then(()=>{Sl(e)})}var Pn=new WeakMap,Ln="FinalizationRegistry"in globalThis&&new FinalizationRegistry(e=>{let t=(Pn.get(e)||0)-1;Pn.set(e,t),t===0&&El(e)});function kh(e,t){let r=(Pn.get(t)||0)+1;Pn.set(t,r),Ln&&Ln.register(e,t,e)}function Dh(e){Ln&&Ln.unregister(e)}function mi(e,t=[],r=function(){}){let n=!1,a=new Proxy(r,{get(i,o){if(Dn(n),o===Th)return()=>{Dh(a),El(e),n=!0};if(o==="then"){if(t.length===0)return{then:()=>a};let s=ar(e,{type:"GET",path:t.map(u=>u.toString())}).then(Ct);return s.then.bind(s)}return mi(e,[...t,o])},set(i,o,s){Dn(n);let[u,l]=Fn(s);return ar(e,{type:"SET",path:[...t,o].map(c=>c.toString()),value:u},l).then(Ct)},apply(i,o,s){Dn(n);let u=t[t.length-1];if(u===Ih)return ar(e,{type:"ENDPOINT"}).then(Ct);if(u==="bind")return mi(e,t.slice(0,-1));let[l,c]=wl(s);return ar(e,{type:"APPLY",path:t.map(d=>d.toString()),argumentList:l},c).then(Ct)},construct(i,o){Dn(n);let[s,u]=wl(o);return ar(e,{type:"CONSTRUCT",path:t.map(l=>l.toString()),argumentList:s},u).then(Ct)}});return kh(a,e),a}function Mh(e){return Array.prototype.concat.apply([],e)}function wl(e){let t=e.map(Fn);return[t.map(r=>r[0]),Mh(t.map(r=>r[1]))]}var Il=new WeakMap;function Ph(e,t){return Il.set(e,t),e}function ct(e){return Object.assign(e,{[xl]:!0})}function Tl(e,t=globalThis,r="*"){return{postMessage:(n,a)=>e.postMessage(n,r,a),addEventListener:t.addEventListener.bind(t),removeEventListener:t.removeEventListener.bind(t)}}function Fn(e){for(let[t,r]of Al)if(r.canHandle(e)){let[n,a]=r.serialize(e);return[{type:"HANDLER",name:t,value:n},a]}return[{type:"RAW",value:e},Il.get(e)||[]]}function Ct(e){switch(e.type){case"HANDLER":return Al.get(e.name).deserialize(e.value);case"RAW":return e.value}}function ar(e,t,r){return new Promise(n=>{let a=Lh();e.addEventListener("message",function i(o){!o.data||!o.data.id||o.data.id!==a||(e.removeEventListener("message",i),n(o.data))}),e.start&&e.start(),e.postMessage(Object.assign({id:a},t),r)})}function Lh(){return new Array(4).fill(0).map(()=>Math.floor(Math.random()*Number.MAX_SAFE_INTEGER).toString(16)).join("-")}function yi(e){return Un(Tl(e))}function vi(){return Un(self)}var bi=typeof window<"u",Ol=!bi,wi=bi&&window!==window.parent,Ye=!Ol&&!wi&&window===window.parent,Fh=vi(),te=wi?yi(window.parent):Fh;function Fe(e,t,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(e):n?n.value:t.get(e)}function $r(e,t,r,n,a){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!a)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!a:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?a.call(e,r):a?a.value=r:t.set(e,r),r}var ir,Vr,or,jn;function Hr(e,t=!1){return window.__TAURI_INTERNALS__.transformCallback(e,t)}var dt=class{constructor(){this.__TAURI_CHANNEL_MARKER__=!0,ir.set(this,()=>{}),Vr.set(this,0),or.set(this,{}),this.id=Hr(({message:t,id:r})=>{if(r===Fe(this,Vr,"f")){$r(this,Vr,r+1,"f"),Fe(this,ir,"f").call(this,t);let n=Object.keys(Fe(this,or,"f"));if(n.length>0){let a=r+1;for(let i of n.sort())if(parseInt(i)===a){let o=Fe(this,or,"f")[i];delete Fe(this,or,"f")[i],Fe(this,ir,"f").call(this,o),a+=1}else break;$r(this,Vr,a,"f")}}else Fe(this,or,"f")[r.toString()]=t})}set onmessage(t){$r(this,ir,t,"f")}get onmessage(){return Fe(this,ir,"f")}toJSON(){return`__CHANNEL__:${this.id}`}};ir=new WeakMap,Vr=new WeakMap,or=new WeakMap;var xi=class{constructor(t,r,n){this.plugin=t,this.event=r,this.channelId=n}async unregister(){return x(`plugin:${this.plugin}|remove_listener`,{event:this.event,channelId:this.channelId})}};async function _i(e,t,r){let n=new dt;return n.onmessage=r,x(`plugin:${e}|register_listener`,{event:t,handler:n}).then(()=>new xi(e,t,n.id))}async function x(e,t={},r){return window.__TAURI_INTERNALS__.invoke(e,t,r)}var Bn=class{get rid(){return Fe(this,jn,"f")}constructor(t){jn.set(this,void 0),$r(this,jn,t,"f")}async close(){return x("plugin:resources|close",{rid:this.rid})}};jn=new WeakMap;var Wn;(function(e){e.WINDOW_RESIZED="tauri://resize",e.WINDOW_MOVED="tauri://move",e.WINDOW_CLOSE_REQUESTED="tauri://close-requested",e.WINDOW_DESTROYED="tauri://destroyed",e.WINDOW_FOCUS="tauri://focus",e.WINDOW_BLUR="tauri://blur",e.WINDOW_SCALE_FACTOR_CHANGED="tauri://scale-change",e.WINDOW_THEME_CHANGED="tauri://theme-changed",e.WINDOW_CREATED="tauri://window-created",e.WEBVIEW_CREATED="tauri://webview-created",e.DRAG="tauri://drag",e.DROP="tauri://drop",e.DROP_OVER="tauri://drop-over",e.DROP_CANCELLED="tauri://drag-cancelled"})(Wn||(Wn={}));async function Cl(e,t){await x("plugin:event|unlisten",{event:e,eventId:t})}async function Uh(e,t,r){var n;let a=typeof r?.target=="string"?{kind:"AnyLabel",label:r.target}:(n=r?.target)!==null&&n!==void 0?n:{kind:"Any"};return x("plugin:event|listen",{event:e,target:a,handler:Hr(t)}).then(i=>async()=>Cl(e,i))}async function Ai(e,t,r){return Uh(e,n=>{t(n),Cl(e,n.id).catch(()=>{})},r)}async function Si(e,t){await x("plugin:event|emit",{event:e,payload:t})}async function Ei(e,t,r){await x("plugin:event|emit_to",{target:typeof e=="string"?{kind:"AnyLabel",label:e}:e,event:t,payload:r})}var K;(function(e){e[e.Audio=1]="Audio",e[e.Cache=2]="Cache",e[e.Config=3]="Config",e[e.Data=4]="Data",e[e.LocalData=5]="LocalData",e[e.Document=6]="Document",e[e.Download=7]="Download",e[e.Picture=8]="Picture",e[e.Public=9]="Public",e[e.Video=10]="Video",e[e.Resource=11]="Resource",e[e.Temp=12]="Temp",e[e.AppConfig=13]="AppConfig",e[e.AppData=14]="AppData",e[e.AppLocalData=15]="AppLocalData",e[e.AppCache=16]="AppCache",e[e.AppLog=17]="AppLog",e[e.Desktop=18]="Desktop",e[e.Executable=19]="Executable",e[e.Font=20]="Font",e[e.Home=21]="Home",e[e.Runtime=22]="Runtime",e[e.Template=23]="Template"})(K||(K={}));async function Ii(){return x("plugin:path|resolve_directory",{directory:K.AppConfig})}async function Ti(){return x("plugin:path|resolve_directory",{directory:K.AppData})}async function Oi(){return x("plugin:path|resolve_directory",{directory:K.AppLocalData})}async function Ci(){return x("plugin:path|resolve_directory",{directory:K.AppCache})}async function Ni(){return x("plugin:path|resolve_directory",{directory:K.Audio})}async function Ri(){return x("plugin:path|resolve_directory",{directory:K.Cache})}async function ki(){return x("plugin:path|resolve_directory",{directory:K.Config})}async function Di(){return x("plugin:path|resolve_directory",{directory:K.Data})}async function Mi(){return x("plugin:path|resolve_directory",{directory:K.Desktop})}async function Pi(){return x("plugin:path|resolve_directory",{directory:K.Document})}async function Li(){return x("plugin:path|resolve_directory",{directory:K.Download})}async function Fi(){return x("plugin:path|resolve_directory",{directory:K.Executable})}async function Ui(){return x("plugin:path|resolve_directory",{directory:K.Font})}async function ji(){return x("plugin:path|resolve_directory",{directory:K.Home})}async function Bi(){return x("plugin:path|resolve_directory",{directory:K.LocalData})}async function Wi(){return x("plugin:path|resolve_directory",{directory:K.Picture})}async function $i(){return x("plugin:path|resolve_directory",{directory:K.Public})}async function Vi(){return x("plugin:path|resolve_directory",{directory:K.Resource})}async function Hi(e){return x("plugin:path|resolve_directory",{directory:K.Resource,path:e})}async function Yi(){return x("plugin:path|resolve_directory",{directory:K.Runtime})}async function zi(){return x("plugin:path|resolve_directory",{directory:K.Template})}async function Gi(){return x("plugin:path|resolve_directory",{directory:K.Video})}async function Zi(){return x("plugin:path|resolve_directory",{directory:K.AppLog})}async function qi(){return x("plugin:path|resolve_directory",{directory:K.Temp})}function Ki(){return window.__TAURI_INTERNALS__.plugins.path.sep}function Xi(){return window.__TAURI_INTERNALS__.plugins.path.delimiter}async function Qi(...e){return x("plugin:path|resolve",{paths:e})}async function Ji(e){return x("plugin:path|normalize",{path:e})}async function eo(...e){return x("plugin:path|join",{paths:e})}async function to(e){return x("plugin:path|dirname",{path:e})}async function ro(e){return x("plugin:path|extname",{path:e})}async function no(e,t){return x("plugin:path|basename",{path:e,ext:t})}async function ao(e){return x("plugin:path|isAbsolute",{path:e})}async function io(e={}){return typeof e=="object"&&Object.freeze(e),await x("plugin:dialog|open",{options:e})}async function oo(e={}){return typeof e=="object"&&Object.freeze(e),await x("plugin:dialog|save",{options:e})}async function so(e,t){let r=typeof t=="string"?{title:t}:t;await x("plugin:dialog|message",{message:e.toString(),title:r?.title?.toString(),kind:r?.kind,okButtonLabel:r?.okLabel?.toString()})}async function uo(e,t){let r=typeof t=="string"?{title:t}:t;return await x("plugin:dialog|ask",{message:e.toString(),title:r?.title?.toString(),kind:r?.kind,okButtonLabel:r?.okLabel?.toString()??"Yes",cancelButtonLabel:r?.cancelLabel?.toString()??"No"})}async function lo(e,t){let r=typeof t=="string"?{title:t}:t;return await x("plugin:dialog|confirm",{message:e.toString(),title:r?.title?.toString(),kind:r?.kind,okButtonLabel:r?.okLabel?.toString()??"Ok",cancelButtonLabel:r?.cancelLabel?.toString()??"Cancel"})}var Nl;(function(e){e[e.Start=0]="Start",e[e.Current=1]="Current",e[e.End=2]="End"})(Nl||(Nl={}));function fo(e){return{isFile:e.isFile,isDirectory:e.isDirectory,isSymlink:e.isSymlink,size:e.size,mtime:e.mtime!==null?new Date(e.mtime):null,atime:e.atime!==null?new Date(e.atime):null,birthtime:e.birthtime!==null?new Date(e.birthtime):null,readonly:e.readonly,fileAttributes:e.fileAttributes,dev:e.dev,ino:e.ino,mode:e.mode,nlink:e.nlink,uid:e.uid,gid:e.gid,rdev:e.rdev,blksize:e.blksize,blocks:e.blocks}}var co=class extends Bn{async read(t){if(t.byteLength===0)return 0;let[r,n]=await x("plugin:fs|read",{rid:this.rid,len:t.byteLength});return t.set(r),n===0?null:n}async seek(t,r){return await x("plugin:fs|seek",{rid:this.rid,offset:t,whence:r})}async stat(){let t=await x("plugin:fs|fstat",{rid:this.rid});return fo(t)}async truncate(t){await x("plugin:fs|ftruncate",{rid:this.rid,len:t})}async write(t){return await x("plugin:fs|write",{rid:this.rid,data:Array.from(t)})}};async function po(e,t){if(e instanceof URL&&e.protocol!=="file:")throw new TypeError("Must be a file URL.");let r=await x("plugin:fs|create",{path:e instanceof URL?e.toString():e,options:t});return new co(r)}async function ho(e,t,r){if(e instanceof URL&&e.protocol!=="file:"||t instanceof URL&&t.protocol!=="file:")throw new TypeError("Must be a file URL.");await x("plugin:fs|copy_file",{fromPath:e instanceof URL?e.toString():e,toPath:t instanceof URL?t.toString():t,options:r})}async function mo(e,t){if(e instanceof URL&&e.protocol!=="file:")throw new TypeError("Must be a file URL.");await x("plugin:fs|mkdir",{path:e instanceof URL?e.toString():e,options:t})}async function go(e,t){if(e instanceof URL&&e.protocol!=="file:")throw new TypeError("Must be a file URL.");return await x("plugin:fs|read_dir",{path:e instanceof URL?e.toString():e,options:t})}async function yo(e,t){if(e instanceof URL&&e.protocol!=="file:")throw new TypeError("Must be a file URL.");let r=await x("plugin:fs|read_file",{path:e instanceof URL?e.toString():e,options:t});return r instanceof ArrayBuffer?new Uint8Array(r):Uint8Array.from(r)}async function vo(e,t){if(e instanceof URL&&e.protocol!=="file:")throw new TypeError("Must be a file URL.");return await x("plugin:fs|read_text_file",{path:e instanceof URL?e.toString():e,options:t})}async function bo(e,t){if(e instanceof URL&&e.protocol!=="file:")throw new TypeError("Must be a file URL.");await x("plugin:fs|remove",{path:e instanceof URL?e.toString():e,options:t})}async function wo(e,t,r){if(e instanceof URL&&e.protocol!=="file:"||t instanceof URL&&t.protocol!=="file:")throw new TypeError("Must be a file URL.");await x("plugin:fs|rename",{oldPath:e instanceof URL?e.toString():e,newPath:t instanceof URL?t.toString():t,options:r})}async function xo(e,t){let r=await x("plugin:fs|stat",{path:e instanceof URL?e.toString():e,options:t});return fo(r)}async function _o(e,t){let r=await x("plugin:fs|lstat",{path:e instanceof URL?e.toString():e,options:t});return fo(r)}async function Ao(e,t,r){if(e instanceof URL&&e.protocol!=="file:")throw new TypeError("Must be a file URL.");await x("plugin:fs|truncate",{path:e instanceof URL?e.toString():e,len:t,options:r})}async function So(e,t,r){if(e instanceof URL&&e.protocol!=="file:")throw new TypeError("Must be a file URL.");await x("plugin:fs|write_file",t,{headers:{path:e instanceof URL?e.toString():e,options:JSON.stringify(r)}})}async function Eo(e,t,r){if(e instanceof URL&&e.protocol!=="file:")throw new TypeError("Must be a file URL.");await x("plugin:fs|write_text_file",{path:e instanceof URL?e.toString():e,data:t,options:r})}async function Io(e,t){if(e instanceof URL&&e.protocol!=="file:")throw new TypeError("Must be a file URL.");return await x("plugin:fs|exists",{path:e instanceof URL?e.toString():e,options:t})}var Rl;(function(e){e.Year="year",e.Month="month",e.TwoWeeks="twoWeeks",e.Week="week",e.Day="day",e.Hour="hour",e.Minute="minute",e.Second="second"})(Rl||(Rl={}));var kl;(function(e){e[e.None=0]="None",e[e.Min=1]="Min",e[e.Low=2]="Low",e[e.Default=3]="Default",e[e.High=4]="High"})(kl||(kl={}));var Dl;(function(e){e[e.Secret=-1]="Secret",e[e.Private=0]="Private",e[e.Public=1]="Public"})(Dl||(Dl={}));async function To(){return window.Notification.permission!=="default"?await Promise.resolve(window.Notification.permission==="granted"):await x("plugin:notification|is_permission_granted")}async function Oo(){return await window.Notification.requestPermission()}function Co(e){typeof e=="string"?new window.Notification(e):new window.Notification(e.title,e)}async function No(e){await x("plugin:notification|register_action_types",{types:e})}async function Ro(){return await x("plugin:notification|get_pending")}async function ko(e){await x("plugin:notification|cancel",{notifications:e})}async function Do(){await x("plugin:notification|cancel")}async function Mo(){return await x("plugin:notification|get_active")}async function Po(e){await x("plugin:notification|remove_active",{notifications:e})}async function Lo(){await x("plugin:notification|remove_active")}async function Fo(e){await x("plugin:notification|create_channel",{...e})}async function Uo(e){await x("plugin:notification|delete_channel",{id:e})}async function jo(){return await x("plugin:notification|listChannels")}async function Bo(e){return await _i("notification","notification",e)}async function Wo(e){return await _i("notification","actionPerformed",e)}var jh,Bh,Wh,$h;function Ml(e,t=!1){return window.__TAURI_INTERNALS__.transformCallback(e,t)}jh=new WeakMap,Bh=new WeakMap,Wh=new WeakMap;async function W(e,t={},r){return window.__TAURI_INTERNALS__.invoke(e,t,r)}$h=new WeakMap;function $o(){return window.__TAURI_OS_PLUGIN_INTERNALS__.eol}async function Vo(){return await W("plugin:os|platform")}async function Ho(){return await W("plugin:os|version")}async function Yo(){return await W("plugin:os|family")}async function zo(){return await W("plugin:os|arch")}async function Go(){return await W("plugin:os|locale")}async function Zo(){return await W("plugin:os|exe_extension")}async function qo(){return await W("plugin:os|hostname")}var V;(function(e){e.assertEqual=a=>a;function t(a){}e.assertIs=t;function r(a){throw new Error}e.assertNever=r,e.arrayToEnum=a=>{let i={};for(let o of a)i[o]=o;return i},e.getValidEnumValues=a=>{let i=e.objectKeys(a).filter(s=>typeof a[a[s]]!="number"),o={};for(let s of i)o[s]=a[s];return e.objectValues(o)},e.objectValues=a=>e.objectKeys(a).map(function(i){return a[i]}),e.objectKeys=typeof Object.keys=="function"?a=>Object.keys(a):a=>{let i=[];for(let o in a)Object.prototype.hasOwnProperty.call(a,o)&&i.push(o);return i},e.find=(a,i)=>{for(let o of a)if(i(o))return o},e.isInteger=typeof Number.isInteger=="function"?a=>Number.isInteger(a):a=>typeof a=="number"&&isFinite(a)&&Math.floor(a)===a;function n(a,i=" | "){return a.map(o=>typeof o=="string"?`'${o}'`:o).join(i)}e.joinValues=n,e.jsonStringifyReplacer=(a,i)=>typeof i=="bigint"?i.toString():i})(V||(V={}));var Xo;(function(e){e.mergeShapes=(t,r)=>({...t,...r})})(Xo||(Xo={}));var T=V.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),ft=e=>{switch(typeof e){case"undefined":return T.undefined;case"string":return T.string;case"number":return isNaN(e)?T.nan:T.number;case"boolean":return T.boolean;case"function":return T.function;case"bigint":return T.bigint;case"symbol":return T.symbol;case"object":return Array.isArray(e)?T.array:e===null?T.null:e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?T.promise:typeof Map<"u"&&e instanceof Map?T.map:typeof Set<"u"&&e instanceof Set?T.set:typeof Date<"u"&&e instanceof Date?T.date:T.object;default:return T.unknown}},A=V.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),Vh=e=>JSON.stringify(e,null,2).replace(/"([^"]+)":/g,"$1:"),Ie=class e extends Error{constructor(t){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};let r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=t}get errors(){return this.issues}format(t){let r=t||function(i){return i.message},n={_errors:[]},a=i=>{for(let o of i.issues)if(o.code==="invalid_union")o.unionErrors.map(a);else if(o.code==="invalid_return_type")a(o.returnTypeError);else if(o.code==="invalid_arguments")a(o.argumentsError);else if(o.path.length===0)n._errors.push(r(o));else{let s=n,u=0;for(;u<o.path.length;){let l=o.path[u];u===o.path.length-1?(s[l]=s[l]||{_errors:[]},s[l]._errors.push(r(o))):s[l]=s[l]||{_errors:[]},s=s[l],u++}}};return a(this),n}static assert(t){if(!(t instanceof e))throw new Error(`Not a ZodError: ${t}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,V.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=r=>r.message){let r={},n=[];for(let a of this.issues)a.path.length>0?(r[a.path[0]]=r[a.path[0]]||[],r[a.path[0]].push(t(a))):n.push(t(a));return{formErrors:n,fieldErrors:r}}get formErrors(){return this.flatten()}};Ie.create=e=>new Ie(e);var lr=(e,t)=>{let r;switch(e.code){case A.invalid_type:e.received===T.undefined?r="Required":r=`Expected ${e.expected}, received ${e.received}`;break;case A.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(e.expected,V.jsonStringifyReplacer)}`;break;case A.unrecognized_keys:r=`Unrecognized key(s) in object: ${V.joinValues(e.keys,", ")}`;break;case A.invalid_union:r="Invalid input";break;case A.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${V.joinValues(e.options)}`;break;case A.invalid_enum_value:r=`Invalid enum value. Expected ${V.joinValues(e.options)}, received '${e.received}'`;break;case A.invalid_arguments:r="Invalid function arguments";break;case A.invalid_return_type:r="Invalid function return type";break;case A.invalid_date:r="Invalid date";break;case A.invalid_string:typeof e.validation=="object"?"includes"in e.validation?(r=`Invalid input: must include "${e.validation.includes}"`,typeof e.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?r=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?r=`Invalid input: must end with "${e.validation.endsWith}"`:V.assertNever(e.validation):e.validation!=="regex"?r=`Invalid ${e.validation}`:r="Invalid";break;case A.too_small:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:r="Invalid input";break;case A.too_big:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="bigint"?r=`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:r="Invalid input";break;case A.custom:r="Invalid input";break;case A.invalid_intersection_types:r="Intersection results could not be merged";break;case A.not_multiple_of:r=`Number must be a multiple of ${e.multipleOf}`;break;case A.not_finite:r="Number must be finite";break;default:r=t.defaultError,V.assertNever(e)}return{message:r}},Fl=lr;function Hh(e){Fl=e}function $n(){return Fl}var Vn=e=>{let{data:t,path:r,errorMaps:n,issueData:a}=e,i=[...r,...a.path||[]],o={...a,path:i};if(a.message!==void 0)return{...a,path:i,message:a.message};let s="",u=n.filter(l=>!!l).slice().reverse();for(let l of u)s=l(o,{data:t,defaultError:s}).message;return{...a,path:i,message:s}},Yh=[];function I(e,t){let r=$n(),n=Vn({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,r,r===lr?void 0:lr].filter(a=>!!a)});e.common.issues.push(n)}var pe=class e{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,r){let n=[];for(let a of r){if(a.status==="aborted")return L;a.status==="dirty"&&t.dirty(),n.push(a.value)}return{status:t.value,value:n}}static async mergeObjectAsync(t,r){let n=[];for(let a of r){let i=await a.key,o=await a.value;n.push({key:i,value:o})}return e.mergeObjectSync(t,n)}static mergeObjectSync(t,r){let n={};for(let a of r){let{key:i,value:o}=a;if(i.status==="aborted"||o.status==="aborted")return L;i.status==="dirty"&&t.dirty(),o.status==="dirty"&&t.dirty(),i.value!=="__proto__"&&(typeof o.value<"u"||a.alwaysSet)&&(n[i.value]=o.value)}return{status:t.value,value:n}}},L=Object.freeze({status:"aborted"}),ur=e=>({status:"dirty",value:e}),ve=e=>({status:"valid",value:e}),Qo=e=>e.status==="aborted",Jo=e=>e.status==="dirty",Gr=e=>e.status==="valid",Zr=e=>typeof Promise<"u"&&e instanceof Promise;function Hn(e,t,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(e):n?n.value:t.get(e)}function Ul(e,t,r,n,a){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!a)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!a:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?a.call(e,r):a?a.value=r:t.set(e,r),r}var R;(function(e){e.errToObj=t=>typeof t=="string"?{message:t}:t||{},e.toString=t=>typeof t=="string"?t:t?.message})(R||(R={}));var Yr,zr,De=class{constructor(t,r,n,a){this._cachedPath=[],this.parent=t,this.data=r,this._path=n,this._key=a}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}},Pl=(e,t)=>{if(Gr(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;let r=new Ie(e.common.issues);return this._error=r,this._error}}};function j(e){if(!e)return{};let{errorMap:t,invalid_type_error:r,required_error:n,description:a}=e;if(t&&(r||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return t?{errorMap:t,description:a}:{errorMap:(o,s)=>{var u,l;let{message:c}=e;return o.code==="invalid_enum_value"?{message:c??s.defaultError}:typeof s.data>"u"?{message:(u=c??n)!==null&&u!==void 0?u:s.defaultError}:o.code!=="invalid_type"?{message:s.defaultError}:{message:(l=c??r)!==null&&l!==void 0?l:s.defaultError}},description:a}}var B=class{constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(t){return ft(t.data)}_getOrReturnCtx(t,r){return r||{common:t.parent.common,data:t.data,parsedType:ft(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new pe,ctx:{common:t.parent.common,data:t.data,parsedType:ft(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){let r=this._parse(t);if(Zr(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(t){let r=this._parse(t);return Promise.resolve(r)}parse(t,r){let n=this.safeParse(t,r);if(n.success)return n.data;throw n.error}safeParse(t,r){var n;let a={common:{issues:[],async:(n=r?.async)!==null&&n!==void 0?n:!1,contextualErrorMap:r?.errorMap},path:r?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:ft(t)},i=this._parseSync({data:t,path:a.path,parent:a});return Pl(a,i)}async parseAsync(t,r){let n=await this.safeParseAsync(t,r);if(n.success)return n.data;throw n.error}async safeParseAsync(t,r){let n={common:{issues:[],contextualErrorMap:r?.errorMap,async:!0},path:r?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:ft(t)},a=this._parse({data:t,path:n.path,parent:n}),i=await(Zr(a)?a:Promise.resolve(a));return Pl(n,i)}refine(t,r){let n=a=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(a):r;return this._refinement((a,i)=>{let o=t(a),s=()=>i.addIssue({code:A.custom,...n(a)});return typeof Promise<"u"&&o instanceof Promise?o.then(u=>u?!0:(s(),!1)):o?!0:(s(),!1)})}refinement(t,r){return this._refinement((n,a)=>t(n)?!0:(a.addIssue(typeof r=="function"?r(n,a):r),!1))}_refinement(t){return new Te({schema:this,typeName:P.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}optional(){return ke.create(this,this._def)}nullable(){return je.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Ze.create(this,this._def)}promise(){return mt.create(this,this._def)}or(t){return Lt.create([this,t],this._def)}and(t){return Ft.create(this,t,this._def)}transform(t){return new Te({...j(this._def),schema:this,typeName:P.ZodEffects,effect:{type:"transform",transform:t}})}default(t){let r=typeof t=="function"?t:()=>t;return new $t({...j(this._def),innerType:this,defaultValue:r,typeName:P.ZodDefault})}brand(){return new qr({typeName:P.ZodBranded,type:this,...j(this._def)})}catch(t){let r=typeof t=="function"?t:()=>t;return new Vt({...j(this._def),innerType:this,catchValue:r,typeName:P.ZodCatch})}describe(t){let r=this.constructor;return new r({...this._def,description:t})}pipe(t){return Kr.create(this,t)}readonly(){return Ht.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}},zh=/^c[^\s-]{8,}$/i,Gh=/^[0-9a-z]+$/,Zh=/^[0-9A-HJKMNP-TV-Z]{26}$/,qh=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,Kh=/^[a-z0-9_-]{21}$/i,Xh=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,Qh=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,Jh="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$",Ko,em=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,tm=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,rm=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,jl="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",nm=new RegExp(`^${jl}$`);function Bl(e){let t="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return e.precision?t=`${t}\\.\\d{${e.precision}}`:e.precision==null&&(t=`${t}(\\.\\d+)?`),t}function am(e){return new RegExp(`^${Bl(e)}$`)}function Wl(e){let t=`${jl}T${Bl(e)}`,r=[];return r.push(e.local?"Z?":"Z"),e.offset&&r.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${r.join("|")})`,new RegExp(`^${t}$`)}function im(e,t){return!!((t==="v4"||!t)&&em.test(e)||(t==="v6"||!t)&&tm.test(e))}var pt=class e extends B{_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==T.string){let i=this._getOrReturnCtx(t);return I(i,{code:A.invalid_type,expected:T.string,received:i.parsedType}),L}let n=new pe,a;for(let i of this._def.checks)if(i.kind==="min")t.data.length<i.value&&(a=this._getOrReturnCtx(t,a),I(a,{code:A.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),n.dirty());else if(i.kind==="max")t.data.length>i.value&&(a=this._getOrReturnCtx(t,a),I(a,{code:A.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),n.dirty());else if(i.kind==="length"){let o=t.data.length>i.value,s=t.data.length<i.value;(o||s)&&(a=this._getOrReturnCtx(t,a),o?I(a,{code:A.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):s&&I(a,{code:A.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),n.dirty())}else if(i.kind==="email")Qh.test(t.data)||(a=this._getOrReturnCtx(t,a),I(a,{validation:"email",code:A.invalid_string,message:i.message}),n.dirty());else if(i.kind==="emoji")Ko||(Ko=new RegExp(Jh,"u")),Ko.test(t.data)||(a=this._getOrReturnCtx(t,a),I(a,{validation:"emoji",code:A.invalid_string,message:i.message}),n.dirty());else if(i.kind==="uuid")qh.test(t.data)||(a=this._getOrReturnCtx(t,a),I(a,{validation:"uuid",code:A.invalid_string,message:i.message}),n.dirty());else if(i.kind==="nanoid")Kh.test(t.data)||(a=this._getOrReturnCtx(t,a),I(a,{validation:"nanoid",code:A.invalid_string,message:i.message}),n.dirty());else if(i.kind==="cuid")zh.test(t.data)||(a=this._getOrReturnCtx(t,a),I(a,{validation:"cuid",code:A.invalid_string,message:i.message}),n.dirty());else if(i.kind==="cuid2")Gh.test(t.data)||(a=this._getOrReturnCtx(t,a),I(a,{validation:"cuid2",code:A.invalid_string,message:i.message}),n.dirty());else if(i.kind==="ulid")Zh.test(t.data)||(a=this._getOrReturnCtx(t,a),I(a,{validation:"ulid",code:A.invalid_string,message:i.message}),n.dirty());else if(i.kind==="url")try{new URL(t.data)}catch{a=this._getOrReturnCtx(t,a),I(a,{validation:"url",code:A.invalid_string,message:i.message}),n.dirty()}else i.kind==="regex"?(i.regex.lastIndex=0,i.regex.test(t.data)||(a=this._getOrReturnCtx(t,a),I(a,{validation:"regex",code:A.invalid_string,message:i.message}),n.dirty())):i.kind==="trim"?t.data=t.data.trim():i.kind==="includes"?t.data.includes(i.value,i.position)||(a=this._getOrReturnCtx(t,a),I(a,{code:A.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),n.dirty()):i.kind==="toLowerCase"?t.data=t.data.toLowerCase():i.kind==="toUpperCase"?t.data=t.data.toUpperCase():i.kind==="startsWith"?t.data.startsWith(i.value)||(a=this._getOrReturnCtx(t,a),I(a,{code:A.invalid_string,validation:{startsWith:i.value},message:i.message}),n.dirty()):i.kind==="endsWith"?t.data.endsWith(i.value)||(a=this._getOrReturnCtx(t,a),I(a,{code:A.invalid_string,validation:{endsWith:i.value},message:i.message}),n.dirty()):i.kind==="datetime"?Wl(i).test(t.data)||(a=this._getOrReturnCtx(t,a),I(a,{code:A.invalid_string,validation:"datetime",message:i.message}),n.dirty()):i.kind==="date"?nm.test(t.data)||(a=this._getOrReturnCtx(t,a),I(a,{code:A.invalid_string,validation:"date",message:i.message}),n.dirty()):i.kind==="time"?am(i).test(t.data)||(a=this._getOrReturnCtx(t,a),I(a,{code:A.invalid_string,validation:"time",message:i.message}),n.dirty()):i.kind==="duration"?Xh.test(t.data)||(a=this._getOrReturnCtx(t,a),I(a,{validation:"duration",code:A.invalid_string,message:i.message}),n.dirty()):i.kind==="ip"?im(t.data,i.version)||(a=this._getOrReturnCtx(t,a),I(a,{validation:"ip",code:A.invalid_string,message:i.message}),n.dirty()):i.kind==="base64"?rm.test(t.data)||(a=this._getOrReturnCtx(t,a),I(a,{validation:"base64",code:A.invalid_string,message:i.message}),n.dirty()):V.assertNever(i);return{status:n.value,value:t.data}}_regex(t,r,n){return this.refinement(a=>t.test(a),{validation:r,code:A.invalid_string,...R.errToObj(n)})}_addCheck(t){return new e({...this._def,checks:[...this._def.checks,t]})}email(t){return this._addCheck({kind:"email",...R.errToObj(t)})}url(t){return this._addCheck({kind:"url",...R.errToObj(t)})}emoji(t){return this._addCheck({kind:"emoji",...R.errToObj(t)})}uuid(t){return this._addCheck({kind:"uuid",...R.errToObj(t)})}nanoid(t){return this._addCheck({kind:"nanoid",...R.errToObj(t)})}cuid(t){return this._addCheck({kind:"cuid",...R.errToObj(t)})}cuid2(t){return this._addCheck({kind:"cuid2",...R.errToObj(t)})}ulid(t){return this._addCheck({kind:"ulid",...R.errToObj(t)})}base64(t){return this._addCheck({kind:"base64",...R.errToObj(t)})}ip(t){return this._addCheck({kind:"ip",...R.errToObj(t)})}datetime(t){var r,n;return typeof t=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:t}):this._addCheck({kind:"datetime",precision:typeof t?.precision>"u"?null:t?.precision,offset:(r=t?.offset)!==null&&r!==void 0?r:!1,local:(n=t?.local)!==null&&n!==void 0?n:!1,...R.errToObj(t?.message)})}date(t){return this._addCheck({kind:"date",message:t})}time(t){return typeof t=="string"?this._addCheck({kind:"time",precision:null,message:t}):this._addCheck({kind:"time",precision:typeof t?.precision>"u"?null:t?.precision,...R.errToObj(t?.message)})}duration(t){return this._addCheck({kind:"duration",...R.errToObj(t)})}regex(t,r){return this._addCheck({kind:"regex",regex:t,...R.errToObj(r)})}includes(t,r){return this._addCheck({kind:"includes",value:t,position:r?.position,...R.errToObj(r?.message)})}startsWith(t,r){return this._addCheck({kind:"startsWith",value:t,...R.errToObj(r)})}endsWith(t,r){return this._addCheck({kind:"endsWith",value:t,...R.errToObj(r)})}min(t,r){return this._addCheck({kind:"min",value:t,...R.errToObj(r)})}max(t,r){return this._addCheck({kind:"max",value:t,...R.errToObj(r)})}length(t,r){return this._addCheck({kind:"length",value:t,...R.errToObj(r)})}nonempty(t){return this.min(1,R.errToObj(t))}trim(){return new e({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new e({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new e({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(t=>t.kind==="datetime")}get isDate(){return!!this._def.checks.find(t=>t.kind==="date")}get isTime(){return!!this._def.checks.find(t=>t.kind==="time")}get isDuration(){return!!this._def.checks.find(t=>t.kind==="duration")}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isEmoji(){return!!this._def.checks.find(t=>t.kind==="emoji")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(t=>t.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(t=>t.kind==="cuid2")}get isULID(){return!!this._def.checks.find(t=>t.kind==="ulid")}get isIP(){return!!this._def.checks.find(t=>t.kind==="ip")}get isBase64(){return!!this._def.checks.find(t=>t.kind==="base64")}get minLength(){let t=null;for(let r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxLength(){let t=null;for(let r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}};pt.create=e=>{var t;return new pt({checks:[],typeName:P.ZodString,coerce:(t=e?.coerce)!==null&&t!==void 0?t:!1,...j(e)})};function om(e,t){let r=(e.toString().split(".")[1]||"").length,n=(t.toString().split(".")[1]||"").length,a=r>n?r:n,i=parseInt(e.toFixed(a).replace(".","")),o=parseInt(t.toFixed(a).replace(".",""));return i%o/Math.pow(10,a)}var Nt=class e extends B{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==T.number){let i=this._getOrReturnCtx(t);return I(i,{code:A.invalid_type,expected:T.number,received:i.parsedType}),L}let n,a=new pe;for(let i of this._def.checks)i.kind==="int"?V.isInteger(t.data)||(n=this._getOrReturnCtx(t,n),I(n,{code:A.invalid_type,expected:"integer",received:"float",message:i.message}),a.dirty()):i.kind==="min"?(i.inclusive?t.data<i.value:t.data<=i.value)&&(n=this._getOrReturnCtx(t,n),I(n,{code:A.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),a.dirty()):i.kind==="max"?(i.inclusive?t.data>i.value:t.data>=i.value)&&(n=this._getOrReturnCtx(t,n),I(n,{code:A.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),a.dirty()):i.kind==="multipleOf"?om(t.data,i.value)!==0&&(n=this._getOrReturnCtx(t,n),I(n,{code:A.not_multiple_of,multipleOf:i.value,message:i.message}),a.dirty()):i.kind==="finite"?Number.isFinite(t.data)||(n=this._getOrReturnCtx(t,n),I(n,{code:A.not_finite,message:i.message}),a.dirty()):V.assertNever(i);return{status:a.value,value:t.data}}gte(t,r){return this.setLimit("min",t,!0,R.toString(r))}gt(t,r){return this.setLimit("min",t,!1,R.toString(r))}lte(t,r){return this.setLimit("max",t,!0,R.toString(r))}lt(t,r){return this.setLimit("max",t,!1,R.toString(r))}setLimit(t,r,n,a){return new e({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:n,message:R.toString(a)}]})}_addCheck(t){return new e({...this._def,checks:[...this._def.checks,t]})}int(t){return this._addCheck({kind:"int",message:R.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:R.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:R.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:R.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:R.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:R.toString(r)})}finite(t){return this._addCheck({kind:"finite",message:R.toString(t)})}safe(t){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:R.toString(t)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:R.toString(t)})}get minValue(){let t=null;for(let r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(let r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int"||t.kind==="multipleOf"&&V.isInteger(t.value))}get isFinite(){let t=null,r=null;for(let n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(r===null||n.value>r)&&(r=n.value):n.kind==="max"&&(t===null||n.value<t)&&(t=n.value)}return Number.isFinite(r)&&Number.isFinite(t)}};Nt.create=e=>new Nt({checks:[],typeName:P.ZodNumber,coerce:e?.coerce||!1,...j(e)});var Rt=class e extends B{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){if(this._def.coerce&&(t.data=BigInt(t.data)),this._getType(t)!==T.bigint){let i=this._getOrReturnCtx(t);return I(i,{code:A.invalid_type,expected:T.bigint,received:i.parsedType}),L}let n,a=new pe;for(let i of this._def.checks)i.kind==="min"?(i.inclusive?t.data<i.value:t.data<=i.value)&&(n=this._getOrReturnCtx(t,n),I(n,{code:A.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),a.dirty()):i.kind==="max"?(i.inclusive?t.data>i.value:t.data>=i.value)&&(n=this._getOrReturnCtx(t,n),I(n,{code:A.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),a.dirty()):i.kind==="multipleOf"?t.data%i.value!==BigInt(0)&&(n=this._getOrReturnCtx(t,n),I(n,{code:A.not_multiple_of,multipleOf:i.value,message:i.message}),a.dirty()):V.assertNever(i);return{status:a.value,value:t.data}}gte(t,r){return this.setLimit("min",t,!0,R.toString(r))}gt(t,r){return this.setLimit("min",t,!1,R.toString(r))}lte(t,r){return this.setLimit("max",t,!0,R.toString(r))}lt(t,r){return this.setLimit("max",t,!1,R.toString(r))}setLimit(t,r,n,a){return new e({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:n,message:R.toString(a)}]})}_addCheck(t){return new e({...this._def,checks:[...this._def.checks,t]})}positive(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:R.toString(t)})}negative(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:R.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:R.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:R.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:R.toString(r)})}get minValue(){let t=null;for(let r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(let r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}};Rt.create=e=>{var t;return new Rt({checks:[],typeName:P.ZodBigInt,coerce:(t=e?.coerce)!==null&&t!==void 0?t:!1,...j(e)})};var kt=class extends B{_parse(t){if(this._def.coerce&&(t.data=!!t.data),this._getType(t)!==T.boolean){let n=this._getOrReturnCtx(t);return I(n,{code:A.invalid_type,expected:T.boolean,received:n.parsedType}),L}return ve(t.data)}};kt.create=e=>new kt({typeName:P.ZodBoolean,coerce:e?.coerce||!1,...j(e)});var Dt=class e extends B{_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==T.date){let i=this._getOrReturnCtx(t);return I(i,{code:A.invalid_type,expected:T.date,received:i.parsedType}),L}if(isNaN(t.data.getTime())){let i=this._getOrReturnCtx(t);return I(i,{code:A.invalid_date}),L}let n=new pe,a;for(let i of this._def.checks)i.kind==="min"?t.data.getTime()<i.value&&(a=this._getOrReturnCtx(t,a),I(a,{code:A.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),n.dirty()):i.kind==="max"?t.data.getTime()>i.value&&(a=this._getOrReturnCtx(t,a),I(a,{code:A.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),n.dirty()):V.assertNever(i);return{status:n.value,value:new Date(t.data.getTime())}}_addCheck(t){return new e({...this._def,checks:[...this._def.checks,t]})}min(t,r){return this._addCheck({kind:"min",value:t.getTime(),message:R.toString(r)})}max(t,r){return this._addCheck({kind:"max",value:t.getTime(),message:R.toString(r)})}get minDate(){let t=null;for(let r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(let r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t!=null?new Date(t):null}};Dt.create=e=>new Dt({checks:[],coerce:e?.coerce||!1,typeName:P.ZodDate,...j(e)});var cr=class extends B{_parse(t){if(this._getType(t)!==T.symbol){let n=this._getOrReturnCtx(t);return I(n,{code:A.invalid_type,expected:T.symbol,received:n.parsedType}),L}return ve(t.data)}};cr.create=e=>new cr({typeName:P.ZodSymbol,...j(e)});var Mt=class extends B{_parse(t){if(this._getType(t)!==T.undefined){let n=this._getOrReturnCtx(t);return I(n,{code:A.invalid_type,expected:T.undefined,received:n.parsedType}),L}return ve(t.data)}};Mt.create=e=>new Mt({typeName:P.ZodUndefined,...j(e)});var Pt=class extends B{_parse(t){if(this._getType(t)!==T.null){let n=this._getOrReturnCtx(t);return I(n,{code:A.invalid_type,expected:T.null,received:n.parsedType}),L}return ve(t.data)}};Pt.create=e=>new Pt({typeName:P.ZodNull,...j(e)});var ht=class extends B{constructor(){super(...arguments),this._any=!0}_parse(t){return ve(t.data)}};ht.create=e=>new ht({typeName:P.ZodAny,...j(e)});var Ge=class extends B{constructor(){super(...arguments),this._unknown=!0}_parse(t){return ve(t.data)}};Ge.create=e=>new Ge({typeName:P.ZodUnknown,...j(e)});var Pe=class extends B{_parse(t){let r=this._getOrReturnCtx(t);return I(r,{code:A.invalid_type,expected:T.never,received:r.parsedType}),L}};Pe.create=e=>new Pe({typeName:P.ZodNever,...j(e)});var dr=class extends B{_parse(t){if(this._getType(t)!==T.undefined){let n=this._getOrReturnCtx(t);return I(n,{code:A.invalid_type,expected:T.void,received:n.parsedType}),L}return ve(t.data)}};dr.create=e=>new dr({typeName:P.ZodVoid,...j(e)});var Ze=class e extends B{_parse(t){let{ctx:r,status:n}=this._processInputParams(t),a=this._def;if(r.parsedType!==T.array)return I(r,{code:A.invalid_type,expected:T.array,received:r.parsedType}),L;if(a.exactLength!==null){let o=r.data.length>a.exactLength.value,s=r.data.length<a.exactLength.value;(o||s)&&(I(r,{code:o?A.too_big:A.too_small,minimum:s?a.exactLength.value:void 0,maximum:o?a.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:a.exactLength.message}),n.dirty())}if(a.minLength!==null&&r.data.length<a.minLength.value&&(I(r,{code:A.too_small,minimum:a.minLength.value,type:"array",inclusive:!0,exact:!1,message:a.minLength.message}),n.dirty()),a.maxLength!==null&&r.data.length>a.maxLength.value&&(I(r,{code:A.too_big,maximum:a.maxLength.value,type:"array",inclusive:!0,exact:!1,message:a.maxLength.message}),n.dirty()),r.common.async)return Promise.all([...r.data].map((o,s)=>a.type._parseAsync(new De(r,o,r.path,s)))).then(o=>pe.mergeArray(n,o));let i=[...r.data].map((o,s)=>a.type._parseSync(new De(r,o,r.path,s)));return pe.mergeArray(n,i)}get element(){return this._def.type}min(t,r){return new e({...this._def,minLength:{value:t,message:R.toString(r)}})}max(t,r){return new e({...this._def,maxLength:{value:t,message:R.toString(r)}})}length(t,r){return new e({...this._def,exactLength:{value:t,message:R.toString(r)}})}nonempty(t){return this.min(1,t)}};Ze.create=(e,t)=>new Ze({type:e,minLength:null,maxLength:null,exactLength:null,typeName:P.ZodArray,...j(t)});function sr(e){if(e instanceof _e){let t={};for(let r in e.shape){let n=e.shape[r];t[r]=ke.create(sr(n))}return new _e({...e._def,shape:()=>t})}else return e instanceof Ze?new Ze({...e._def,type:sr(e.element)}):e instanceof ke?ke.create(sr(e.unwrap())):e instanceof je?je.create(sr(e.unwrap())):e instanceof Ue?Ue.create(e.items.map(t=>sr(t))):e}var _e=class e extends B{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;let t=this._def.shape(),r=V.objectKeys(t);return this._cached={shape:t,keys:r}}_parse(t){if(this._getType(t)!==T.object){let l=this._getOrReturnCtx(t);return I(l,{code:A.invalid_type,expected:T.object,received:l.parsedType}),L}let{status:n,ctx:a}=this._processInputParams(t),{shape:i,keys:o}=this._getCached(),s=[];if(!(this._def.catchall instanceof Pe&&this._def.unknownKeys==="strip"))for(let l in a.data)o.includes(l)||s.push(l);let u=[];for(let l of o){let c=i[l],d=a.data[l];u.push({key:{status:"valid",value:l},value:c._parse(new De(a,d,a.path,l)),alwaysSet:l in a.data})}if(this._def.catchall instanceof Pe){let l=this._def.unknownKeys;if(l==="passthrough")for(let c of s)u.push({key:{status:"valid",value:c},value:{status:"valid",value:a.data[c]}});else if(l==="strict")s.length>0&&(I(a,{code:A.unrecognized_keys,keys:s}),n.dirty());else if(l!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{let l=this._def.catchall;for(let c of s){let d=a.data[c];u.push({key:{status:"valid",value:c},value:l._parse(new De(a,d,a.path,c)),alwaysSet:c in a.data})}}return a.common.async?Promise.resolve().then(async()=>{let l=[];for(let c of u){let d=await c.key,f=await c.value;l.push({key:d,value:f,alwaysSet:c.alwaysSet})}return l}).then(l=>pe.mergeObjectSync(n,l)):pe.mergeObjectSync(n,u)}get shape(){return this._def.shape()}strict(t){return R.errToObj,new e({...this._def,unknownKeys:"strict",...t!==void 0?{errorMap:(r,n)=>{var a,i,o,s;let u=(o=(i=(a=this._def).errorMap)===null||i===void 0?void 0:i.call(a,r,n).message)!==null&&o!==void 0?o:n.defaultError;return r.code==="unrecognized_keys"?{message:(s=R.errToObj(t).message)!==null&&s!==void 0?s:u}:{message:u}}}:{}})}strip(){return new e({...this._def,unknownKeys:"strip"})}passthrough(){return new e({...this._def,unknownKeys:"passthrough"})}extend(t){return new e({...this._def,shape:()=>({...this._def.shape(),...t})})}merge(t){return new e({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>({...this._def.shape(),...t._def.shape()}),typeName:P.ZodObject})}setKey(t,r){return this.augment({[t]:r})}catchall(t){return new e({...this._def,catchall:t})}pick(t){let r={};return V.objectKeys(t).forEach(n=>{t[n]&&this.shape[n]&&(r[n]=this.shape[n])}),new e({...this._def,shape:()=>r})}omit(t){let r={};return V.objectKeys(this.shape).forEach(n=>{t[n]||(r[n]=this.shape[n])}),new e({...this._def,shape:()=>r})}deepPartial(){return sr(this)}partial(t){let r={};return V.objectKeys(this.shape).forEach(n=>{let a=this.shape[n];t&&!t[n]?r[n]=a:r[n]=a.optional()}),new e({...this._def,shape:()=>r})}required(t){let r={};return V.objectKeys(this.shape).forEach(n=>{if(t&&!t[n])r[n]=this.shape[n];else{let i=this.shape[n];for(;i instanceof ke;)i=i._def.innerType;r[n]=i}}),new e({...this._def,shape:()=>r})}keyof(){return $l(V.objectKeys(this.shape))}};_e.create=(e,t)=>new _e({shape:()=>e,unknownKeys:"strip",catchall:Pe.create(),typeName:P.ZodObject,...j(t)});_e.strictCreate=(e,t)=>new _e({shape:()=>e,unknownKeys:"strict",catchall:Pe.create(),typeName:P.ZodObject,...j(t)});_e.lazycreate=(e,t)=>new _e({shape:e,unknownKeys:"strip",catchall:Pe.create(),typeName:P.ZodObject,...j(t)});var Lt=class extends B{_parse(t){let{ctx:r}=this._processInputParams(t),n=this._def.options;function a(i){for(let s of i)if(s.result.status==="valid")return s.result;for(let s of i)if(s.result.status==="dirty")return r.common.issues.push(...s.ctx.common.issues),s.result;let o=i.map(s=>new Ie(s.ctx.common.issues));return I(r,{code:A.invalid_union,unionErrors:o}),L}if(r.common.async)return Promise.all(n.map(async i=>{let o={...r,common:{...r.common,issues:[]},parent:null};return{result:await i._parseAsync({data:r.data,path:r.path,parent:o}),ctx:o}})).then(a);{let i,o=[];for(let u of n){let l={...r,common:{...r.common,issues:[]},parent:null},c=u._parseSync({data:r.data,path:r.path,parent:l});if(c.status==="valid")return c;c.status==="dirty"&&!i&&(i={result:c,ctx:l}),l.common.issues.length&&o.push(l.common.issues)}if(i)return r.common.issues.push(...i.ctx.common.issues),i.result;let s=o.map(u=>new Ie(u));return I(r,{code:A.invalid_union,unionErrors:s}),L}}get options(){return this._def.options}};Lt.create=(e,t)=>new Lt({options:e,typeName:P.ZodUnion,...j(t)});var ze=e=>e instanceof Ut?ze(e.schema):e instanceof Te?ze(e.innerType()):e instanceof jt?[e.value]:e instanceof Bt?e.options:e instanceof Wt?V.objectValues(e.enum):e instanceof $t?ze(e._def.innerType):e instanceof Mt?[void 0]:e instanceof Pt?[null]:e instanceof ke?[void 0,...ze(e.unwrap())]:e instanceof je?[null,...ze(e.unwrap())]:e instanceof qr||e instanceof Ht?ze(e.unwrap()):e instanceof Vt?ze(e._def.innerType):[],Yn=class e extends B{_parse(t){let{ctx:r}=this._processInputParams(t);if(r.parsedType!==T.object)return I(r,{code:A.invalid_type,expected:T.object,received:r.parsedType}),L;let n=this.discriminator,a=r.data[n],i=this.optionsMap.get(a);return i?r.common.async?i._parseAsync({data:r.data,path:r.path,parent:r}):i._parseSync({data:r.data,path:r.path,parent:r}):(I(r,{code:A.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[n]}),L)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(t,r,n){let a=new Map;for(let i of r){let o=ze(i.shape[t]);if(!o.length)throw new Error(`A discriminator value for key \`${t}\` could not be extracted from all schema options`);for(let s of o){if(a.has(s))throw new Error(`Discriminator property ${String(t)} has duplicate value ${String(s)}`);a.set(s,i)}}return new e({typeName:P.ZodDiscriminatedUnion,discriminator:t,options:r,optionsMap:a,...j(n)})}};function es(e,t){let r=ft(e),n=ft(t);if(e===t)return{valid:!0,data:e};if(r===T.object&&n===T.object){let a=V.objectKeys(t),i=V.objectKeys(e).filter(s=>a.indexOf(s)!==-1),o={...e,...t};for(let s of i){let u=es(e[s],t[s]);if(!u.valid)return{valid:!1};o[s]=u.data}return{valid:!0,data:o}}else if(r===T.array&&n===T.array){if(e.length!==t.length)return{valid:!1};let a=[];for(let i=0;i<e.length;i++){let o=e[i],s=t[i],u=es(o,s);if(!u.valid)return{valid:!1};a.push(u.data)}return{valid:!0,data:a}}else return r===T.date&&n===T.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}var Ft=class extends B{_parse(t){let{status:r,ctx:n}=this._processInputParams(t),a=(i,o)=>{if(Qo(i)||Qo(o))return L;let s=es(i.value,o.value);return s.valid?((Jo(i)||Jo(o))&&r.dirty(),{status:r.value,value:s.data}):(I(n,{code:A.invalid_intersection_types}),L)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([i,o])=>a(i,o)):a(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}};Ft.create=(e,t,r)=>new Ft({left:e,right:t,typeName:P.ZodIntersection,...j(r)});var Ue=class e extends B{_parse(t){let{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==T.array)return I(n,{code:A.invalid_type,expected:T.array,received:n.parsedType}),L;if(n.data.length<this._def.items.length)return I(n,{code:A.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),L;!this._def.rest&&n.data.length>this._def.items.length&&(I(n,{code:A.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());let i=[...n.data].map((o,s)=>{let u=this._def.items[s]||this._def.rest;return u?u._parse(new De(n,o,n.path,s)):null}).filter(o=>!!o);return n.common.async?Promise.all(i).then(o=>pe.mergeArray(r,o)):pe.mergeArray(r,i)}get items(){return this._def.items}rest(t){return new e({...this._def,rest:t})}};Ue.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Ue({items:e,typeName:P.ZodTuple,rest:null,...j(t)})};var zn=class e extends B{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){let{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==T.object)return I(n,{code:A.invalid_type,expected:T.object,received:n.parsedType}),L;let a=[],i=this._def.keyType,o=this._def.valueType;for(let s in n.data)a.push({key:i._parse(new De(n,s,n.path,s)),value:o._parse(new De(n,n.data[s],n.path,s)),alwaysSet:s in n.data});return n.common.async?pe.mergeObjectAsync(r,a):pe.mergeObjectSync(r,a)}get element(){return this._def.valueType}static create(t,r,n){return r instanceof B?new e({keyType:t,valueType:r,typeName:P.ZodRecord,...j(n)}):new e({keyType:pt.create(),valueType:t,typeName:P.ZodRecord,...j(r)})}},fr=class extends B{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){let{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==T.map)return I(n,{code:A.invalid_type,expected:T.map,received:n.parsedType}),L;let a=this._def.keyType,i=this._def.valueType,o=[...n.data.entries()].map(([s,u],l)=>({key:a._parse(new De(n,s,n.path,[l,"key"])),value:i._parse(new De(n,u,n.path,[l,"value"]))}));if(n.common.async){let s=new Map;return Promise.resolve().then(async()=>{for(let u of o){let l=await u.key,c=await u.value;if(l.status==="aborted"||c.status==="aborted")return L;(l.status==="dirty"||c.status==="dirty")&&r.dirty(),s.set(l.value,c.value)}return{status:r.value,value:s}})}else{let s=new Map;for(let u of o){let l=u.key,c=u.value;if(l.status==="aborted"||c.status==="aborted")return L;(l.status==="dirty"||c.status==="dirty")&&r.dirty(),s.set(l.value,c.value)}return{status:r.value,value:s}}}};fr.create=(e,t,r)=>new fr({valueType:t,keyType:e,typeName:P.ZodMap,...j(r)});var pr=class e extends B{_parse(t){let{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==T.set)return I(n,{code:A.invalid_type,expected:T.set,received:n.parsedType}),L;let a=this._def;a.minSize!==null&&n.data.size<a.minSize.value&&(I(n,{code:A.too_small,minimum:a.minSize.value,type:"set",inclusive:!0,exact:!1,message:a.minSize.message}),r.dirty()),a.maxSize!==null&&n.data.size>a.maxSize.value&&(I(n,{code:A.too_big,maximum:a.maxSize.value,type:"set",inclusive:!0,exact:!1,message:a.maxSize.message}),r.dirty());let i=this._def.valueType;function o(u){let l=new Set;for(let c of u){if(c.status==="aborted")return L;c.status==="dirty"&&r.dirty(),l.add(c.value)}return{status:r.value,value:l}}let s=[...n.data.values()].map((u,l)=>i._parse(new De(n,u,n.path,l)));return n.common.async?Promise.all(s).then(u=>o(u)):o(s)}min(t,r){return new e({...this._def,minSize:{value:t,message:R.toString(r)}})}max(t,r){return new e({...this._def,maxSize:{value:t,message:R.toString(r)}})}size(t,r){return this.min(t,r).max(t,r)}nonempty(t){return this.min(1,t)}};pr.create=(e,t)=>new pr({valueType:e,minSize:null,maxSize:null,typeName:P.ZodSet,...j(t)});var Gn=class e extends B{constructor(){super(...arguments),this.validate=this.implement}_parse(t){let{ctx:r}=this._processInputParams(t);if(r.parsedType!==T.function)return I(r,{code:A.invalid_type,expected:T.function,received:r.parsedType}),L;function n(s,u){return Vn({data:s,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,$n(),lr].filter(l=>!!l),issueData:{code:A.invalid_arguments,argumentsError:u}})}function a(s,u){return Vn({data:s,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,$n(),lr].filter(l=>!!l),issueData:{code:A.invalid_return_type,returnTypeError:u}})}let i={errorMap:r.common.contextualErrorMap},o=r.data;if(this._def.returns instanceof mt){let s=this;return ve(async function(...u){let l=new Ie([]),c=await s._def.args.parseAsync(u,i).catch(p=>{throw l.addIssue(n(u,p)),l}),d=await Reflect.apply(o,this,c);return await s._def.returns._def.type.parseAsync(d,i).catch(p=>{throw l.addIssue(a(d,p)),l})})}else{let s=this;return ve(function(...u){let l=s._def.args.safeParse(u,i);if(!l.success)throw new Ie([n(u,l.error)]);let c=Reflect.apply(o,this,l.data),d=s._def.returns.safeParse(c,i);if(!d.success)throw new Ie([a(c,d.error)]);return d.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...t){return new e({...this._def,args:Ue.create(t).rest(Ge.create())})}returns(t){return new e({...this._def,returns:t})}implement(t){return this.parse(t)}strictImplement(t){return this.parse(t)}static create(t,r,n){return new e({args:t||Ue.create([]).rest(Ge.create()),returns:r||Ge.create(),typeName:P.ZodFunction,...j(n)})}},Ut=class extends B{get schema(){return this._def.getter()}_parse(t){let{ctx:r}=this._processInputParams(t);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}};Ut.create=(e,t)=>new Ut({getter:e,typeName:P.ZodLazy,...j(t)});var jt=class extends B{_parse(t){if(t.data!==this._def.value){let r=this._getOrReturnCtx(t);return I(r,{received:r.data,code:A.invalid_literal,expected:this._def.value}),L}return{status:"valid",value:t.data}}get value(){return this._def.value}};jt.create=(e,t)=>new jt({value:e,typeName:P.ZodLiteral,...j(t)});function $l(e,t){return new Bt({values:e,typeName:P.ZodEnum,...j(t)})}var Bt=class e extends B{constructor(){super(...arguments),Yr.set(this,void 0)}_parse(t){if(typeof t.data!="string"){let r=this._getOrReturnCtx(t),n=this._def.values;return I(r,{expected:V.joinValues(n),received:r.parsedType,code:A.invalid_type}),L}if(Hn(this,Yr,"f")||Ul(this,Yr,new Set(this._def.values),"f"),!Hn(this,Yr,"f").has(t.data)){let r=this._getOrReturnCtx(t),n=this._def.values;return I(r,{received:r.data,code:A.invalid_enum_value,options:n}),L}return ve(t.data)}get options(){return this._def.values}get enum(){let t={};for(let r of this._def.values)t[r]=r;return t}get Values(){let t={};for(let r of this._def.values)t[r]=r;return t}get Enum(){let t={};for(let r of this._def.values)t[r]=r;return t}extract(t,r=this._def){return e.create(t,{...this._def,...r})}exclude(t,r=this._def){return e.create(this.options.filter(n=>!t.includes(n)),{...this._def,...r})}};Yr=new WeakMap;Bt.create=$l;var Wt=class extends B{constructor(){super(...arguments),zr.set(this,void 0)}_parse(t){let r=V.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(t);if(n.parsedType!==T.string&&n.parsedType!==T.number){let a=V.objectValues(r);return I(n,{expected:V.joinValues(a),received:n.parsedType,code:A.invalid_type}),L}if(Hn(this,zr,"f")||Ul(this,zr,new Set(V.getValidEnumValues(this._def.values)),"f"),!Hn(this,zr,"f").has(t.data)){let a=V.objectValues(r);return I(n,{received:n.data,code:A.invalid_enum_value,options:a}),L}return ve(t.data)}get enum(){return this._def.values}};zr=new WeakMap;Wt.create=(e,t)=>new Wt({values:e,typeName:P.ZodNativeEnum,...j(t)});var mt=class extends B{unwrap(){return this._def.type}_parse(t){let{ctx:r}=this._processInputParams(t);if(r.parsedType!==T.promise&&r.common.async===!1)return I(r,{code:A.invalid_type,expected:T.promise,received:r.parsedType}),L;let n=r.parsedType===T.promise?r.data:Promise.resolve(r.data);return ve(n.then(a=>this._def.type.parseAsync(a,{path:r.path,errorMap:r.common.contextualErrorMap})))}};mt.create=(e,t)=>new mt({type:e,typeName:P.ZodPromise,...j(t)});var Te=class extends B{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===P.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){let{status:r,ctx:n}=this._processInputParams(t),a=this._def.effect||null,i={addIssue:o=>{I(n,o),o.fatal?r.abort():r.dirty()},get path(){return n.path}};if(i.addIssue=i.addIssue.bind(i),a.type==="preprocess"){let o=a.transform(n.data,i);if(n.common.async)return Promise.resolve(o).then(async s=>{if(r.value==="aborted")return L;let u=await this._def.schema._parseAsync({data:s,path:n.path,parent:n});return u.status==="aborted"?L:u.status==="dirty"||r.value==="dirty"?ur(u.value):u});{if(r.value==="aborted")return L;let s=this._def.schema._parseSync({data:o,path:n.path,parent:n});return s.status==="aborted"?L:s.status==="dirty"||r.value==="dirty"?ur(s.value):s}}if(a.type==="refinement"){let o=s=>{let u=a.refinement(s,i);if(n.common.async)return Promise.resolve(u);if(u instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return s};if(n.common.async===!1){let s=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return s.status==="aborted"?L:(s.status==="dirty"&&r.dirty(),o(s.value),{status:r.value,value:s.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(s=>s.status==="aborted"?L:(s.status==="dirty"&&r.dirty(),o(s.value).then(()=>({status:r.value,value:s.value}))))}if(a.type==="transform")if(n.common.async===!1){let o=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!Gr(o))return o;let s=a.transform(o.value,i);if(s instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:s}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(o=>Gr(o)?Promise.resolve(a.transform(o.value,i)).then(s=>({status:r.value,value:s})):o);V.assertNever(a)}};Te.create=(e,t,r)=>new Te({schema:e,typeName:P.ZodEffects,effect:t,...j(r)});Te.createWithPreprocess=(e,t,r)=>new Te({schema:t,effect:{type:"preprocess",transform:e},typeName:P.ZodEffects,...j(r)});var ke=class extends B{_parse(t){return this._getType(t)===T.undefined?ve(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}};ke.create=(e,t)=>new ke({innerType:e,typeName:P.ZodOptional,...j(t)});var je=class extends B{_parse(t){return this._getType(t)===T.null?ve(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}};je.create=(e,t)=>new je({innerType:e,typeName:P.ZodNullable,...j(t)});var $t=class extends B{_parse(t){let{ctx:r}=this._processInputParams(t),n=r.data;return r.parsedType===T.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:r.path,parent:r})}removeDefault(){return this._def.innerType}};$t.create=(e,t)=>new $t({innerType:e,typeName:P.ZodDefault,defaultValue:typeof t.default=="function"?t.default:()=>t.default,...j(t)});var Vt=class extends B{_parse(t){let{ctx:r}=this._processInputParams(t),n={...r,common:{...r.common,issues:[]}},a=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return Zr(a)?a.then(i=>({status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new Ie(n.common.issues)},input:n.data})})):{status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new Ie(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}};Vt.create=(e,t)=>new Vt({innerType:e,typeName:P.ZodCatch,catchValue:typeof t.catch=="function"?t.catch:()=>t.catch,...j(t)});var hr=class extends B{_parse(t){if(this._getType(t)!==T.nan){let n=this._getOrReturnCtx(t);return I(n,{code:A.invalid_type,expected:T.nan,received:n.parsedType}),L}return{status:"valid",value:t.data}}};hr.create=e=>new hr({typeName:P.ZodNaN,...j(e)});var sm=Symbol("zod_brand"),qr=class extends B{_parse(t){let{ctx:r}=this._processInputParams(t),n=r.data;return this._def.type._parse({data:n,path:r.path,parent:r})}unwrap(){return this._def.type}},Kr=class e extends B{_parse(t){let{status:r,ctx:n}=this._processInputParams(t);if(n.common.async)return(async()=>{let i=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return i.status==="aborted"?L:i.status==="dirty"?(r.dirty(),ur(i.value)):this._def.out._parseAsync({data:i.value,path:n.path,parent:n})})();{let a=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return a.status==="aborted"?L:a.status==="dirty"?(r.dirty(),{status:"dirty",value:a.value}):this._def.out._parseSync({data:a.value,path:n.path,parent:n})}}static create(t,r){return new e({in:t,out:r,typeName:P.ZodPipeline})}},Ht=class extends B{_parse(t){let r=this._def.innerType._parse(t),n=a=>(Gr(a)&&(a.value=Object.freeze(a.value)),a);return Zr(r)?r.then(a=>n(a)):n(r)}unwrap(){return this._def.innerType}};Ht.create=(e,t)=>new Ht({innerType:e,typeName:P.ZodReadonly,...j(t)});function Vl(e,t={},r){return e?ht.create().superRefine((n,a)=>{var i,o;if(!e(n)){let s=typeof t=="function"?t(n):typeof t=="string"?{message:t}:t,u=(o=(i=s.fatal)!==null&&i!==void 0?i:r)!==null&&o!==void 0?o:!0,l=typeof s=="string"?{message:s}:s;a.addIssue({code:"custom",...l,fatal:u})}}):ht.create()}var um={object:_e.lazycreate},P;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"})(P||(P={}));var lm=(e,t={message:`Input not instance of ${e.name}`})=>Vl(r=>r instanceof e,t),Hl=pt.create,Yl=Nt.create,cm=hr.create,dm=Rt.create,zl=kt.create,fm=Dt.create,pm=cr.create,hm=Mt.create,mm=Pt.create,gm=ht.create,ym=Ge.create,vm=Pe.create,bm=dr.create,wm=Ze.create,xm=_e.create,_m=_e.strictCreate,Am=Lt.create,Sm=Yn.create,Em=Ft.create,Im=Ue.create,Tm=zn.create,Om=fr.create,Cm=pr.create,Nm=Gn.create,Rm=Ut.create,km=jt.create,Dm=Bt.create,Mm=Wt.create,Pm=mt.create,Ll=Te.create,Lm=ke.create,Fm=je.create,Um=Te.createWithPreprocess,jm=Kr.create,Bm=()=>Hl().optional(),Wm=()=>Yl().optional(),$m=()=>zl().optional(),Vm={string:e=>pt.create({...e,coerce:!0}),number:e=>Nt.create({...e,coerce:!0}),boolean:e=>kt.create({...e,coerce:!0}),bigint:e=>Rt.create({...e,coerce:!0}),date:e=>Dt.create({...e,coerce:!0})},Hm=L,Yt=Object.freeze({__proto__:null,defaultErrorMap:lr,setErrorMap:Hh,getErrorMap:$n,makeIssue:Vn,EMPTY_PATH:Yh,addIssueToContext:I,ParseStatus:pe,INVALID:L,DIRTY:ur,OK:ve,isAborted:Qo,isDirty:Jo,isValid:Gr,isAsync:Zr,get util(){return V},get objectUtil(){return Xo},ZodParsedType:T,getParsedType:ft,ZodType:B,datetimeRegex:Wl,ZodString:pt,ZodNumber:Nt,ZodBigInt:Rt,ZodBoolean:kt,ZodDate:Dt,ZodSymbol:cr,ZodUndefined:Mt,ZodNull:Pt,ZodAny:ht,ZodUnknown:Ge,ZodNever:Pe,ZodVoid:dr,ZodArray:Ze,ZodObject:_e,ZodUnion:Lt,ZodDiscriminatedUnion:Yn,ZodIntersection:Ft,ZodTuple:Ue,ZodRecord:zn,ZodMap:fr,ZodSet:pr,ZodFunction:Gn,ZodLazy:Ut,ZodLiteral:jt,ZodEnum:Bt,ZodNativeEnum:Wt,ZodPromise:mt,ZodEffects:Te,ZodTransformer:Te,ZodOptional:ke,ZodNullable:je,ZodDefault:$t,ZodCatch:Vt,ZodNaN:hr,BRAND:sm,ZodBranded:qr,ZodPipeline:Kr,ZodReadonly:Ht,custom:Vl,Schema:B,ZodSchema:B,late:um,get ZodFirstPartyTypeKind(){return P},coerce:Vm,any:gm,array:wm,bigint:dm,boolean:zl,date:fm,discriminatedUnion:Sm,effect:Ll,enum:Dm,function:Nm,instanceof:lm,intersection:Em,lazy:Rm,literal:km,map:Om,nan:cm,nativeEnum:Mm,never:vm,null:mm,nullable:Fm,number:Yl,object:xm,oboolean:$m,onumber:Wm,optional:Lm,ostring:Bm,pipeline:jm,preprocess:Um,promise:Pm,record:Tm,set:Cm,strictObject:_m,string:Hl,symbol:pm,transformer:Ll,tuple:Im,undefined:hm,union:Am,unknown:ym,void:bm,NEVER:Hm,ZodIssueCode:A,quotelessJson:Vh,ZodError:Ie});var Gl;(function(e){e.WINDOW_RESIZED="tauri://resize",e.WINDOW_MOVED="tauri://move",e.WINDOW_CLOSE_REQUESTED="tauri://close-requested",e.WINDOW_DESTROYED="tauri://destroyed",e.WINDOW_FOCUS="tauri://focus",e.WINDOW_BLUR="tauri://blur",e.WINDOW_SCALE_FACTOR_CHANGED="tauri://scale-change",e.WINDOW_THEME_CHANGED="tauri://theme-changed",e.WINDOW_CREATED="tauri://window-created",e.WEBVIEW_CREATED="tauri://webview-created",e.DRAG="tauri://drag",e.DROP="tauri://drop",e.DROP_OVER="tauri://drop-over",e.DROP_CANCELLED="tauri://drag-cancelled"})(Gl||(Gl={}));async function Ym(e,t){await W("plugin:event|unlisten",{event:e,eventId:t})}async function Be(e,t,r){var n;let a=typeof r?.target=="string"?{kind:"AnyLabel",label:r.target}:(n=r?.target)!==null&&n!==void 0?n:{kind:"Any"};return W("plugin:event|listen",{event:e,target:a,handler:Ml(t)}).then(i=>async()=>Ym(e,i))}async function qe(e,t){await W("plugin:event|emit",{event:e,payload:t})}var Zl="plugin:clipboard|start_monitor",ql="plugin:clipboard|stop_monitor",ts="plugin:clipboard://something-changed",Zn="plugin:clipboard://text-changed",rs="plugin:clipboard://html-changed",ns="plugin:clipboard://rtf-changed",as="plugin:clipboard://files-changed",qn="plugin:clipboard://image-changed",Kl="plugin:clipboard|is_monitor_running",Xl="plugin:clipboard|has_text",Ql="plugin:clipboard|has_image",Jl="plugin:clipboard|has_html",ec="plugin:clipboard|has_rtf",tc="plugin:clipboard|has_files",rc="plugin:clipboard|write_text",nc="plugin:clipboard|write_html",ac="plugin:clipboard|write_html_and_text",ic="plugin:clipboard|write_rtf",oc="plugin:clipboard|write_files_uris",sc="plugin:clipboard|write_files",uc="plugin:clipboard|clear",lc="plugin:clipboard|read_text",cc="plugin:clipboard|read_html",dc="plugin:clipboard|read_rtf",fc="plugin:clipboard|read_files",pc="plugin:clipboard|read_files_uris",hc="plugin:clipboard|read_image_binary",mc="plugin:clipboard|read_image_base64",gc="plugin:clipboard|write_image_binary",yc="plugin:clipboard|write_image_base64",vc="plugin:clipboard://clipboard-monitor/status",is="plugin:clipboard://clipboard-monitor/update",Xr=Yt.object({value:Yt.string()}),bc=Yt.object({value:Yt.string().array()});function os(){return W(Xl)}function ss(){return W(Jl)}function us(){return W(ec)}function ls(){return W(Ql)}function cs(){return W(tc)}function wc(e){return W(rc,{text:e})}function xc(e){return W(nc,{html:e})}function _c(e,t){return W(ac,{html:e,text:t})}function Ac(e){return W(ic,{rtf:e})}function zm(e){return W(oc,{filesUris:e})}function Sc(e){return W(sc,{filesPaths:e})}function Gm(){return W(uc)}function Kn(){return W(lc)}function ds(){return W(cc)}function fs(){return W(dc)}function ps(){return W(fc)}function Zm(){return W(pc)}function Xn(){return W(mc)}function hs(e){return W(hc).then(t=>{switch(e){case"int_array":return t;case"Uint8Array":return new Uint8Array(t);case"Blob":return new Blob([new Uint8Array(t)]);default:return t}})}function qm(){return hs("Blob").then(e=>URL.createObjectURL(e))}function Ec(e){return W(yc,{base64Image:e})}function Ic(e){return W(gc,{bytes:e})}function Km(e=500){let t="",r=!0;return setTimeout(async function n(){try{let a=await Kn();t!==a&&await qe(Zn,{value:a}),t=a}catch{}r&&setTimeout(n,e)},e),function(){r=!1}}function Xm(e=1e3){let t="",r=!0;return setTimeout(async function n(){try{let a=await Xn();t!==a&&await qe(qn,{value:a}),t=a}catch{}r&&setTimeout(n,e)},e),function(){r=!1}}function Tc(){return Be(is,async e=>{if(e.payload==="clipboard update"){let t={files:await cs(),image:await ls(),html:await ss(),rtf:await us(),text:await os()};if(await qe(ts,t),t.files){let r=await ps();r&&r.length>0&&await qe(as,{value:r}),t.files=!0;return}if(t.image){let r=await Xn();r&&await qe(qn,{value:r}),t.image=!0}t.html&&(await qe(rs,{value:await ds()}),t.html=!0),t.rtf&&(await qe(ns,{value:await fs()}),t.rtf=!0),t.text&&(await qe(Zn,{value:await Kn()}),t.text=!0)}})}function Qm(e){return Be(is,e)}async function Jm(e){return await Be(Zn,t=>{let r=Xr.parse(t.payload).value;e(r)})}async function eg(e){return await Be(ts,t=>{e(t.payload)})}async function tg(e){return await Be(rs,t=>{let r=Xr.parse(t.payload).value;e(r)})}async function rg(e){return await Be(ns,t=>{let r=Xr.parse(t.payload).value;e(r)})}async function ng(e){return await Be(as,t=>{let r=bc.parse(t.payload).value;e(r)})}async function ag(e){return await Be(qn,t=>{let r=Xr.parse(t.payload).value;e(r)})}function ig(){return W(Kl).then(e=>Yt.boolean().parse(e))}function ms(){return W(Zl)}function Oc(){return W(ql)}async function og(e){return await Be(vc,t=>{let r=Yt.boolean().parse(t.payload);e(r)})}function sg(){return ms().then(()=>Tc()).then(e=>async()=>{e(),await Oc()})}var ie=Object.freeze({__proto__:null,CLEAR_COMMAND:uc,CLIPBOARD_MONITOR_STATUS_UPDATE_EVENT:vc,ClipboardChangedFilesPayloadSchema:bc,ClipboardChangedPayloadSchema:Xr,FILES_CHANGED:as,HAS_FILES_COMMAND:tc,HAS_HTML_COMMAND:Jl,HAS_IMAGE_COMMAND:Ql,HAS_RTF_COMMAND:ec,HAS_TEXT_COMMAND:Xl,HTML_CHANGED:rs,IMAGE_CHANGED:qn,IS_MONITOR_RUNNING_COMMAND:Kl,MONITOR_UPDATE_EVENT:is,READ_FILES_COMMAND:fc,READ_FILES_URIS_COMMAND:pc,READ_HTML_COMMAND:cc,READ_IMAGE_BASE64_COMMAND:mc,READ_IMAGE_BINARY_COMMAND:hc,READ_RTF_COMMAND:dc,READ_TEXT_COMMAND:lc,RTF_CHANGED:ns,SOMETHING_CHANGED:ts,START_MONITOR_COMMAND:Zl,STOP_MONITOR_COMMAND:ql,TEXT_CHANGED:Zn,WRITE_FILES_COMMAND:sc,WRITE_FILES_URIS_COMMAND:oc,WRITE_HTML_AND_TEXT_COMMAND:ac,WRITE_HTML_COMMAND:nc,WRITE_IMAGE_BASE64_COMMAND:yc,WRITE_IMAGE_BINARY_COMMAND:gc,WRITE_RTF_COMMAND:ic,WRITE_TEXT_COMMAND:rc,clear:Gm,hasFiles:cs,hasHTML:ss,hasImage:ls,hasRTF:us,hasText:os,isMonitorRunning:ig,listenToClipboard:Tc,listenToMonitorStatusUpdate:og,onClipboardUpdate:Qm,onFilesUpdate:ng,onHTMLUpdate:tg,onImageUpdate:ag,onRTFUpdate:rg,onSomethingUpdate:eg,onTextUpdate:Jm,readFiles:ps,readFilesURIs:Zm,readHtml:ds,readImageBase64:Xn,readImageBinary:hs,readImageObjectURL:qm,readRtf:fs,readText:Kn,startBruteForceImageMonitor:Xm,startBruteForceTextMonitor:Km,startListening:sg,startMonitor:ms,stopMonitor:Oc,writeFiles:Sc,writeFilesURIs:zm,writeHtml:xc,writeHtmlAndText:_c,writeImageBase64:Ec,writeImageBinary:Ic,writeRtf:Ac,writeText:wc});var mr=class{constructor(t){this.pid=t}async write(t){await x("plugin:shellx|stdin_write",{pid:this.pid,buffer:typeof t=="string"?t:Array.from(t)})}async kill(){await x("plugin:shellx|kill",{cmd:"killChild",pid:this.pid})}},Qr=class{constructor(){this.eventListeners=Object.create(null)}addListener(t,r){return this.on(t,r)}removeListener(t,r){return this.off(t,r)}on(t,r){return t in this.eventListeners?this.eventListeners[t].push(r):this.eventListeners[t]=[r],this}once(t,r){let n=a=>{this.removeListener(t,n),r(a)};return this.addListener(t,n)}off(t,r){return t in this.eventListeners&&(this.eventListeners[t]=this.eventListeners[t].filter(n=>n!==r)),this}removeAllListeners(t){return t?delete this.eventListeners[t]:this.eventListeners=Object.create(null),this}emit(t,r){if(t in this.eventListeners){let n=this.eventListeners[t];for(let a of n)a(r);return!0}return!1}listenerCount(t){return t in this.eventListeners?this.eventListeners[t].length:0}prependListener(t,r){return t in this.eventListeners?this.eventListeners[t].unshift(r):this.eventListeners[t]=[r],this}prependOnceListener(t,r){let n=a=>{this.removeListener(t,n),r(a)};return this.prependListener(t,n)}},Oe=class e extends Qr{constructor(t,r=[],n){super(),this.stdout=new Qr,this.stderr=new Qr,this.program=t,this.args=typeof r=="string"?[r]:r,this.options=n??{}}static create(t,r=[],n){return new e(t,r,n)}static sidecar(t,r=[],n){let a=new e(t,r,n);return a.options.sidecar=!0,a}async spawn(){let t=this.program,r=this.args,n=this.options;typeof r=="object"&&Object.freeze(r);let a=new dt;return a.onmessage=i=>{switch(i.event){case"Error":this.emit("error",i.payload);break;case"Terminated":this.emit("close",i.payload);break;case"Stdout":this.stdout.emit("data",i.payload);break;case"Stderr":this.stderr.emit("data",i.payload);break}},await x("plugin:shellx|spawn",{program:t,args:r,options:n,onEvent:a}).then(i=>new mr(i))}async execute(){let t=this.program,r=this.args,n=this.options;return typeof r=="object"&&Object.freeze(r),x("plugin:shellx|execute",{program:t,args:r,options:n})}};function gs(e){return Oe.create("bash",["-c",e])}function ys(e){return Oe.create("powershell",["-Command",e])}function vs(e){return Oe.create("osascript",["-e",e])}function bs(e){return Oe.create("python",["-c",e])}function ws(e){return Oe.create("zsh",["-c",e])}function xs(e){return Oe.create("node",["-e",e])}async function Qn(e){return gs(e).execute()}async function Jn(e){return ys(e).execute()}async function ea(e){return vs(e).execute()}async function ta(e){return bs(e).execute()}async function ra(e){return ws(e).execute()}async function na(e){return xs(e).execute()}function Jr(){return Oe.create("powershell.exe",["-Command","echo $env:OS"]).execute().then(e=>e.code===0&&e.stdout.toLowerCase().includes("windows")).catch(()=>!1)}async function aa(e){let t=e.split(" ")[0],n=await Jr()?"where":"which";return(await Oe.create(n,[t]).execute()).code===0}function ia(e,t){return x("plugin:shellx|open",{path:e,with:t})}var ug={eventRawListen(e,t,r){return x("plugin:event|listen",{event:e,target:t,handler:Hr(r)})},eventRawUnlisten:(e,t)=>x("plugin:event|unlisten",{event:e,eventId:t}),eventEmit:Si,eventEmitTo:Ei,eventOnce:Ai},lg={clipboardReadText:ie.readText,clipboardWriteText:ie.writeText,clipboardReadImageBase64:ie.readImageBase64,clipboardReadImageBinary:ie.readImageBinary,clipboardWriteImageBase64:ie.writeImageBase64,clipboardWriteImageBinary:ie.writeImageBinary,clipboardReadFiles:ie.readFiles,clipboardWriteFiles:ie.writeFiles,clipboardReadRtf:ie.readRtf,clipboardWriteRtf:ie.writeRtf,clipboardReadHtml:ie.readHtml,clipboardWriteHtml:ie.writeHtml,clipboardWriteHtmlAndText:ie.writeHtmlAndText,clipboardHasText:ie.hasText,clipboardHasRTF:ie.hasRTF,clipboardHasHTML:ie.hasHTML,clipboardHasImage:ie.hasImage,clipboardHasFiles:ie.hasFiles,clipboardStartMonitor:ie.startMonitor},cg={dialogAsk:uo,dialogConfirm:lo,dialogMessage:so,dialogOpen:io,dialogSave:oo},dg={notificationIsPermissionGranted:To,notificationRequestPermission:Oo,notificationSendNotification:Co,notificationRegisterActionTypes:No,notificationPending:Ro,notificationCancel:ko,notificationCancelAll:Do,notificationActive:Mo,notificationRemoveActive:Po,notificationRemoveAllActive:Lo,notificationCreateChannel:Fo,notificationRemoveChannel:Uo,notificationChannels:jo,notificationOnNotificationReceived:Bo,notificationOnAction:Wo},fg={fsReadDir:go,fsReadFile:yo,fsReadTextFile:vo,fsStat:xo,fsLstat:_o,fsExists:Io,fsMkdir:mo,fsCreate:po,fsCopyFile:ho,fsRemove:bo,fsRename:wo,fsTruncate:Ao,fsWriteFile:So,fsWriteTextFile:async(e,t,r)=>{if(typeof e=="string"&&/(\\\.|\/\.)\w+$/.test(e)){await x("create_dot_file",{filePath:e,codeContent:t});return}return Eo(e,t,r)}},pg={osPlatform:Vo,osArch:zo,osExeExtension:Zo,osFamily:Yo,osHostname:qo,osEol:()=>Promise.resolve($o()),osVersion:Ho,osLocale:Go},hg={shellExecute:(e,t,r)=>x("plugin:shellx|execute",{program:e,args:t,options:r}),shellKill:e=>x("plugin:shellx|kill",{cmd:"killChild",pid:e}),shellStdinWrite:(e,t)=>x("plugin:shellx|stdin_write",{buffer:e,pid:t}),shellOpen:ia,shellRawSpawn:(e,t,r,n)=>{let a=new dt;return a.onmessage=n,x("plugin:shellx|spawn",{program:e,args:t,options:r,onEvent:a})},shellExecuteBashScript:Qn,shellExecutePowershellScript:Jn,shellExecuteAppleScript:ea,shellExecutePythonScript:ta,shellExecuteZshScript:ra,shellExecuteNodeScript:na,shellHasCommand:aa,shellLikelyOnWindows:Jr},mg={fetchRawFetch:e=>x("plugin:http|fetch",e),fetchFetchCancel:e=>x("plugin:http|fetch_cancel",{rid:e}),fetchFetchSend:e=>x("plugin:http|fetch_send",{rid:e}),fetchFetchReadBody:e=>x("plugin:http|fetch_read_body",{rid:e})},gg={appCacheDir:Ci,appConfigDir:Ii,appDataDir:Ti,appLocalDataDir:Oi,appLogDir:Zi,audioDir:Ni,basename:no,cacheDir:Ri,configDir:ki,dataDir:Di,delimiter:Xi,desktopDir:Mi,dirname:to,documentDir:Pi,downloadDir:Li,executableDir:Fi,extname:ro,fontDir:Ui,homeDir:ji,isAbsolute:ao,join:eo,localDataDir:Bi,normalize:Ji,pictureDir:Wi,publicDir:$i,resolve:Qi,resolveResource:Hi,resourceDir:Vi,runtimeDir:Yi,sep:Ki,tempDir:qi,templateDir:zi,videoDir:Gi},yg={...lg,...cg,...dg,...fg,...pg,...hg,...mg,...ug,...gg};var _s;(function(e){e.HttpRequestInited="HttpRequestInited",e.HttpRequestResult="HttpRequestResult",e.HttpRawFetch="HttpRawFetch",e.HttpFetchCancel="HttpFetchCancel",e.HttpFetchSend="HttpFetchSend",e.HttpFetchReadBody="HttpFetchReadBody",e.ClipboardHasText="ClipboardHasText",e.ClipboardHasImage="ClipboardHasImage",e.ClipboardHasHtml="ClipboardHasHtml",e.ClipboardHasRtf="ClipboardHasRtf",e.ClipboardHasFiles="ClipboardHasFiles",e.ClipboardWriteText="ClipboardWriteText",e.ClipboardWriteHtml="ClipboardWriteHtml",e.ClipboardWriteHtmlAndText="ClipboardWriteHtmlAndText",e.ClipboardWriteRtf="ClipboardWriteRtf",e.ClipboardWriteFilesUris="ClipboardWriteFilesUris",e.ClipboardWriteFiles="ClipboardWriteFiles",e.ClipboardClear="ClipboardClear",e.ClipboardReadText="ClipboardReadText",e.ClipboardReadHtml="ClipboardReadHtml",e.ClipboardReadRtf="ClipboardReadRtf",e.ClipboardReadFiles="ClipboardReadFiles",e.ClipboardReadFilesUris="ClipboardReadFilesUris",e.ClipboardReadImageBinary="ClipboardReadImageBinary",e.ClipboardReadImageBase64="ClipboardReadImageBase64",e.ClipboardWriteImageBinary="ClipboardWriteImageBinary",e.ClipboardWriteImageBase64="ClipboardWriteImageBase64",e.DialogAsk="DialogAsk",e.DialogConfirm="DialogConfirm",e.DialogMessage="DialogMessage",e.DialogOpen="DialogOpen",e.DialogSave="DialogSave",e.FsReadDir="FsReadDir",e.FsReadFile="FsReadFile",e.FsReadTextFile="FsReadTextFile",e.FsStat="FsStat",e.FsLstat="FsLstat",e.FsExists="FsExists",e.FsMkdir="FsMkdir",e.FsCreate="FsCreate",e.FsCopyFile="FsCopyFile",e.FsRemove="FsRemove",e.FsRename="FsRename",e.FsTruncate="FsTruncate",e.FsWriteFile="FsWriteFile",e.FsWriteTextFile="FsWriteTextFile",e.ShellxExecute="ShellxExecute",e.ShellxKill="ShellxKill",e.ShellxStdinWrite="ShellxStdinWrite",e.ShellxOpen="ShellxOpen",e.ShellxSpawn="ShellxSpawn",e.NotificationSendNotification="NotificationSendNotification",e.NotificationRequestPermission="NotificationRequestPermission",e.NotificationIsPermissionGranted="NotificationIsPermissionGranted",e.OsPlatform="OsPlatform",e.OsArch="OsArch",e.OsExeExtension="OsExeExtension",e.OsFamily="OsFamily",e.OsHostname="OsHostname",e.OsEol="OsEol",e.OsVersion="OsVersion",e.OsLocale="OsLocale"})(_s||(_s={}));function vg(e){return{readText:e.clipboardReadText,writeText:e.clipboardWriteText,readImageBase64:e.clipboardReadImageBase64,readImageBinary:e.clipboardReadImageBinary,writeImageBase64:e.clipboardWriteImageBase64,writeImageBinary:e.clipboardWriteImageBinary,readFiles:e.clipboardReadFiles,writeFiles:e.clipboardWriteFiles,readRtf:e.clipboardReadRtf,writeRtf:e.clipboardWriteRtf,readHtml:e.clipboardReadHtml,writeHtml:e.clipboardWriteHtml,writeHtmlAndText:e.clipboardWriteHtmlAndText,hasText:e.clipboardHasText,hasRTF:e.clipboardHasRTF,hasHTML:e.clipboardHasHTML,hasImage:e.clipboardHasImage,hasFiles:e.clipboardHasFiles,startMonitor:e.clipboardStartMonitor}}var M_=vg(te);function bg(e){return{ask:e.dialogAsk,confirm:e.dialogConfirm,message:e.dialogMessage,open:e.dialogOpen,save:e.dialogSave}}var j_=bg(te);function wg(e){return{readDir:e.fsReadDir,readFile:e.fsReadFile,readTextFile:e.fsReadTextFile,stat:e.fsStat,lstat:e.fsLstat,exists:e.fsExists,mkdir:e.fsMkdir,create:e.fsCreate,copyFile:e.fsCopyFile,remove:e.fsRemove,rename:e.fsRename,truncate:e.fsTruncate,writeFile:e.fsWriteFile,writeTextFile:e.fsWriteTextFile}}var H_=wg(te);function xg(e){return{sendNotification:e.notificationSendNotification,requestPermission:e.notificationRequestPermission,isPermissionGranted:e.notificationIsPermissionGranted,registerActionTypes:e.notificationRegisterActionTypes,pending:e.notificationPending,cancel:e.notificationCancel,cancelAll:e.notificationCancelAll,active:e.notificationActive,removeActive:e.notificationRemoveActive,removeAllActive:e.notificationRemoveAllActive,createChannel:e.notificationCreateChannel,removeChannel:e.notificationRemoveChannel,channels:e.notificationChannels,onNotificationReceived:t=>e.notificationOnNotificationReceived(ct(t)),onAction:t=>e.notificationOnAction(ct(t))}}var X_=xg(te);function _g(e){return{platform:e.osPlatform,arch:e.osArch,exeExtension:e.osExeExtension,family:e.osFamily,hostname:e.osHostname,eol:e.osEol,version:e.osVersion,locale:e.osLocale}}var tA=_g(te);function Ag(e){return{execute:e.shellExecute,kill:e.shellKill,stdinWrite:e.shellStdinWrite,open:e.shellOpen,rawSpawn:e.shellRawSpawn,makeBashScript:Sg,makePowershellScript:Eg,makeAppleScript:Ig,makePythonScript:Tg,makeZshScript:Og,makeNodeScript:Cg,executeBashScript:e.shellExecuteBashScript,executePowershellScript:e.shellExecutePowershellScript,executeAppleScript:e.shellExecuteAppleScript,executePythonScript:e.shellExecutePythonScript,executeZshScript:e.shellExecuteZshScript,executeNodeScript:e.shellExecuteNodeScript,hasCommand:e.shellHasCommand,likelyOnWindows:e.shellLikelyOnWindows}}var gr=Ag(te),oa=class extends mr{write(t){return gr.stdinWrite(typeof t=="string"?t:Array.from(t),this.pid)}kill(){return gr.kill(this.pid)}},Ke=class e extends Oe{static create(t,r=[],n){return new e(t,r,n)}async spawn(){let t=this.args;return typeof t=="object"&&Object.freeze(t),gr.rawSpawn(this.program,t,this.options,ct(r=>{switch(r.event){case"Error":this.emit("error",r.payload);break;case"Terminated":this.emit("close",r.payload);break;case"Stdout":this.stdout.emit("data",r.payload);break;case"Stderr":this.stderr.emit("data",r.payload);break}})).then(r=>new oa(r))}async execute(){let t=this.program,r=this.args,n=this.options;return typeof r=="object"&&Object.freeze(r),gr.execute(t,r,n)}};function Sg(e){return Ke.create("bash",["-c",e])}function Eg(e){return Ke.create("powershell",["-Command",e])}function Ig(e){return Ke.create("osascript",["-e",e])}function Tg(e){return Ke.create("python",["-c",e])}function Og(e){return Ke.create("zsh",["-c",e])}function Cg(e){return Ke.create("node",["-e",e])}gr.open;var Ng={...gr,Command:Ke,Child:oa},Rg={open:ia,makeBashScript:gs,makePowershellScript:ys,makeAppleScript:vs,makePythonScript:bs,makeZshScript:ws,makeNodeScript:xs,executeBashScript:Qn,executePowershellScript:Jn,executeAppleScript:ea,executePythonScript:ta,executeZshScript:ra,executeNodeScript:na,hasCommand:aa,likelyOnWindows:Jr,Command:Oe,Child:mr},As=Ye?Rg:Ng;function kg(e){return{appCacheDir:e.appCacheDir,appConfigDir:e.appConfigDir,appDataDir:e.appDataDir,appLocalDataDir:e.appLocalDataDir,appLogDir:e.appLogDir,audioDir:e.audioDir,basename:e.basename,cacheDir:e.cacheDir,configDir:e.configDir,dataDir:e.dataDir,delimiter:e.delimiter,desktopDir:e.desktopDir,dirname:e.dirname,documentDir:e.documentDir,downloadDir:e.downloadDir,executableDir:e.downloadDir,extname:e.extname,fontDir:e.fontDir,homeDir:e.homeDir,isAbsolute:e.isAbsolute,join:e.join,localDataDir:e.localDataDir,normalize:e.normalize,pictureDir:e.pictureDir,publicDir:e.publicDir,resolve:e.resolve,resolveResource:e.resolveResource,resourceDir:e.resourceDir,runtimeDir:e.runtimeDir,sep:e.sep,tempDir:e.tempDir,templateDir:e.templateDir,videoDir:e.videoDir}}var cA=kg(te);var hA={rawFetch:te.fetchRawFetch,fetchCancel:te.fetchFetchCancel,fetchSend:te.fetchFetchSend,fetchReadBody:te.fetchFetchReadBody};function Dg(e){return{rawListen:(t,r,n)=>e.eventRawListen(t,r,ct(n)),rawUnlisten:(t,r)=>e.eventRawUnlisten(t,r),emit:(t,r)=>e.eventEmit(t,r),emitTo:(t,r,n)=>e.eventEmitTo(t,r,n),once:(t,r,n)=>e.eventOnce(t,r,n)}}var en=Dg(te),Cc=async function(t,r,n){let a=typeof n?.target=="string"?{kind:"AnyLabel",label:n.target}:n?.target??{kind:"Any"};return en.rawListen(t,a,r).then(i=>async()=>{en.rawUnlisten(t,i)})},Mg={emit:en.emit,emitTo:en.emitTo,once:en.once,listen:Cc};function Pg(e,t,r){let n=t<0?e.length+t:t;if(n>=0&&n<e.length){let a=r<0?e.length+r:r,[i]=e.splice(t,1);e.splice(a,0,i)}}function Nc(e,t,r){return e=[...e],Pg(e,t,r),e}var kc={},he=typeof process<"u"?process.env:typeof kc.env<"u"?kc?.env:{},tS=he.NEXT_PUBLIC_DEFAULT_THEME||"dark";var Lg=typeof window>"u";var rS=he.NODE_ENV==="production";var Dc="PENX_SESSION_DATA";var yr="__TODO__",vr="__FILE__";var sa="acee1a5c-8e36-4a5f-846d-860566086e23";var nS=he.NEXT_PUBLIC_DEPLOY_MODE!=="PLATFORM",aS=he.NEXT_PUBLIC_IS_SYNC_ENABLED==="true",iS=he.NEXT_PUBLIC_NEXTAUTH_PROVIDERS,oS=he.NEXT_PUBLIC_PLATFORM||he.PLASMO_PUBLIC_PLATFORM,Rc=he.NEXT_PUBLIC_API_BASE_URL||he.NEXT_PUBLIC_NEXTAUTH_URL||he.VITE_API_URL||he.PLASMO_PUBLIC_BASE_URL,sS=Rc||(Lg?"":`${location.protocol}//${location.host}`);var uS=he.NEXT_PUBLIC_NETWORK,lS={LOCAL:he.NEXT_PUBLIC_LOCAL_RPC_URL,DEVELOP:he.NEXT_PUBLIC_DEVELOP_RPC_URL,SEPOLIA:he.NEXT_PUBLIC_SEPOLIA_RPC_URL,MAINNET:he.NEXT_PUBLIC_DEVELOP_RPC_URL};var Mc="p";var ua,Fg=new Uint8Array(16);function Ss(){if(!ua&&(ua=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!ua))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return ua(Fg)}var fe=[];for(let e=0;e<256;++e)fe.push((e+256).toString(16).slice(1));function Pc(e,t=0){return fe[e[t+0]]+fe[e[t+1]]+fe[e[t+2]]+fe[e[t+3]]+"-"+fe[e[t+4]]+fe[e[t+5]]+"-"+fe[e[t+6]]+fe[e[t+7]]+"-"+fe[e[t+8]]+fe[e[t+9]]+"-"+fe[e[t+10]]+fe[e[t+11]]+fe[e[t+12]]+fe[e[t+13]]+fe[e[t+14]]+fe[e[t+15]]}var Ug=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),Es={randomUUID:Ug};function jg(e,t,r){if(Es.randomUUID&&!t&&!e)return Es.randomUUID();e=e||{};let n=e.random||(e.rng||Ss)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,t){r=r||0;for(let a=0;a<16;++a)t[r+a]=n[a];return t}return Pc(n)}var Is=jg;function me(){return Is()}function Lc(e=""){return e.trim().replace(/\s+/g,"-").toLowerCase()}var zt=Ot(ks());var Ws=Ot(Jc());var rd=Ot(fa()),Ms=Ot(fa());var td,nn=typeof window=="object"&&typeof document=="object"&&document.nodeType===9&&!!((td=document.head)!=null&&td.append);function xr(e){return e===void 0&&(e=""),e.replace(/^[a-z]/,function(t){return t.toUpperCase()})}function ue(e){return e===void 0&&(e=""),e.replace(/^[A-Z]/,function(t){return t.toLowerCase()})}function ce(e){return ue(e).replace(/[A-Z]/g,function(t){return"-"+t.toLowerCase()}).replace(/-+/g,"-")}function nd(e){return e.replace(/(?:^\w|[A-Z]|\b\w)/g,function(t,r){return r===0?t.toLowerCase():t.toUpperCase()}).replace(/(\s+|-|_)/g,"")}function an(e){return/^-?[0-9.]+$/.test(e)}function ad(e){return/^-?\d+p$/.test(e)}function pa(e){return!e||!Object.keys(e).length}function _r(e){return/^[A-Z].+$/.test(e)?"-"+ce(e):ce(e)}function Ds(e,t){t===void 0&&(t="css-");var r=(0,rd.default)(JSON.stringify(e));return t+r}function Ps(){return Ps=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ps.apply(this,arguments)}function id(e){return/^::?.+/.test(e)}function Ls(e,t,r){for(var n=[],a=Object.keys(e),i=function(){var c=u[s],d=e[c];if(typeof d!="object"){var f,p,g=r?[r,(f={},f[c]=d,f)]:[(p={},p[c]=d,p)];return n.push(g),0}if(Array.isArray(d)){var h;if(t){var y=Object.keys(t),m=d.reduce(function(b,S,v){var _,w=""+c+(v===0?"":"--"+y[v-1]);return Ps({},b,(_={},_[w]=S,_))},{});return n=[].concat(n,Ls(m,t,r)),0}return n.push([(h={},h[c]=d,h)]),0}n=[].concat(n,Ls(d,t,c))},o,s=0,u=a;s<u.length;s++)o=i();return n}function od(e,t){var r=Ls(e,t,null),n=r.reduce(function(a,i){var o=i.pop(),s=i.reduce(function(l,c){return id(c)?""+l+c:l+" "+c},"").trim(),u="child";return id(s)&&(u="pseudo"),s===""&&(u="void"),s.startsWith("&")&&(u="sibling",s=s.replace(/^&/,"")),[].concat(a,[{selector:s,style:o,selectorType:u}])},[]);return n}var Fs;(function(e){e.transparent="rgba(0,0,0,0)",e.black="#000000",e.silver="#C0C0C0",e.gray="#808080",e.white="#FFFFFF",e.maroon="#800000",e.red="#FF0000",e.purple="#800080",e.fuchsia="#FF00FF",e.green="#008000",e.lime="#00FF00",e.olive="#808000",e.yellow="#FFFF00",e.navy="#000080",e.blue="#0000FF",e.teal="#008080",e.aqua="#00FFFF",e.aliceblue="#f0f8ff",e.antiquewhite="#faebd7",e.aquamarine="#7fffd4",e.azure="#f0ffff",e.beige="#f5f5dc",e.bisque="#ffe4c4",e.blanchedalmond="#ffebcd",e.blueviolet="#8a2be2",e.brown="#a52a2a",e.burlywood="#deb887",e.cadetblue="#5f9ea0",e.chartreuse="#7fff00",e.chocolate="#d2691e",e.coral="#ff7f50",e.cornflowerblue="#6495ed",e.cornsilk="#fff8dc",e.crimson="#dc143c",e.cyan="#00ffff",e.darkblue="#00008b",e.darkcyan="#008b8b",e.darkgoldenrod="#b8860b",e.darkgray="#a9a9a9",e.darkgreen="#006400",e.darkgrey="#a9a9a9",e.darkkhaki="#bdb76b",e.darkmagenta="#8b008b",e.darkolivegreen="#556b2f",e.darkorange="#ff8c00",e.darkorchid="#9932cc",e.darkred="#8b0000",e.darksalmon="#e9967a",e.darkseagreen="#8fbc8f",e.darkslateblue="#483d8b",e.darkslategray="#2f4f4f",e.darkslategrey="#2f4f4f",e.darkturquoise="#00ced1",e.darkviolet="#9400d3",e.deeppink="#ff1493",e.deepskyblue="#00bfff",e.dimgray="#696969",e.dimgrey="#696969",e.dodgerblue="#1e90ff",e.firebrick="#b22222",e.floralwhite="#fffaf0",e.forestgreen="#228b22",e.gainsboro="#dcdcdc",e.ghostwhite="#f8f8ff",e.gold="#ffd700",e.goldenrod="#daa520",e.greenyellow="#adff2f",e.grey="#808080",e.honeydew="#f0fff0",e.hotpink="#ff69b4",e.indianred="#cd5c5c",e.indigo="#4b0082",e.ivory="#fffff0",e.khaki="#f0e68c",e.lavender="#e6e6fa",e.lavenderblush="#fff0f5",e.lawngreen="#7cfc00",e.lemonchiffon="#fffacd",e.lightblue="#add8e6",e.lightcoral="#f08080",e.lightcyan="#e0ffff",e.lightgoldenrodyellow="#fafad2",e.lightgray="#d3d3d3",e.lightgreen="#90ee90",e.lightgrey="#d3d3d3",e.lightpink="#ffb6c1",e.lightsalmon="#ffa07a",e.lightseagreen="#20b2aa",e.lightskyblue="#87cefa",e.lightslategray="#778899",e.lightslategrey="#778899",e.lightsteelblue="#b0c4de",e.lightyellow="#ffffe0",e.limegreen="#32cd32",e.linen="#faf0e6",e.magenta="#ff00ff",e.mediumaquamarine="#66cdaa",e.mediumblue="#0000cd",e.mediumorchid="#ba55d3",e.mediumpurple="#9370db",e.mediumseagreen="#3cb371",e.mediumslateblue="#7b68ee",e.mediumspringgreen="#00fa9a",e.mediumturquoise="#48d1cc",e.mediumvioletred="#c71585",e.midnightblue="#191970",e.mintcream="#f5fffa",e.mistyrose="#ffe4e1",e.moccasin="#ffe4b5",e.navajowhite="#ffdead",e.oldlace="#fdf5e6",e.olivedrab="#6b8e23",e.orange="#ffa500",e.orangered="#ff4500",e.orchid="#da70d6",e.palegoldenrod="#eee8aa",e.palegreen="#98fb98",e.paleturquoise="#afeeee",e.palevioletred="#db7093",e.papayawhip="#ffefd5",e.peachpuff="#ffdab9",e.peru="#cd853f",e.pink="#ffc0cb",e.plum="#dda0dd",e.powderblue="#b0e0e6",e.rosybrown="#bc8f8f",e.royalblue="#4169e1",e.saddlebrown="#8b4513",e.salmon="#fa8072",e.sandybrown="#f4a460",e.seagreen="#2e8b57",e.seashell="#fff5ee",e.sienna="#a0522d",e.skyblue="#87ceeb",e.slateblue="#6a5acd",e.slategray="#708090",e.snow="#fffafa",e.springgreen="#00ff7f",e.steelblue="#4682b4",e.tan="#d2b48c",e.thistle="#d8bfd8",e.tomato="#ff6347",e.turquoise="#40e0d0",e.violet="#ee82ee",e.wheat="#f5deb3",e.whitesmoke="#f5f5f5",e.yellowgreen="#9acd32"})(Fs||(Fs={}));function js(e){return typeof e!="string"?!1:(e=e.toLowerCase(),/^#([0-9a-fA-f]{3}|[0-9a-fA-f]{6})$/.test(e))}function my(e){return typeof e!="string"?!1:(e=e.toLowerCase(),/^(rgba|RGBA)/.test(e))}function gy(e){return/^(rgb|rgba|RGB|RGBA)/.test(e)}function yy(e){return Fs[e]}function sd(e){if(js(e)||gy(e))return e;var t=yy(e);if(!t)throw new Error("Color: Invalid Input of "+e);return t}function vy(e){e=e.replace("#",""),e.length===3&&(e=Array.from(e).map(function(r){return r+r}).join(""));var t=e.split("");return new Array(3).fill(0).map(function(r,n){return parseInt("0x"+t[n*2]+t[n*2+1])})}function by(e){return e.replace(/rgb\(|rgba\(|\)/g,"").split(",").slice(0,3).map(function(t){return parseInt(t)})}function ud(e){var t=sd(e),r=t.toLowerCase();return js(r)?vy(r):by(r)}function wy(e){var t=sd(e);return my(t)?Number(t.toLowerCase().split(",").slice(-1)[0].replace(/[)|\s]/g,"")):1}function Bs(e){var t=ud(e);return t&&[].concat(t,[wy(e)])}function Us(e){if(js(e))return e;var t=ud(e),r=function(a){return Number(a).toString(16).padStart(2,"0")};return"#"+t.map(r).join("")}function ld(e){if(!Array.isArray(e))throw new Error("getColorFromRgbValue: "+e+" is not an array");var t=e.length;if(t!==3&&t!==4)throw new Error("getColorFromRgbValue: value length should be 3 or 4");return(t===3?"rgb(":"rgba(")+e.join(",")+")"}function xy(e,t){t===void 0&&(t=0);var r=Bs(e);return r=r.map(function(n,a){return a===3?n:n-Math.ceil(2.55*t)}).map(function(n){return n<0?0:n}),ld(r)}function _y(e,t){t===void 0&&(t=0);var r=Bs(e);return r=r.map(function(n,a){return a===3?n:n+Math.ceil(2.55*t)}).map(function(n){return n>255?255:n}),ld(r)}function cd(e,t){t===void 0&&(t=0);var r=Bs(e),n=r[0],a=r[1],i=r[2],o=r[3],s=o===void 0?0:o,u=s+t/100,l=[n,a,i];return u>=1?Us("rgb("+l.join(",")+")"):typeof u=="number"?"rgba("+l.join(",")+","+u+")":"rgb("+l.join(",")+")"}function Ay(e,t){return t===void 0&&(t=0),cd(e,t)}function Sy(e,t){return t===void 0&&(t=0),cd(e,-t)}function Ey(e,t){var r=e,n="",a="",i=t.match(/^([TOLD])?(\d{0,3})?$/i)||[];return n=i[1],a=i[2],{color:r,type:n,amount:Number(a)}}function ha(e,t){var r=/^rgba?\(.*\)|^#([A-F0-9]{3}){1,2}$/i.test(e);if(!r)return e;var n=Ey(e,t),a=n.color,i=n.type,o=n.amount;return/^t$/i.test(i)?Sy(a,o):/^o$/i.test(i)?Ay(a,o):/^d$/i.test(i)?Us(xy(a,o)):/^l$/i.test(i)?Us(_y(a,o)):a}var $s=Ot(fa());function dd(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Cy(n.key),n)}}function Vs(e,t,r){return t&&dd(e.prototype,t),r&&dd(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Me(){return Me=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Me.apply(this,arguments)}function fd(e,t){if(e==null)return{};var r={},n=Object.keys(e),a,i;for(i=0;i<n.length;i++)a=n[i],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function Ty(e,t){if(e){if(typeof e=="string")return pd(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return pd(e,t)}}function pd(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function gt(e,t){var r=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r)return(r=r.call(e)).next.bind(r);if(Array.isArray(e)||(r=Ty(e))||t&&e&&typeof e.length=="number"){r&&(e=r);var n=0;return function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Oy(e,t){if(typeof e!="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Cy(e){var t=Oy(e,"string");return typeof t=="symbol"?t:String(t)}var Ny="fower-mode",Ry=function(){function e(){var t=this;this.config={unit:"px",objectPropKeys:["css"],inline:!1,important:!1,mode:{currentMode:"light",autoDarkMode:{enabled:!1,mappings:{white:"black",black:"white",50:"900",100:"800",200:"700",300:"600",400:"500",500:"400",600:"300",700:"200",800:"100",900:"50"}},modeList:["light","dark"],classPrefix:""},prefix:"",pseudos:["active","checked","disabled","enabled","default","empty","focus","focus-within","invalid","hover","link","visited","first-child","last-child","after","before","placeholder","selection"],theme:{breakpoints:{},colors:{},spacings:{}},plugins:[]},this.atomCache=new Map,this.getAtomIds=function(){return Array.from(t.atomCache.keys())},this.compositions=new Map,this.getConfig=function(){return t.config},this.setConfig=function(r,n){n===void 0&&(n="deepmerge"),n==="replace"?t.config=r:n==="merge"?t.config=Me({},t.config,r):(t.config=(0,Ws.default)(t.config,r),r.objectPropKeys&&(t.config.objectPropKeys=r.objectPropKeys))},this.getTheme=function(){return t.config.theme},this.setTheme=function(r){t.config.theme=(0,Ws.default)(t.config.theme||{},r)},this.getMode=function(){var r;return((r=t.config.mode)==null?void 0:r.currentMode)||""},this.setMode=function(r){if(nn){var n=t.config.mode.currentMode;n&&document.documentElement.classList.remove(n),r&&document.documentElement.classList.add(r),localStorage.setItem(Ny,r),t.setConfig({mode:{currentMode:r}})}},this.use=function(){var r;(r=t.config.plugins).push.apply(r,arguments)},this.addAtom=function(r,n){var a={isMatch:function(o){return typeof r=="string"?o===r:r instanceof RegExp?r.test(o):!1},handleAtom:typeof n=="function"?n:function(i){return i.style=n,i}};return t.use(a),a},this.composeAtom=function(r,n){t.compositions.set(r,n)}}return Vs(e,[{key:"theme",get:function(){return this.config.theme}}]),e}(),q=new Ry,ky=["pseudoPrefix","childSelector","important"],Dy=["colorPostfix"],hd=["excludedProps"],My=/^(m[xytrbl]?-?|p[xytrbl]?|gap[xy]?|space[xy]?|top-?|right-?|bottom-?|left-?|[wh]|square|circle|min[hw]|max[hw]|opacity|delay|duration|translate[xyz]|scale[xy]?|rotate[xy]?|skew[xy]?|text|zIndex-?|leading|stroke|fontWeight|outlineOffset|order|flex(Grow|Shrink|Basis)?|(row|column)?Gap|gridTemplateColumns|border(Top|Right|Bottom|Left)?|rounded(Top(Left|Right)?|Right|Bottom(Left|Right)?|Left)?)(-?\d+[a-z]*?|-auto)$/i,Ae=function(){function e(r,n){var a=this;n===void 0&&(n=!0),this.options=r,this.autoSetId=n,this.props={},this.propKeys=[],this.value="",this.id="",this.type="",this.setId=function(){var i=a.meta,o=a.key,s=a.value,u=i.important,l=fd(i,ky),c=Object.values(l).sort();u&&c.push("i");var d="";if(i.global)return d=(0,$s.default)(JSON.stringify(s)).toString(),a.id=d,d;if(typeof s=="boolean"&&s===!0)d=o;else if(Array.isArray(s)){var f=s.join("-");d=o+"-"+f}else typeof s=="function"?d=o+"-"+s(a.props):d=o+"-"+String(s);c.length&&(d=d+"--"+c.join("--")),d=d.replace(/[#()"']/g,"").replace(".","_").replace(/\%/g,"p").replace(/\s+/g,"-"),a.isFalsyPropValue&&(d=d+"--false"),i.childSelector&&(d=i.childSelector+"-"+d);var p=/^[a-zA-Z0-9-_]+$/.test(d);return d=p?d:"css-"+(0,$s.default)(d),a.id=d,d},this.propKey=r.propKey,this.propValue=r.propValue,this.propKeys=[this.propKey],this.key=r.key||this.propKey,this.value=r.value||this.propValue,this.style=r.style||{},this.props=r.props||{},this.handled=this.getInitialHandled(),this.isValid=this.getIsValid(),this.inserted=!1,this.meta=Me({},r.meta)||{},this.type=r.type||"",this.preprocessAtom()}var t=e.prototype;return t.preprocessAtom=function(){var n=this.postfixPreprocessor();return this.autoSetId&&this.setId(),n},t.postfixPreprocessor=function(){var n="--",a=["after","before","placeholder","selection"],i=q.config,o=i.pseudos,s=o===void 0?[]:o,u=i.theme,l=i.mode,c=l.modeList,d=u.breakpoints,f=this.propKey,p=this.propValue,g=Object.keys(d),h=c||[],y=s,m=n+"("+g.join("|")+")",b=n+"("+h.join("|")+")",S=n+"("+y.join("|")+")",v=new RegExp(b),_=new RegExp(S),w=new RegExp(m),E=/--i/i,C=/--[told](\d{1,2}|100)($|--)/i,k=/--\$\w+/i;if(C.test(p)){var U=p.split("--"),N=U[0],Z=U[1];this.value=N,this.meta.colorPostfix=Z}var M=v.test(f),re=_.test(f),H=w.test(f),Q=E.test(f),ae=C.test(f),se=k.test(f),It=M||re||H||Q||ae;if(!It)return this.digitPreprocessor();var He=f.split(n);if(this.key=He[0],M&&(this.meta.mode=He.find(function(Ee){return h.includes(Ee)})),re){var nr=He.find(function(Ee){return y.includes(Ee)});this.meta.pseudoPrefix=a.includes(nr)?"::":":",this.meta.pseudo=nr}if(H){var lt=He.find(function(Ee){return g.includes(Ee)});this.meta.breakpoint=lt}if(Q&&(this.meta.important=!!He.find(function(Ee){return Ee==="i"})),ae&&(this.meta.colorPostfix=He.find(function(Ee){return C.test("--"+Ee)})),se){var Wr;this.meta.parentClass=(Wr=He.find(function(Ee){return Ee.startsWith("$")}))==null?void 0:Wr.replace(/^\$/,"")}return this.digitPreprocessor(),this},t.digitPreprocessor=function(){if(!My.test(this.key))return this;var n=q.config.theme.spacings,a=/^([a-z]+)(\d+)$/i.test(this.key),i=this.key.toString(),o=i.match(/^([a-z]+)(\d+)$/i)||i.match(/^([a-z]*)-(-?\d+[a-z]*?)$/i)||i.match(/^([a-z]+)-(auto)$/i);if(!o)return this;var s=o[1],u=o[2];return this.key=s,this.value=a?n[""+u.toLowerCase()]:u,this},t.getInitialHandled=function(){return this.options.handled?this.options.handled:!!(this.isFalsyPropValue||hd.includes(this.propKey))},t.getIsValid=function(){return!(this.isFalsyPropValue||hd.includes(this.propKey))},Vs(e,[{key:"isValueProp",get:function(){return typeof this.propValue=="string"||typeof this.propValue=="number"}},{key:"styleKeys",get:function(){return Object.keys(this.style||{}).join("-")}},{key:"styleKeysHash",get:function(){var n=this.meta,a=fd(n,Dy);return Object.keys(this.style||{}).join("-")+JSON.stringify(a)}},{key:"isFalsyPropValue",get:function(){return this.propValue===void 0||this.propValue===null?!0:typeof this.propValue=="boolean"&&!this.propValue}},{key:"isTruePropValue",get:function(){return typeof this.propValue=="boolean"&&this.propValue}}]),e}(),Py=function(){function e(){if(this.$style=null,this.cssString="",this.ssrAtomIds=null,nn){var r;this.$style=(r=globalThis.document)==null||r.querySelector==null?void 0:r.querySelector("[data-fower]")}}var t=e.prototype;return t.createStyleElement=function(){var n=document.createElement("style");return n.dataset.fower="",document.head.append(n),n},t.getSsrAtomIds=function(){var n;return this.$style?this.ssrAtomIds?this.ssrAtomIds:((n=this.$style)==null||(n=n.dataset.fower)==null?void 0:n.split(","))||[]:[]},t.insertStyleToHtml=function(n){if(nn){this.$style||(this.$style=this.createStyleElement());for(var a=gt(n),i;!(i=a()).done;){var o=i.value;try{this.$style.sheet.insertRule(o)}catch(s){console.warn(s)}}}},t.insertStyles=function(n){if(n===void 0&&(n=[]),!!n.length){if(nn)return this.insertStyleToHtml(n);this.cssString=this.cssString+" "+n.join(" ")}},t.getStyle=function(){return this.cssString},e}(),ma=new Py,Ly=/(-columns|(^|[^e]-)padding|[^t]-spacing|l-align|rows|(^|(^border|[dkmnptx]|le|ne)-)width|^border|tom|[ek]-start|(o|[^e]-du)ration|us|(^|[^tv]-)left|(^|-)top|tance|rgin|e-offset|(er|g|n|t)-block|(^|[^tv]-)right|basis|[gnt]-inline|gap|(^|[^e]-)height|ness|(^|[^p]-)inset|[ek]-end|elay|tline|ve|dent|-rotate|n-rule|(c|ck|d|ne|t)-size)$/;function Fy(e){return Ly.test(e)}var md=["color","backgroundColor","borderColor"],Uy=["children","onClick","onChange","onBlur","id","className","style","title","tabIndex","placeholder","href","src","contentEditable","defaultChecked","defaultValue"],ga=function(){function e(r){var n;r===void 0&&(r={}),this.props=r,this.atoms=[],this.data={},this.getClassNameById=function(a){return q.config.prefix+a},this.traverseProps(r),(n=q.config.mode)!=null&&(n=n.autoDarkMode)!=null&&n.enabled&&this.createAutoDarkModeAtom()}var t=e.prototype;return t.traverseProps=function(n){if(!pa(n)){for(var a=n.excludedProps,i=a===void 0?[]:a,o=Object.entries(n),s=gt(this.plugins),u;!(u=s()).done;){var l=u.value;l.init&&l.init(n)}for(var c=0,d=o;c<d.length;c++){var f,p=d[c],g=p[0],h=p[1];if(!i.includes(g)&&!Uy.includes(g)&&this.isValidProp(g,h)){if((f=this.config.objectPropKeys)!=null&&f.includes(g)){this.parseObjectProp(h,{});continue}if(Array.isArray(h)&&!(/^bgGradient[XY].*/i.test(g)&&!Array.isArray(h[0]))){this.parseResponsiveValue(g,h);continue}var y=q.compositions.get(g);if(y){this.parseObjectProp(y,{});var m=new Ae({propKey:g,propValue:h,props:this.props});m.handled=!0,m.style={},this.addAtom(m);continue}var b=new Ae({propKey:g,propValue:h,props:this.props},!1);try{this.mutateAtom(b),b.handled&&this.addAtom(b)}catch{continue}}}for(var S=gt(this.plugins),v;!(v=S()).done;){var _=v.value;_.afterAtomStyleCreate&&_.afterAtomStyleCreate(this)}}},t.getAutoDarkModeAtom=function(n){var a;if(n.meta.mode||!n.style)return null;var i=Object.entries(n.style);if(!(i!=null&&i.length))return null;var o={},s="",u=q.config,l=u.mode.autoDarkMode.mappings,c=u.theme.colors,d=i[0],f=d[0],p=d[1];if(!md.includes(f)||!c[p])return null;var g=p.match(/^([a-z]+)(\d+)$/i)||[],h=g[2];if(l[p]===!1)return null;l[n.propKey]?s=l[n.propKey]:l[p]?s=l[p]:s=p.replace(h,l[h]);var y=f==="color",m=f==="backgroundColor",b=f==="borderColor";return c[s]?(y?(o.propKey=s,o.type="color"):m?(o.propKey="bg"+xr(s),o.type="backgroundColor"):b&&(o.propKey="border"+xr(s),o.type="borderColor"),o.propValue=!0):y?(o.propKey="color",o.propValue=s):m?(o.propKey="bg",o.propValue=s):b&&(o.propKey="borderColor",o.propValue=s),o.style=(a={},a[f]=s,a),new Ae(Me({},o,{props:this.props,meta:Me({},n.meta,{mode:"dark"})}))},t.createAutoDarkModeAtom=function(){for(var n=this,a=function(){var l,c=s.value;if(!c.isValid||((l=c.meta)==null?void 0:l.mode)==="dark"||!md.includes(c.type))return 0;var d=n.atoms.find(function(g){return c.type===g.type&&g.meta.mode==="dark"&&!Reflect.has(g.meta,"pseudo")&&!Reflect.has(g.meta,"childSelector")});if(d)return 0;var f=n.getAutoDarkModeAtom(c);if(!f)return 0;var p=q.atomCache.get(f.id);p?n.addAtom(p):n.addAtom(f)},i,o=gt(this.atoms),s;!(s=o()).done;)i=a()},t.formatCssValue=function(n,a){if(!Fy(n))return a;var i=a;if(ad(String(a)))return String(a).replace("p","%");if(!an(a))return a;if(i=Number(a),i<1&&i>0)return i*100+"%";var o=q.config;return o.unit!=="none"?o.transformUnit?o.transformUnit(i):a+q.config.unit:i},t.styleToString=function(n,a){var i=this,o=a.important,s=a.colorPostfix;return Object.entries(n).reduce(function(u,l){var c=l[0],d=l[1];c=c.replace(/\-\-.+/,"");var f=_r(c),p=o?" !important":"",g=q.theme.colors;try{return s?d=ha(g?.[d]||d,s):d=i.formatCssValue(f,g?.[d]||d),u+(f+": "+d+p+";")}catch{return""}},"")},t.addAtom=function(n){var a,i;n.props=this.props,n.id||n.setId(),q.atomCache.get(n.id)||q.atomCache.set(n.id,n);for(var o=ma.getSsrAtomIds(),s=((a=this.config.theme)==null?void 0:a.colors)||{},u=s.modes,l=u===void 0?{}:u,c=Object.entries(l),d=0,f=c;d<f.length;d++){var p=f[d],g=p[0],h=p[1];if(n.style){var y=Object.entries(n.style);if(y.length){var m=y[0],b=m[0],S=m[1],v=h[S];if(v){var _="--"+g,w=JSON.parse(JSON.stringify(n));w.key=n.key+_,w.id=n.id+_,w.meta=Me({mode:g},n.meta),w.style[b]=v,o.includes(w.id)&&(w.inserted=!0),this.atoms.push(w)}}}}if(o.includes(n.id)&&(n.inserted=!0),(i=q.config.mode)!=null&&(i=i.autoDarkMode)!=null&&i.enabled){var E;if(n.type==="color"&&((E=n.meta)==null?void 0:E.mode)!=="dark"&&!Reflect.has(n.meta,"pseudo")){var C=this.atoms.findIndex(function(k){var U;return k.type==="color"&&((U=k.meta)==null?void 0:U.mode)!=="dark"&&!Reflect.has(n.meta,"childSelector")&&!Reflect.has(n.meta,"pseudo")});C>-1&&(this.atoms[C]=Me({},this.atoms[C],{isValid:!1}))}}this.atoms.push(n)},t.isValidProp=function(n,a){var i,o=["string","boolean","number","undefined","function"];if((i=this.config.objectPropKeys)!=null&&i.includes(n)||n.startsWith("_")||Array.isArray(a))return!0;var s=typeof a;return!!o.includes(s)},t.mutateAtom=function(n){for(var a=gt(this.plugins),i;!(i=a()).done;){var o=i.value;o.isMatch!=null&&o.isMatch(n.key,this)&&(n.id||n.setId(),typeof n.value=="function"&&(n.value=n.value(this.props)),o.beforeHandleAtom&&(n=o.beforeHandleAtom(n,this)))}(Object.values(n.meta||{}).length||Object.values(n.style||{}).length)&&(n.id||n.setId());var s=q.atomCache.get(n.id);if(s)throw s.propKeys.includes(n.propKey)||s.propKeys.push(n.propKey),this.addAtom(s),new Error("atom is cached, add to this.atoms directly, no need to mutate");if(n.handled)throw this.addAtom(n),new Error("atom is handled, add to this.atoms directly ,no need to mutate");for(var u=gt(this.plugins),l;!(l=u()).done;){var c=l.value;if(c.isMatch!=null&&c.isMatch(n.key,this)){c.handleAtom&&(n=c.handleAtom==null?void 0:c.handleAtom(n,this)),n.handled=!0;break}}},t.parseResponsiveValue=function(n,a){var i=this.config.theme.breakpoints,o=Object.keys(i),s=a.reduce(function(u,l,c){var d,f=""+n+(c===0?"":"--"+o[c-1]);return Me({},u,(d={},d[f]=l,d))},{});this.parseObjectProp(s)},t.parseObjectProp=function(n,a){a===void 0&&(a={}),n=typeof n=="function"?n(this.props):n;for(var i=this.config.theme.breakpoints,o=od(n,i),s=gt(o),u;!(u=s()).done;){var l=u.value,c=l.selector,d=l.selectorType,f=l.style,p=Object.entries(f);if(p.length){var g=p[0],h=g[0],y=g[1],m={propKey:h,propValue:y,props:this.props,meta:Me({},a)};if(f&&Object.keys(f).length&&(m.style=f),d==="pseudo"&&m.meta){var b=c.match(/(:+)(.+)/)||[],S=b[1],v=b[2];m.meta.pseudoPrefix=S,m.meta.pseudo=v}d==="child"&&m.meta&&(m.meta.childSelector=c),d==="sibling"&&m.meta&&(m.meta.siblingSelector=c);var _=new Ae(m,!1);try{this.mutateAtom(_)}catch{continue}(!_.style||!Object.keys(_.style).length)&&(_.handled=!0);var w=q.atomCache.get(_.id);w?this.addAtom(w):this.addAtom(_)}}},t.makeResponsiveStyle=function(n,a){var i=this.config.theme.breakpoints;return"@media (min-width: "+i[n]+") {"+a+"}"},t.getClassNames=function(){var n=this,a=[];this.atoms.reduce(function(c,d){if(!d.style||!Object.keys(d.style).length)return c;var f=c.findIndex(function(g){return g.styleKeysHash===d.styleKeysHash});if(!d.isValid)return c;var p=n.getClassNameById(d.id);return f===-1?(a.push(p),c=[].concat(c,[d])):(c.splice(f,1,d),a.splice(f,1,p)),c},[]);var i=this.props.className,o=i===void 0?"":i,s=o.split(/\s+/).filter(function(c){return!a.includes(c)&&!!c});if(a=a.concat(s),this.hasResponsive){var u,l=this.config.theme.breakpoints;(u=a).push.apply(u,Object.keys(l).map(function(c){return"r-"+c}))}return a},t.toStyle=function(){var n=this,a=this.atoms.reduce(function(i,o){if(!o.isValid)return i;var s=q.theme.colors,u=Object.entries(o.style).reduce(function(l,c){var d,f=c[0],p=c[1],g=n.formatCssValue(_r(f),s[p]||p);return Me({},l,(d={},d[f]=g,d))},{});return Me({},i,u)},{});return a},t.toRules=function(n){n===void 0&&(n=!1);for(var a=this.config.mode.classPrefix,i=a===void 0?"":a,o=[],s=this.config.theme.breakpoints,u=Object.keys(s),l=gt(this.atoms),c;!(c=l()).done;){var d=c.value,f="",p=d.id,g=d.isValid,h=d.style,y=h===void 0?{}:h,m=d.meta;if(g&&!pa(y)){var b=m.pseudo,S=m.pseudoPrefix,v=m.mode,_=m.breakpoint,w=_===void 0?"":_,E=m.childSelector,C=m.siblingSelector,k=m.parentClass;if(!(!n&&d.inserted)){d.inserted=!0;var U=this.getClassNameById(p),N=m.global?m.global:"."+U;if(v&&(N="."+i+v+" "+N),C&&(N=""+N+C),b){var Z=S+b;k?N="."+k+Z+" "+N:N=N+Z}if(E)if(w){var M=u.slice(0,u.indexOf(w)+1);N=N+"."+M.map(function(H){return"r-"+H}).join(".")+(" "+E)}else N=N+" "+E;else if(w){var re=u.slice(0,u.indexOf(w)+1);N=N+"."+re.map(function(H){return"r-"+H}).join(".")}f=N+" { "+this.styleToString(y,d.meta)+" }",w&&(f=this.makeResponsiveStyle(w,f)),o.push(f)}}}return o},t.getParsedProps=function(){var n=this,a=this.props,i=this.atoms;if(pa(a))return{};var o=Object.entries(a),s=o.reduce(function(u,l){var c=l[0],d=l[1];if(/.*--(\d+)?[a-z]+$/i.test(c))return u;var f=i.find(function(p){return[p.propKey,p.key,p.id].concat(n.config.objectPropKeys||[]).includes(c)||p.propKeys.includes(c)});return f||(u[c]=d),u},{});return s},t.insertRules=function(){var n=this.toRules();ma.insertStyles(n)},Vs(e,[{key:"uniqueClassName",get:function(){return Ds(Object.keys(this.props))}},{key:"hasResponsive",get:function(){return this.atoms.some(function(n){return!!n.meta.breakpoint})}},{key:"store",get:function(){return q}},{key:"config",get:function(){return q.config}},{key:"plugins",get:function(){return q.config.plugins}}]),e}();function on(e,t){var r=Object.entries(e).reduce(function(i,o){var s=o[0],u=o[1],l=Object.entries(u).reduce(function(c,d){var f=d[0],p=d[1];return c+(_r(f)+": "+p+";")},"");return i+(_r(s)+" {"+l+"}")},""),n=t||"keyframes-"+(0,Ms.default)(JSON.stringify(e)),a=`
    @keyframes `+n+` {
      `+r+`
    }
  `;return ma.insertStyles([a]),n}function jy(e){for(var t=Object.entries(e),r=new ga({}),n=0,a=t;n<a.length;n++){var i=a[n],o=i[0],s=i[1],u=new Ae({propKey:o,propValue:s,value:s,meta:{global:o},style:s});r.addAtom(u)}r.insertRules()}jy({"*, ::before, ::after":{borderWidth:0,borderStyle:"solid",borderColor:"#e5e5e5",boxSizing:"border-box"}});var gd=q.setConfig,JS=q.getConfig,eE=q.setTheme,tE=q.getTheme,rE=q.setMode,nE=q.getMode,aE=q.addAtom,iE=q.composeAtom,Ar=q;function By(e){return/^appearanceNone$/i.test(e)}var Wy=function(){return{isMatch:By,handleAtom:function(t){return t.style={appearance:"none"},t}}},yd=Wy;function Hs(e){return/^bg?$/.test(e)}function vd(e){return/^bg.+$/i.test(e)}function bd(e){return/^bgClip.*$/i.test(e)}function wd(e){return/^backgroundRepeat$/i.test(e)}function xd(e){return/^backgroundImage$/i.test(e)}function _d(e){return/^backgroundSize$/i.test(e)}function Ad(e){return/^backgroundPosition$/i.test(e)}function $y(e){return[Hs,bd,vd,wd,xd,_d,Ad].some(function(t){return t(e)})}function Vy(e,t){if(xd(e))return{backgroundImage:t};if(bd(e)){var r=e.replace(/^bgClip/i,"").toLowerCase();return r==="text"?{"-webkit-background-clip":"text"}:/^bgClip$/i.test(e)?{backgroundClip:t}:{backgroundClip:r+"-box"}}return Ad(e)?{backgroundPosition:t}:_d(e)?{backgroundSize:t}:wd(e)?{backgroundRepeat:t}:Hs(e)?{backgroundColor:t}:{backgroundColor:ue(e.replace(/^bg/i,""))}}var Hy=function(){return{isMatch:$y,handleAtom:function(t){return t.style=Vy(t.key,t.value),(Hs(t.key)||vd(t.key))&&(t.type="backgroundColor"),t}}},Sd=Hy;var Td="border(Top|Left|Right|Bottom)",Yy=new RegExp("^"+Td+"$","i"),Ed=new RegExp("^("+Td+")([a-z]+\\d{2,3})$","i");function zy(e){return e.startsWith("border")}function Id(e){return/^\d(px|rem|em|vh|vw)?$/.test(String(e))}function Gy(e){return/^border.+\d+$/i.test(e)}function Zy(e,t){var r,n=e.key,a=e.value;if(n==="border")return typeof a=="boolean"?{borderWidth:1}:a==="none"?{border:"none"}:Id(a)?{borderWidth:a}:{border:a};var i=t.config.theme.colors,o=n.replace(/^border/,"");if(/^(Solid|Dashed|Dotted|Double|None)$/i.test(o))return{borderStyle:o.toLowerCase()};if(Yy.test(n)){var s,u,l="border"+xr(o)+"Width";if(typeof a=="boolean"&&a===!0){var c;return c={},c[l]=1,c}return Id(a)?(s={},s[l]=a,s):(u={},u[n]=a,u)}if(Ed.test(n)){var d,f=n.match(Ed),p=f[1],g=f[3],h=ue(g);return d={},d[nd(p+"Color")]=i[h],d}var y=ue(o);return i[y]?{borderColor:y}:(r={},r[n]=i[a]||a,r)}var qy=function(){return{isMatch:zy,handleAtom:function(t,r){t.style=Zy(t,r);var n=Gy(t.key);if(t.style.borderColor){var a=t.style.borderColor,i=r.config.theme.colors;i[a]&&(n=!0)}return n&&(t.type="borderColor"),t}}},Od=qy;function Ky(e,t){if(e==="color")return!0;var r=t.config.theme.colors;return!!r[e]}var Xy=function(){return{isMatch:Ky,handleAtom:function(t){var r=t.key,n=t.value;return t.style={color:r==="color"?n:r},t.type="color",t}}},Cd=Xy;function Qy(e){var t=/^(hidden|inline|inlineBlock|inlineGrid|inlineFlex|block|grid|table)$|^display$/gi;return t.test(e)}function Jy(e,t){return e==="hidden"?{display:"none"}:e==="inline"?{display:"inline"}:e==="display"?{display:t}:{display:ce(e.replace("inline","inline-"))}}var ev=function(){return{isMatch:Qy,handleAtom:function(t){return t.style=Jy(t.key,t.value),t}}},Nd=ev;var tv={auto:"1 1 auto",initial:"0 1 auto",none:"none"},Rd=/^flex(Auto|Initial|None)$/i,kd=/^flex(Wrap(Reverse)?|Nowrap)$/i,Dd=function(t){return/^order$|^flex(Grow|Shrink|Basis|Wrap)?$/i.test(t)};function rv(e){return Dd(e)||Rd.test(e)||kd.test(e)}function nv(e){var t=e.key,r=e.value,n={};if(t==="flex"&&/^\d+/.test(r))return{flex:Number(r)};if(kd.test(t)&&e.isTruePropValue){var a=t.replace(/^flex/,"");return n.flexWrap=ce(a).toLowerCase(),n}if(Dd(t)){var i=/^flex(Grow|Shrink|Basis|Wrap)$/i.test(t),o=i?ce(t.replace(/^flex/,"flex-")):t;n[o]=r}if(Rd.test(t)){var s=t.replace(/^flex/,"").toLowerCase();n.flex=tv[s]}return n}var av=function(){return{isMatch:rv,handleAtom:function(t){return t.propKey==="flex"&&t.isTruePropValue?t.style={display:"flex"}:t.style=nv(t),t}}},Md=av;var iv={gap:"gap",x:"columnGap",y:"rowGap"};function ov(e){return/^gap[xy]?-?$|^gridTemplateColumns$/i.test(e)}function sv(e,t){var r={};if(e.startsWith("gridTemplateColumns")&&(r.gridTemplateColumns="repeat("+t+", minmax(0px, 1fr))"),/^gap[xy]?-?$/i.test(e)){var n=e.replace(/^gap/i,"")||"gap";r[iv[n.toLocaleLowerCase()]]=t}return r}var uv=function(){return{isMatch:ov,handleAtom:function(t){return t.style=sv(t.key,t.value),t}}},Pd=uv;function lv(e){return/^gridTemplateColumns$/i.test(e)}function cv(e,t){var r={};return e.startsWith("gridTemplateColumns")&&(r.gridTemplateColumns="repeat("+t+", minmax(0px, 1fr))"),r}var dv=function(){return{isMatch:lv,handleAtom:function(t){return t.style=cv(t.key,t.value),t}}},Ld=dv;function fv(e,t){if(e){if(typeof e=="string")return Fd(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Fd(e,t)}}function Fd(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Ud(e,t){var r=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r)return(r=r.call(e)).next.bind(r);if(Array.isArray(e)||(r=fv(e))||t&&e&&typeof e.length=="number"){r&&(e=r);var n=0;return function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var va="totop",ba="toleft",wa="toright",xa="tobottom",_a="tobetween",Aa="toaround",Sa="toevenly",jd="tocenter",Ea="tocenterx",Ia="tocentery",Bd="selftop",Wd="selfright",$d="selfbottom",Vd="selfleft",Hd="selfcenter",pv="selfcenter",hv="selfauto",sn="flex-start",un="flex-end",mv="space-between",gv="space-around",yv="space-evenly",ya="center",vv=[ba,wa,va,xa,jd,Ea,Ia,_a,Aa,Sa,Bd,Wd,$d,Vd,Hd,pv];function bv(e,t){var r={},n="";e=e.toLowerCase(),t.startsWith("row")?([ba,wa,Ea,_a,Aa,Sa].includes(e)&&(n="justifyContent"),[va,xa,Ia].includes(e)&&(n="alignItems")):([va,xa,Ia,_a,Aa,Sa].includes(e)&&(n="justifyContent"),[ba,wa,Ea].includes(e)&&(n="alignItems"));var a=/^rowReverse$/i.test(t),i=/^columnReverse$/i.test(t);return e===va?r[n]=i?un:sn:e===xa?r[n]=i?sn:un:e===ba?r[n]=a?un:sn:e===wa?r[n]=a?sn:un:[Ea,Ia].includes(e)?r[n]=ya:e===_a?r[n]=mv:e===Aa?r[n]=gv:e===Sa?r[n]=yv:e===jd&&(r.justifyContent=ya,r.alignItems=ya),[Bd,Vd].includes(e)?r.alignSelf=sn:[$d,Wd].includes(e)?r.alignSelf=un:e===Hd?r.alignSelf=ya:e===hv&&(r.alignSelf="auto"),r}var wv=new RegExp(""+vv.join("|"),"i");function Yd(e){return/^flexDirection$/.test(e)}function zs(e){return/^(row|column)(Reverse)?$/i.test(e)}function zd(e){return wv.test(e)}function Ys(e){return zs(e)||Yd(e)||zd(e)}var xv=function(){return{isMatch:Ys,beforeHandleAtom:function(t){return zs(t.key)&&(t.id="flexDirection-"+t.id,t.style={flexDirection:ce(t.key)}),Yd(t.key)&&(t.style={flexDirection:ce(t.value)}),t},handleAtom:function(t){return t},afterAtomStyleCreate:function(t){if(t.atoms.length){var r=t.atoms.find(function(Z){return Ys(Z.key)});if(r){for(var n=[],a=[],i=Ud(t.atoms),o;!(o=i()).done;){var s=o.value;Ys(s.key)&&(zd(s.key)?a.push(s):n.push(s))}if(!n.length){var u="row",l="flexDirection-"+u,c=t.store.atomCache.get(l);if(c)t.addAtom(c),n.push(c);else{var d=new Ae({propKey:l,propValue:!0,key:u,handled:!0,style:{flexDirection:u}});d.setId(),d.id="flexDirection-"+d.id,t.addAtom(d),n.push(d)}}for(var f=0,p=n;f<p.length;f++)for(var g=p[f],h=g.key,y=g.value,m=g.meta.breakpoint,b=zs(h)?h:y,S=Ud(a),v;!(v=S()).done;){var _=v.value,w=new Ae(_);m&&(w.meta.breakpoint=_.meta.breakpoint||m),w.setId(),w.id=b+"-"+w.id;var E=t.store.atomCache.get(w.id);E?t.addAtom(E):(w.style=bv(w.key,b),t.addAtom(w))}var C=t.atoms.find(function(Z){var M,re;return!!(Z!=null&&(M=Z.style)!=null&&M.display)&&!((re=Z.meta)!=null&&re.pseudo)});if(!C){var k="flex",U=t.store.atomCache.get(k);if(U)t.addAtom(U);else{var N=new Ae({propKey:k,propValue:!0,handled:!0,style:{display:"flex"}});t.addAtom(N)}}}}}}},Gd=xv;function _v(e){return/^leading(None|Tight|Snug|Normal|Relaxed|Loose)?$/i.test(e)}function Av(e,t){var r=e.key,n=e.value,a=e.isValueProp;if(a)return/^\d+$/.test(n)?{lineHeight:Number(n)}:{lineHeight:n};var i=t.store.getTheme().lineHeights,o=r.replace(/^leading/,""),s=i[ue(o)];return s?{lineHeight:s}:/^\d+$/.test(n)?{lineHeight:Number(n)}:{lineHeight:n}}var Sv=function(){return{isMatch:_v,handleAtom:function(t,r){return t.style=Av(t,r),t}}},Zd=Sv;var Ev=function(){return{isMatch:function(t){return/^list(Inside|Outside|disc|circle|square|decimal|none|TradChineseInformal|LowerRoman|LowerAlpha|UpperAlpha|UpperRoman)$/i.test(t)},handleAtom:function(t){var r,n=t.key,a=n.replace(/^list/,""),i=/^(in|out)side$/i.test(a)?"Position":"Type";return t.style=(r={},r["listStyle"+i]=ce(a).toLowerCase(),r),t}}},qd=Ev;function Gs(){return Gs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Gs.apply(this,arguments)}var Xe="margin",Kd="Top",Xd="Left",Qd="Right",Jd="Bottom",Iv={m:[Xe],ml:[Xe+Xd],mt:[Xe+Kd],mr:[Xe+Qd],mb:[Xe+Jd],mx:[Xe+Xd,Xe+Qd],my:[Xe+Kd,Xe+Jd]};function Tv(e){return/^m[ltrbxy]?$/i.test(e)}var Ov=function(){return{isMatch:Tv,handleAtom:function(t){var r=t.key,n=t.value;return t.style=Iv[r].reduce(function(a,i){var o;return Gs({},a,(o={},o[i]=n,o))},{}),t}}},ef=Ov;function Cv(e){return/^opacity$/.test(e)}var Nv=function(){return{isMatch:Cv,handleAtom:function(t){return t.style={opacity:Number(t.value)/100},t}}},tf=Nv;function Rv(e){return/^overflow[XY]?(Auto|Hidden|Visible|Scroll)?$/i.test(e)}function kv(e){var t,r,n=e.key,a=e.value,i=e.isValueProp;if(i)return t={},t[n]=a,t;var o=n.match(/^(overflow[XY]?)(Auto|Hidden|Visible|Scroll)?$/i),s=o[1],u=o[2];return s=s.replace(/[xy]$/i,function(l){return l.toUpperCase()}),u=u.toLowerCase(),r={},r[s]=u,r}var Dv=function(){return{isMatch:Rv,handleAtom:function(t){return t.style=kv(t),t}}},rf=Dv;function Zs(){return Zs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Zs.apply(this,arguments)}var Qe="padding",nf="Top",af="Left",of="Right",sf="Bottom",Mv={p:[Qe],pl:[Qe+af],pt:[Qe+nf],pr:[Qe+of],pb:[Qe+sf],px:[Qe+af,Qe+of],py:[Qe+nf,Qe+sf]};function Pv(e){return/^p[ltrbxy]?(--?[\da-z]+)?$/i.test(e)}var Lv=function(){return{isMatch:Pv,handleAtom:function(t){var r=t.key,n=t.value;return t.style=Mv[r].reduce(function(a,i){var o;return Zs({},a,(o={},o[i]=n,o))},{}),t}}},uf=Lv;var lf=["static","fixed","absolute","relative","sticky"];function Fv(e){return/^(top|right|bottom|left)$/i.test(e)||lf.includes(e)||e==="position"}function Uv(e,t){var r;return e==="position"?{position:t}:lf.includes(e)?{position:e}:(r={},r[e]=t,r)}var jv=function(){return{isMatch:Fv,handleAtom:function(t){return t.style=Uv(t.key,t.value),t}}},cf=jv;function Bv(e,t){if(e){if(typeof e=="string")return df(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return df(e,t)}}function df(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function ff(e,t){var r=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r)return(r=r.call(e)).next.bind(r);if(Array.isArray(e)||(r=Bv(e))||t&&e&&typeof e.length=="number"){r&&(e=r);var n=0;return function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Sr="Top",Er="Left",Ir="Right",Tr="Bottom",pf={roundedTop:[Sr+Er,Sr+Ir],roundedRight:[Sr+Ir,Tr+Ir],roundedBottom:[Tr+Er,Tr+Ir],roundedLeft:[Sr+Er,Tr+Er],roundedTopLeft:[Sr+Er],roundedTopRight:[Sr+Ir],roundedBottomLeft:[Tr+Er],roundedBottomRight:[Tr+Ir]};function Wv(e){return/^rounded(Top(Left|Right)?|Right|Bottom(Left|Right)?|Left)?/i.test(e)}function $v(e,t,r){var n={},a=r.config.theme.radii||{},i=Object.keys(a)||[],o=new RegExp("("+i.join("|")+")$","i");if(e==="rounded"){var s=typeof t=="boolean";return{borderRadius:s?a.md:t}}if(o.test(e)){var u=e.match(o)||[],l=u[0],c=l===void 0?"":l,d=a[c.toLowerCase()];if(c&&typeof d=="number"){var f=e.replace(c,"");if(f==="rounded")return{borderRadius:d};for(var p=ff(pf[f]),g;!(g=p()).done;){var h=g.value;n["border"+h+"Radius"]=d}return n}}for(var y=ff(pf[e]||[]),m;!(m=y()).done;){var b=m.value;n["border"+b+"Radius"]=t}return n}var Vv=function(){return{isMatch:Wv,handleAtom:function(t,r){return t.style=$v(t.key,t.value,r),t}}},hf=Vv;function Hv(e){return/^shadow/i.test(e)}function Yv(e,t){var r=e.key,n=e.value,a=e.isValueProp;if(a)return{boxShadow:n};var i=r.replace("shadow",""),o=i.toLowerCase(),s=t.config.theme.shadows,u=s[o||"md"];return{boxShadow:u}}var zv=function(){return{isMatch:Hv,handleAtom:function(t,r){return t.style=Yv(t,r),t}}},mf=zv;function qs(){return qs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},qs.apply(this,arguments)}var Gv={w:["width"],h:["height"],square:["width","height"],circle:["width","height","borderRadius"],minw:["minWidth"],maxw:["maxWidth"],minh:["minHeight"],maxh:["maxHeight"]};function Zv(e){return/^([wh]|square|circle|min[hw]|max[hw])$/i.test(e)}var qv=function(){return{isMatch:Zv,handleAtom:function(t){var r=t.key,n=t.value;return t.style=Gv[r.toLowerCase()].reduce(function(a,i){var o;return qs({},a,(o={},o[i]=n,o))},{}),t}}},gf=qv;function Kv(e){return/^text(Left|Center|Right|Justify|Align)$/i.test(e)}function Xv(e){var t=e.key,r=e.value,n=e.isValueProp;return n?{textAlign:r}:{textAlign:t.replace(/^text/i,"").toLowerCase()}}var Qv=function(){return{isMatch:Kv,handleAtom:function(t){return t.style=Xv(t),t}}},yf=Qv;var Jv=function(){return{isMatch:function(t){var r=["textDecoration","underline","lineThrough","noUnderline"];return r.includes(t)},handleAtom:function(t){var r=t.key,n=r==="textDecoration"?t.value:r==="noUnderline"?"none":ce(r);return t.style={textDecoration:n},t}}},vf=Jv;var eb=function(){return{isMatch:function(t){var r=/^overflow(ellipsis|clip)$/i.test(t);return r||t==="truncate"},handleAtom:function(t){var r=t.key;if(r==="truncate")t.style={overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"};else{var n=r.replace(/^overflow/,"");t.style={textOverflow:n.toLowerCase()}}return t}}},bf=eb;function wf(e,t){var r=t.config.theme.fontSizes,n=r===void 0?{}:r,a=Object.keys(n)||[];if(!a.length)return!1;var i=new RegExp("^text("+a.join("|")+")$","i");return i.test(e)}function tb(e,t){return/^text$/.test(e)||wf(e,t)}function rb(e,t,r){if(wf(e,r)){var n=r.config.theme.fontSizes||{},a=e.replace(/^text/,"").toLowerCase();return{fontSize:n[a]}}return{fontSize:t}}var nb=function(){return{isMatch:tb,handleAtom:function(t,r){return t.style=rb(t.key,t.value,r),t}}},xf=nb;var ab=function(){return{isMatch:function(t){var r=["normalcase","uppercase","lowercase","capitalize"];return r.includes(t)},handleAtom:function(t){var r=t.key,n=r==="normalcase"?"none":r;return t.style={textTransform:n},t}}},_f=ab;function ib(e){return/^font(Sans|Serif|Mono)?$/i.test(e)}var ob=function(){return{isMatch:ib,handleAtom:function(t,r){var n=t.key,a=r.config.theme.fontFamilies,i=n.replace(/^font/i,""),o=a[ue(i)];return t.style={fontFamily:o},t}}},Af=ob;function sb(e){return/^(not)?Italic$/i.test(e)}var ub=function(){return{isMatch:sb,handleAtom:function(t){var r=t.key;return t.style={fontStyle:r==="italic"?"italic":"normal"},t}}},Sf=ub;function lb(e){return/^font(Hairline|Thin|Light|Normal|Medium|Semibold|Bold|Extrabold|Black)?$|^fontWeight$/i.test(e)}var cb=function(){return{isMatch:lb,handleAtom:function(t,r){var n=t.key,a=t.value,i=r.config.theme.fontWeights,o=n.replace(/^font/i,""),s=/^weight$/i.test(o)?a:i[ue(o)];return t.style={fontWeight:s},t}}},Ef=cb;function db(e){return/^zIndex$/i.test(e)}var fb=function(){return{isMatch:db,handleAtom:function(t){return t.style={zIndex:t.value},t}}},If=fb;function pb(e){return e==="outline"||Tf(e)||Of(e)}function Tf(e){return/^outlineNone$/i.test(e)}function Of(e){return/^outlineOffset$/i.test(e)}function hb(e){var t=e.key,r=e.value;return Tf(t)?{outline:"none"}:Of(t)?{outlineOffset:r}:{outline:r}}var mb=function(){return{isMatch:pb,handleAtom:function(t){return t.style=hb(t),t}}},Cf=mb;function gb(e){return/^cursor[a-z]*?$/i.test(e)}function yb(e,t){if(e==="cursor")return{cursor:t};var r=e.replace("cursor","");return{cursor:ce(r)}}var vb=function(){return{isMatch:gb,handleAtom:function(t){return t.style=yb(t.key,t.value),t}}},Nf=vb;function Xs(){return Xs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Xs.apply(this,arguments)}function bb(e,t){if(e){if(typeof e=="string")return Rf(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Rf(e,t)}}function Rf(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function kf(e,t){var r=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r)return(r=r.call(e)).next.bind(r);if(Array.isArray(e)||(r=bb(e))||t&&e&&typeof e.length=="number"){r&&(e=r);var n=0;return function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ks(e){return/^(scale[xy]?|rotate[xy]?|translate[xy]|skew[xy]?|origin)-?.*/i.test(e)}var wb=function(){return{isMatch:Ks,handleAtom:function(t){return t},afterAtomStyleCreate:function(t){if(!t.atoms.length)return;var r=t.atoms.find(function(c){return Ks(c.key)});if(!r)return;for(var n={},a=kf(t.atoms),i;!(i=a()).done;){var o=i.value;if(Ks(o.key)){var s=o.meta.pseudo;s?n[s]=[].concat(n[s]||[],[o]):n.common=[].concat(n.common||[],[o])}}for(var u in n)l(n[u]);function l(c){for(var d=[],f=[],p={},g=kf(c),h;!(h=g()).done;){var y=h.value,m=y.value,b=y.key;if(p=Xs({},p,y.meta),/translate[xy]?/i.test(b)){var S=an(m)?m+t.config.unit:m,v=b.replace(/translate/,"");f.push("translate"+v.toUpperCase()+"("+S+")")}if(/scale[xy]?/i.test(b)){var _=an(m)?Number(m)/100:m,w=b.replace(/scale/,"");f.push("scale"+w.toUpperCase()+"("+_+")")}if(/rotate[xy]?/i.test(b)&&f.push("rotate("+m+"deg)"),/skew[xy]?/i.test(b)){var E=b.replace(/skew/,"");f.push("skew"+E.toUpperCase()+"("+m+"deg)")}d.push(y.id)}if(f.length){var C=f.sort(),k=d.sort().join("-"),U="transform-"+k,N=t.store.atomCache.get(U);if(N)return t.addAtom(N);var Z=new Ae({propKey:"transform",propValue:k,handled:!0,meta:p,style:{transform:C.join(" ")}});t.addAtom(Z)}}}}},Df=wb;var Qs=/^ease(linear|In|Out|InOut)/i,Ta=/^transition(None|All|Common|Colors|Opacity|Shadow|Transform)?$/i,xb=["duration","delay"],_b={none:"none",all:"all",common:"background-color, border-color, color, fill, stroke, opacity, box-shadow, transform, filter, backdrop-filter",colors:"background-color, border-color, color, fill, stroke",opacity:"opacity",shadow:"box-shadow",transform:"transform"},Pf={easelinear:"linear",easein:"cubic-bezier(0.4, 0, 1, 1)",easeout:"cubic-bezier(0, 0, 0.2, 1)",easeinout:"cubic-bezier(0.4, 0, 0.2, 1)"};function Mf(e){return Qs.test(e)||Ta.test(e)||xb.includes(e)}function Ab(e,t){var r,n,a=e.key,i=e.value,o=Object.keys(t.props).some(function(l){return Ta.test(l)}),s=o?"transition":"animation";if(a==="delay")return r={},r[s+"Delay"]=i+"ms !important",r;if(a==="duration")return n={},n[s+"Duration"]=i+"ms !important",n;if(a==="transition")return{transition:i};if(Ta.test(a))return{transitionProperty:_b[a.replace(/^transition/,"").toLowerCase()]};if(Qs.test(a)){var u;return u={},u[s+"TimingFunction"]=Pf[a.toLowerCase()],u}}var Sb=function(){return{isMatch:Mf,handleAtom:function(t,r){return t.style=Ab(t,r),t},afterAtomStyleCreate:function(t){if(t.atoms.length){var r=t.atoms.find(function(f){return Mf(f.key)});if(r){var n=t.atoms.find(function(f){return Ta.test(f.key)});if(n){var a=t.atoms.find(function(f){return f.key==="duration"});if(!a){var i="transition-duration-200",o=t.store.atomCache.get(i);if(o)t.addAtom(o);else{var s=new Ae({propKey:i,propValue:!0,handled:!0,style:{transitionDuration:"200ms"}});t.addAtom(s)}}var u=t.atoms.find(function(f){return Qs.test(f.key)});if(!u){var l="easeInOut",c=t.store.atomCache.get(l);if(c)t.addAtom(c);else{var d=new Ae({propKey:l,propValue:!0,handled:!0,style:{transitionTimingFunction:Pf[l.toLowerCase()]}});t.addAtom(d)}}}}}}}},Lf=Sb;function Eb(e){return/^select(none|text|all|auto)$/i.test(e)}var Ib=function(){return{isMatch:Eb,handleAtom:function(t){var r=t.key.replace("select","").toLowerCase();return t.style={userSelect:r},t}}},Ff=Ib;var Tb=/^(in)?visible$/,Uf=function(t){return t==="visibility"};function Ob(e){return Uf(e)||Tb.test(e)}var Cb=function(){return{isMatch:Ob,handleAtom:function(t){var r=t.key;return Uf(r)&&(t.style={visibility:t.value}),r==="visible"&&(t.style={visibility:"visible"}),r==="invisible"&&(t.style={visibility:"hidden"}),t}}},jf=Cb;function Nb(e){return/^box(Sizing|Content|Border)$/i.test(e)}var Rb=function(){return{isMatch:Nb,handleAtom:function(t){var r="",n=t.key,a=t.value;return n==="boxSizing"&&(r=a),n==="boxBorder"&&(r="border-box"),n==="boxContent"&&(r="content-box"),t.style={boxSizing:ce(r)},t}}},Bf=Rb;function kb(e){return/^placeholder.+/i.test(e)}function Db(e,t){var r=e.key,n=t.store.theme.colors,a=r.replace(/^placeholder/,""),i=ue(a);if(n[i])return{color:i}}var Mb=function(){return{isMatch:kb,handleAtom:function(t,r){return t.meta.pseudo="placeholder",t.meta.pseudoPrefix="::",t.style=Db(t,r),t}}},Wf=Mb;function Pb(e){return/^bgGradient[XY]?$/i.test(e)}var Lb=function(){return{isMatch:Pb,handleAtom:function(t,r){var n=t.key,a=t.value,i=r.config.theme.colors,o=n.replace(/^bgGradient/i,"").toLowerCase(),s=o==="x"?"right":"bottom";if(o==="")return t.style={backgroundImage:a},t;if(!Array.isArray(a))return t;var u=a.map(function(l){return i[l]||l}).join(", ");return t.style={backgroundImage:"linear-gradient(to "+s+", "+u+")"},t}}},$f=Lb;var Vf=/^ring(.+)?(\d{2,3})?-?(\d+)?$/i;function Fb(e){return Vf.test(e)}function Ub(e,t){var r=t.store.theme.colors,n="1",a="brand500",i=r[a],o=e.meta.colorPostfix,s=e.key.match(Vf),u=s[1];if(u){var l=u.split("-"),c=l[0],d=l[1];if(d&&(n=d),c)if(a=ue(c),r[a])i=r[a];else return}return i=o?ha(i,o):i,{boxShadow:"0 0 0 "+n+"px "+i}}var jb=function(){return{isMatch:Fb,handleAtom:function(t,r){return t.style=Ub(t,r),t}}},Hf=jb;function Yf(e,t){if(e===void 0&&(e=""),!e.startsWith("fill"))return!1;var r=t.store.theme.colors,n=ue(e.replace(/^fill/,""));return!!r[n]}function Bb(e,t){return/^stroke$|^(stroke|fill)?(Current|None)$/i.test(e)||Yf(e,t)}function Wb(e,t,r){if(/Current$/i.test(e)){var n,a=e.replace(/current$/i,"");return n={},n[a]="currentColor",n}if(/None$/i.test(e)){var i,o=e.replace(/none$/i,"");return i={},i[o]="none",i}if(e==="stroke")return/^\d+/.test(t)?{strokeWidth:t}:{stroke:t};if(Yf(e,r)){var s=ue(e.replace(/^fill/,""));return{fill:s}}}var $b=function(){return{isMatch:Bb,handleAtom:function(t,r){var n=t.key,a=t.value;return t.style=Wb(n,a,r),t}}},zf=$b;var Vb=function(t){return/^animate(None|Spin|Ping|Pulse|Bounce)/i.test(t)};function Hb(e){return Vb(e)}function Yb(e){var t=e.key;if(/^animateNone$/i.test(t))return{animation:"none"};if(/^animateSpin$/i.test(t))return{animation:"spin 1s linear infinite"};if(/^animatePing$/i.test(t))return{animation:"ping 1s cubic-bezier(0, 0, 0.2, 1) infinite"};if(/^animatePulse$/i.test(t))return{animation:"pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite"};if(/^animateBounce$/i.test(t))return{animation:"bounce 1s infinite"}}var zb=function(){var e=!1;return{isMatch:Hb,init:function(){e||(e=!0,on({from:{transform:"rotate(0deg)"},to:{transform:"rotate(360deg)"}},"spin"),on({"75%, 100%":{transform:"scale(2)",opacity:0}},"ping"),on({"0%, 100%":{opacity:1},"50%":{opacity:"0.5"}},"pulse"),on({"0%, 100%":{transform:"translateY(-25%)",animationTimingFunction:"cubic-bezier(0.8, 0, 1, 1)"},"50%":{transform:"translateY(0)",animationTimingFunction:"cubic-bezier(0, 0, 0.2, 1)"}},"bounce"))},handleAtom:function(r){return r.style=Yb(r),r}}},Gf=zb;var Gb={breaknormal:{overflowWrap:"normal",wordBreak:"normal"},breakwords:{overflowWrap:"break-word"},breakall:{wordBreak:"break-all"}},Zb=function(){return{isMatch:function(t){return/^break(normal|words|all)$/i.test(t)},handleAtom:function(t){return t.style=Gb[t.key.toLowerCase()],t}}},Zf=Zb;var qf={transparent:"transparent",white:"#ffffff",black:"#000",brand50:"#eff6ff",brand100:"#dbeafe",brand200:"#bfdbfe",brand300:"#93c5fd",brand400:"#60a5fa",brand500:"#3b82f6",brand600:"#2563eb",brand700:"#1d4ed8",brand800:"#1e40af",brand900:"#1e3a8a",brand950:"#11118a",slate50:"#f8fafc",slate100:"#f1f5f9",slate200:"#e2e8f0",slate300:"#cbd5e1",slate400:"#94a3b8",slate500:"#64748b",slate600:"#475569",slate700:"#334155",slate800:"#1e293b",slate900:"#0f172a",slate950:"#020617",gray50:"#f9fafb",gray100:"#f3f4f6",gray200:"#e5e7eb",gray300:"#d1d5db",gray400:"#9ca3af",gray500:"#6b7280",gray600:"#4b5563",gray700:"#374151",gray800:"#1f2937",gray900:"#111827",gray950:"#030712",zinc50:"#fafafa",zinc100:"#f4f4f5",zinc200:"#e4e4e7",zinc300:"#d4d4d8",zinc400:"#a1a1aa",zinc500:"#71717a",zinc600:"#52525b",zinc700:"#3f3f46",zinc800:"#27272a",zinc900:"#18181b",zinc950:"#09090b",neutral50:"#fafafa",neutral100:"#f5f5f5",neutral200:"#e5e5e5",neutral300:"#d4d4d4",neutral400:"#a3a3a3",neutral500:"#737373",neutral600:"#525252",neutral700:"#404040",neutral800:"#262626",neutral900:"#171717",neutral950:"#0a0a0a",stone50:"#fafaf9",stone100:"#f5f5f4",stone200:"#e7e5e4",stone300:"#d6d3d1",stone400:"#a8a29e",stone500:"#78716c",stone600:"#57534e",stone700:"#44403c",stone800:"#292524",stone900:"#1c1917",stone950:"#0c0a09",red50:"#fef2f2",red100:"#fee2e2",red200:"#fecaca",red300:"#fca5a5",red400:"#f87171",red500:"#ef4444",red600:"#dc2626",red700:"#b91c1c",red800:"#991b1b",red900:"#7f1d1d",red950:"#450a0a",orange50:"#fff7ed",orange100:"#ffedd5",orange200:"#fed7aa",orange300:"#fdba74",orange400:"#fb923c",orange500:"#f97316",orange600:"#ea580c",orange700:"#c2410c",orange800:"#9a3412",orange900:"#7c2d12",orange950:"#431407",amber50:"#fffbeb",amber100:"#fef3c7",amber200:"#fde68a",amber300:"#fcd34d",amber400:"#fbbf24",amber500:"#f59e0b",amber600:"#d97706",amber700:"#b45309",amber800:"#92400e",amber900:"#78350f",amber950:"#451a03",yellow50:"#fefce8",yellow100:"#fef9c3",yellow200:"#fef08a",yellow300:"#fde047",yellow400:"#facc15",yellow500:"#eab308",yellow600:"#ca8a04",yellow700:"#a16207",yellow800:"#854d0e",yellow900:"#713f12",yellow950:"#422006",lime50:"#f7fee7",lime100:"#ecfccb",lime200:"#d9f99d",lime300:"#bef264",lime400:"#a3e635",lime500:"#84cc16",lime600:"#65a30d",lime700:"#4d7c0f",lime800:"#3f6212",lime900:"#365314",lime950:"#1a2e05",green50:"#f0fdf4",green100:"#dcfce7",green200:"#bbf7d0",green300:"#86efac",green400:"#4ade80",green500:"#22c55e",green600:"#16a34a",green700:"#15803d",green800:"#166534",green900:"#14532d",green950:"#052e16",emerald50:"#ecfdf5",emerald100:"#d1fae5",emerald200:"#a7f3d0",emerald300:"#6ee7b7",emerald400:"#34d399",emerald500:"#10b981",emerald600:"#059669",emerald700:"#047857",emerald800:"#065f46",emerald900:"#064e3b",emerald950:"#022c22",teal50:"#f0fdfa",teal100:"#ccfbf1",teal200:"#99f6e4",teal300:"#5eead4",teal400:"#2dd4bf",teal500:"#14b8a6",teal600:"#0d9488",teal700:"#0f766e",teal800:"#115e59",teal900:"#134e4a",teal950:"#042f2e",cyan50:"#ecfeff",cyan100:"#cffafe",cyan200:"#a5f3fc",cyan300:"#67e8f9",cyan400:"#22d3ee",cyan500:"#06b6d4",cyan600:"#0891b2",cyan700:"#0e7490",cyan800:"#155e75",cyan900:"#164e63",cyan950:"#083344",sky50:"#f0f9ff",sky100:"#e0f2fe",sky200:"#bae6fd",sky300:"#7dd3fc",sky400:"#38bdf8",sky500:"#0ea5e9",sky600:"#0284c7",sky700:"#0369a1",sky800:"#075985",sky900:"#0c4a6e",sky950:"#082f49",blue50:"#eff6ff",blue100:"#dbeafe",blue200:"#bfdbfe",blue300:"#93c5fd",blue400:"#60a5fa",blue500:"#3b82f6",blue600:"#2563eb",blue700:"#1d4ed8",blue800:"#1e40af",blue900:"#1e3a8a",blue950:"#172554",indigo50:"#eef2ff",indigo100:"#e0e7ff",indigo200:"#c7d2fe",indigo300:"#a5b4fc",indigo400:"#818cf8",indigo500:"#6366f1",indigo600:"#4f46e5",indigo700:"#4338ca",indigo800:"#3730a3",indigo900:"#312e81",indigo950:"#1e1b4b",violet50:"#f5f3ff",violet100:"#ede9fe",violet200:"#ddd6fe",violet300:"#c4b5fd",violet400:"#a78bfa",violet500:"#8b5cf6",violet600:"#7c3aed",violet700:"#6d28d9",violet800:"#5b21b6",violet900:"#4c1d95",violet950:"#2e1065",purple50:"#faf5ff",purple100:"#f3e8ff",purple200:"#e9d5ff",purple300:"#d8b4fe",purple400:"#c084fc",purple500:"#a855f7",purple600:"#9333ea",purple700:"#7e22ce",purple800:"#6b21a8",purple900:"#581c87",purple950:"#3b0764",fuchsia50:"#fdf4ff",fuchsia100:"#fae8ff",fuchsia200:"#f5d0fe",fuchsia300:"#f0abfc",fuchsia400:"#e879f9",fuchsia500:"#d946ef",fuchsia600:"#c026d3",fuchsia700:"#a21caf",fuchsia800:"#86198f",fuchsia900:"#701a75",fuchsia950:"#4a044e",pink50:"#fdf2f8",pink100:"#fce7f3",pink200:"#fbcfe8",pink300:"#f9a8d4",pink400:"#f472b6",pink500:"#ec4899",pink600:"#db2777",pink700:"#be185d",pink800:"#9d174d",pink900:"#831843",pink950:"#500724",rose50:"#fff1f2",rose100:"#ffe4e6",rose200:"#fecdd3",rose300:"#fda4af",rose400:"#fb7185",rose500:"#f43f5e",rose600:"#e11d48",rose700:"#be123c",rose800:"#9f1239",rose900:"#881337",rose950:"#4c0519"};var qb=[yd(),$f(),Sd(),Od(),Cd(),Nd(),Md(),Pd(),Ld(),Gd(),Zd(),qd(),ef(),tf(),rf(),uf(),cf(),hf(),mf(),gf(),yf(),vf(),bf(),xf(),_f(),Af(),Sf(),Ef(),If(),Nf(),Cf(),Df(),Lf(),Ff(),jf(),Bf(),Wf(),Hf(),zf(),Gf(),Zf()],Kb={breakpoints:{sm:"640px",md:"768px",lg:"1024px",xl:"1280px","2xl":"1536px"},colors:qf,spacings:{0:0,1:4,2:8,3:12,4:16,5:20,6:24,7:28,8:32,9:36,10:40,11:44,12:48,14:56,16:64,20:80,24:96,28:112,32:128,36:144,40:160,44:176,48:192,52:208,56:224,60:240,64:256,72:288,80:320,96:384},fontFamilies:{sans:'ui-sans-serif, system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji"',serif:'ui-serif, Georgia, Cambria, "Times New Roman", Times, serif',mono:'ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace'},fontSizes:{xs:12,sm:14,base:16,lg:18,xl:20,"2xl":24,"3xl":30,"4xl":36,"5xl":48,"6xl":60,"7xl":72,"8xl":96,"9xl":128},lineHeights:{none:1,tight:1.25,snug:1.375,normal:1.5,relaxed:1.625,loose:2},letterSpacings:{tighter:"-0.9px",tight:"-0.45px",normal:"0px",wide:"0.45px",wider:"0.9px",widest:"1.8px"},radii:{none:0,sm:2,md:4,lg:6,xl:8,"2xl":12,"3xl":16,full:9999},shadows:{sm:"0 1px 2px 0 rgb(0 0 0 / 0.05)",md:"0 1px 3px 0 rgb(0 0 0 / 0.1), 0 1px 2px -1px rgb(0 0 0 / 0.1)",lg:"0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1)",xl:"0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1)","2xl":"0 20px 25px -5px rgb(0 0 0 / 0.1), 0 8px 10px -6px rgb(0 0 0 / 0.1)","3xl":"0 25px 50px -12px rgb(0 0 0 / 0.25)",inner:"inset 0 2px 4px 0 rgba(0, 0, 0, 0.06)",outline:"0 0 0 3px rgba(66, 153, 225, 0.5)",none:"none"},fontWeights:{hairline:100,thin:200,light:300,normal:400,medium:500,semibold:600,bold:700,extrabold:800,black:900}},Xb={unit:"px",prefix:"",theme:Kb,plugins:qb},Kf=Xb;var up=Ot(ks()),cw=Ot(sp());function Ua(){return Ua=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ua.apply(this,arguments)}function dw(e,t){if(e==null)return{};var r={},n=Object.keys(e),a,i;for(i=0;i<n.length;i++)a=n[i],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}var fw=["as"],pw=(0,zt.forwardRef)(function(e,t){var r=e.as,n=r===void 0?"div":r,a=dw(e,fw),i=new ga(a),o=i.getParsedProps(),s=Ar.config.inline;if(s)Array.isArray(a.style)?o.style=[i.toStyle(),a.style]:o.style=Ua({},i.toStyle(),a.style);else{var u=i.getClassNames().join(" ").trim();u&&(i.insertRules(),o.className=u)}return(0,zt.createElement)(n,Ua({ref:t},o))});pw.displayName="Box";gd(Kf);var pT=Ar.getAtomIds;function hw(e="500"){let{colors:t}=Ar.theme;return Object.keys(t).filter(n=>n.endsWith(e)&&!/gray|slate|zinc|neutral|stone/i.test(n.toLowerCase()))}function ln(e="500"){let t=hw(e),r=Math.floor(Math.random()*t.length);return t[r]}var J=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,oe=Object.keys,ye=Array.isArray;typeof Promise<"u"&&!J.Promise&&(J.Promise=Promise);function xe(e,t){return typeof t!="object"||oe(t).forEach(function(r){e[r]=t[r]}),e}var mn=Object.getPrototypeOf,mw={}.hasOwnProperty;function Re(e,t){return mw.call(e,t)}function kr(e,t){typeof t=="function"&&(t=t(mn(e))),(typeof Reflect>"u"?oe:Reflect.ownKeys)(t).forEach(r=>{at(e,r,t[r])})}var xp=Object.defineProperty;function at(e,t,r,n){xp(e,t,xe(r&&Re(r,"get")&&typeof r.get=="function"?{get:r.get,set:r.set,configurable:!0}:{value:r,configurable:!0,writable:!0},n))}function Mr(e){return{from:function(t){return e.prototype=Object.create(t.prototype),at(e.prototype,"constructor",e),{extend:kr.bind(null,e.prototype)}}}}var gw=Object.getOwnPropertyDescriptor;function Uu(e,t){let r=gw(e,t),n;return r||(n=mn(e))&&Uu(n,t)}var yw=[].slice;function oi(e,t,r){return yw.call(e,t,r)}function _p(e,t){return t(e)}function cn(e){if(!e)throw new Error("Assertion Failed")}function Ap(e){J.setImmediate?setImmediate(e):setTimeout(e,0)}function Sp(e,t){return e.reduce((r,n,a)=>{var i=t(n,a);return i&&(r[i[0]]=i[1]),r},{})}function vw(e,t,r){try{e.apply(null,r)}catch(n){t&&t(n)}}function nt(e,t){if(typeof t=="string"&&Re(e,t))return e[t];if(!t)return e;if(typeof t!="string"){for(var r=[],n=0,a=t.length;n<a;++n){var i=nt(e,t[n]);r.push(i)}return r}var o=t.indexOf(".");if(o!==-1){var s=e[t.substr(0,o)];return s==null?void 0:nt(s,t.substr(o+1))}}function Le(e,t,r){if(!(!e||t===void 0)&&!("isFrozen"in Object&&Object.isFrozen(e)))if(typeof t!="string"&&"length"in t){cn(typeof r!="string"&&"length"in r);for(var n=0,a=t.length;n<a;++n)Le(e,t[n],r[n])}else{var i=t.indexOf(".");if(i!==-1){var o=t.substr(0,i),s=t.substr(i+1);if(s==="")r===void 0?ye(e)&&!isNaN(parseInt(o))?e.splice(o,1):delete e[o]:e[o]=r;else{var u=e[o];(!u||!Re(e,o))&&(u=e[o]={}),Le(u,s,r)}}else r===void 0?ye(e)&&!isNaN(parseInt(t))?e.splice(t,1):delete e[t]:e[t]=r}}function bw(e,t){typeof t=="string"?Le(e,t,void 0):"length"in t&&[].map.call(t,function(r){Le(e,r,void 0)})}function Ep(e){var t={};for(var r in e)Re(e,r)&&(t[r]=e[r]);return t}var ww=[].concat;function Ip(e){return ww.apply([],e)}var Tp="BigUint64Array,BigInt64Array,Array,Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,FileSystemDirectoryHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(Ip([8,16,32,64].map(e=>["Int","Uint","Float"].map(t=>t+e+"Array")))).filter(e=>J[e]),xw=Tp.map(e=>J[e]);Sp(Tp,e=>[e,!0]);var vt=null;function _n(e){vt=typeof WeakMap<"u"&&new WeakMap;let t=cu(e);return vt=null,t}function cu(e){if(!e||typeof e!="object")return e;let t=vt&&vt.get(e);if(t)return t;if(ye(e)){t=[],vt&&vt.set(e,t);for(var r=0,n=e.length;r<n;++r)t.push(cu(e[r]))}else if(xw.indexOf(e.constructor)>=0)t=e;else{let i=mn(e);t=i===Object.prototype?{}:Object.create(i),vt&&vt.set(e,t);for(var a in e)Re(e,a)&&(t[a]=cu(e[a]))}return t}var{toString:_w}={};function du(e){return _w.call(e).slice(8,-1)}var fu=typeof Symbol<"u"?Symbol.iterator:"@@iterator",Aw=typeof fu=="symbol"?function(e){var t;return e!=null&&(t=e[fu])&&t.apply(e)}:function(){return null},Nr={};function tt(e){var t,r,n,a;if(arguments.length===1){if(ye(e))return e.slice();if(this===Nr&&typeof e=="string")return[e];if(a=Aw(e)){for(r=[];n=a.next(),!n.done;)r.push(n.value);return r}if(e==null)return[e];if(t=e.length,typeof t=="number"){for(r=new Array(t);t--;)r[t]=e[t];return r}return[e]}for(t=arguments.length,r=new Array(t);t--;)r[t]=arguments[t];return r}var ju=typeof Symbol<"u"?e=>e[Symbol.toStringTag]==="AsyncFunction":()=>!1,$e=typeof location<"u"&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function Op(e,t){$e=e,Cp=t}var Cp=()=>!0,Sw=!new Error("").stack;function Jt(){if(Sw)try{throw Jt.arguments,new Error}catch(e){return e}return new Error}function pu(e,t){var r=e.stack;return r?(t=t||0,r.indexOf(e.name)===0&&(t+=(e.name+e.message).split(`
`).length),r.split(`
`).slice(t).filter(Cp).map(n=>`
`+n).join("")):""}var Ew=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"],Np=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],Bu=Ew.concat(Np),Iw={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function Pr(e,t){this._e=Jt(),this.name=e,this.message=t}Mr(Pr).from(Error).extend({stack:{get:function(){return this._stack||(this._stack=this.name+": "+this.message+pu(this._e,2))}},toString:function(){return this.name+": "+this.message}});function Rp(e,t){return e+". Errors: "+Object.keys(t).map(r=>t[r].toString()).filter((r,n,a)=>a.indexOf(r)===n).join(`
`)}function Ka(e,t,r,n){this._e=Jt(),this.failures=t,this.failedKeys=n,this.successCount=r,this.message=Rp(e,t)}Mr(Ka).from(Pr);function fn(e,t){this._e=Jt(),this.name="BulkError",this.failures=Object.keys(t).map(r=>t[r]),this.failuresByPos=t,this.message=Rp(e,t)}Mr(fn).from(Pr);var Wu=Bu.reduce((e,t)=>(e[t]=t+"Error",e),{}),Tw=Pr,F=Bu.reduce((e,t)=>{var r=t+"Error";function n(a,i){this._e=Jt(),this.name=r,a?typeof a=="string"?(this.message=`${a}${i?`
 `+i:""}`,this.inner=i||null):typeof a=="object"&&(this.message=`${a.name} ${a.message}`,this.inner=a):(this.message=Iw[t]||r,this.inner=null)}return Mr(n).from(Tw),e[t]=n,e},{});F.Syntax=SyntaxError;F.Type=TypeError;F.Range=RangeError;var lp=Np.reduce((e,t)=>(e[t+"Error"]=F[t],e),{});function Ow(e,t){if(!e||e instanceof Pr||e instanceof TypeError||e instanceof SyntaxError||!e.name||!lp[e.name])return e;var r=new lp[e.name](t||e.message,e);return"stack"in e&&at(r,"stack",{get:function(){return this.inner.stack}}),r}var si=Bu.reduce((e,t)=>(["Syntax","Type","Range"].indexOf(t)===-1&&(e[t+"Error"]=F[t]),e),{});si.ModifyError=Ka;si.DexieError=Pr;si.BulkError=fn;function X(){}function An(e){return e}function Cw(e,t){return e==null||e===An?t:function(r){return t(e(r))}}function Xt(e,t){return function(){e.apply(this,arguments),t.apply(this,arguments)}}function Nw(e,t){return e===X?t:function(){var r=e.apply(this,arguments);r!==void 0&&(arguments[0]=r);var n=this.onsuccess,a=this.onerror;this.onsuccess=null,this.onerror=null;var i=t.apply(this,arguments);return n&&(this.onsuccess=this.onsuccess?Xt(n,this.onsuccess):n),a&&(this.onerror=this.onerror?Xt(a,this.onerror):a),i!==void 0?i:r}}function Rw(e,t){return e===X?t:function(){e.apply(this,arguments);var r=this.onsuccess,n=this.onerror;this.onsuccess=this.onerror=null,t.apply(this,arguments),r&&(this.onsuccess=this.onsuccess?Xt(r,this.onsuccess):r),n&&(this.onerror=this.onerror?Xt(n,this.onerror):n)}}function kw(e,t){return e===X?t:function(r){var n=e.apply(this,arguments);xe(r,n);var a=this.onsuccess,i=this.onerror;this.onsuccess=null,this.onerror=null;var o=t.apply(this,arguments);return a&&(this.onsuccess=this.onsuccess?Xt(a,this.onsuccess):a),i&&(this.onerror=this.onerror?Xt(i,this.onerror):i),n===void 0?o===void 0?void 0:o:xe(n,o)}}function Dw(e,t){return e===X?t:function(){return t.apply(this,arguments)===!1?!1:e.apply(this,arguments)}}function $u(e,t){return e===X?t:function(){var r=e.apply(this,arguments);if(r&&typeof r.then=="function"){for(var n=this,a=arguments.length,i=new Array(a);a--;)i[a]=arguments[a];return r.then(function(){return t.apply(n,i)})}return t.apply(this,arguments)}}var gn={},Mw=100,Pw=20,kp=100,[hu,Xa,mu]=typeof Promise>"u"?[]:(()=>{let e=Promise.resolve();if(typeof crypto>"u"||!crypto.subtle)return[e,mn(e),e];let t=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[t,mn(t),e]})(),Dp=Xa&&Xa.then,Ha=hu&&hu.constructor,Vu=!!mu,gu=!1,Lw=mu?()=>{mu.then(ja)}:J.setImmediate?setImmediate.bind(null,ja):J.MutationObserver?()=>{var e=document.createElement("div");new MutationObserver(()=>{ja(),e=null}).observe(e,{attributes:!0}),e.setAttribute("i","1")}:()=>{setTimeout(ja,0)},yn=function(e,t){dn.push([e,t]),Qa&&(Lw(),Qa=!1)},yu=!0,Qa=!0,qt=[],Ya=[],vu=null,bu=An,Rr={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:fp,pgp:!1,env:{},finalize:function(){this.unhandleds.forEach(e=>{try{fp(e[0],e[1])}catch{}})}},D=Rr,dn=[],Kt=0,za=[];function O(e){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");this._listeners=[],this.onuncatched=X,this._lib=!1;var t=this._PSD=D;if($e&&(this._stackHolder=Jt(),this._prev=null,this._numPrev=0),typeof e!="function"){if(e!==gn)throw new TypeError("Not a function");this._state=arguments[1],this._value=arguments[2],this._state===!1&&xu(this,this._value);return}this._state=null,this._value=null,++t.ref,Pp(this,e)}var wu={get:function(){var e=D,t=Ja;function r(n,a){var i=!e.global&&(e!==D||t!==Ja);let o=i&&!it();var s=new O((u,l)=>{Hu(this,new Mp(ti(n,e,i,o),ti(a,e,i,o),u,l,e))});return $e&&Up(s,this),s}return r.prototype=gn,r},set:function(e){at(this,"then",e&&e.prototype===gn?wu:{get:function(){return e},set:wu.set})}};kr(O.prototype,{then:wu,_then:function(e,t){Hu(this,new Mp(null,null,e,t,D))},catch:function(e){if(arguments.length===1)return this.then(null,e);var t=arguments[0],r=arguments[1];return typeof t=="function"?this.then(null,n=>n instanceof t?r(n):Ga(n)):this.then(null,n=>n&&n.name===t?r(n):Ga(n))},finally:function(e){return this.then(t=>(e(),t),t=>(e(),Ga(t)))},stack:{get:function(){if(this._stack)return this._stack;try{gu=!0;var e=Fp(this,[],Pw),t=e.join(`
From previous: `);return this._state!==null&&(this._stack=t),t}finally{gu=!1}}},timeout:function(e,t){return e<1/0?new O((r,n)=>{var a=setTimeout(()=>n(new F.Timeout(t)),e);this.then(r,n).finally(clearTimeout.bind(null,a))}):this}});typeof Symbol<"u"&&Symbol.toStringTag&&at(O.prototype,Symbol.toStringTag,"Dexie.Promise");Rr.env=jp();function Mp(e,t,r,n,a){this.onFulfilled=typeof e=="function"?e:null,this.onRejected=typeof t=="function"?t:null,this.resolve=r,this.reject=n,this.psd=a}kr(O,{all:function(){var e=tt.apply(null,arguments).map(ei);return new O(function(t,r){e.length===0&&t([]);var n=e.length;e.forEach((a,i)=>O.resolve(a).then(o=>{e[i]=o,--n||t(e)},r))})},resolve:e=>{if(e instanceof O)return e;if(e&&typeof e.then=="function")return new O((r,n)=>{e.then(r,n)});var t=new O(gn,!0,e);return Up(t,vu),t},reject:Ga,race:function(){var e=tt.apply(null,arguments).map(ei);return new O((t,r)=>{e.map(n=>O.resolve(n).then(t,r))})},PSD:{get:()=>D,set:e=>D=e},totalEchoes:{get:()=>Ja},newPSD:wt,usePSD:Fr,scheduler:{get:()=>yn,set:e=>{yn=e}},rejectionMapper:{get:()=>bu,set:e=>{bu=e}},follow:(e,t)=>new O((r,n)=>wt((a,i)=>{var o=D;o.unhandleds=[],o.onunhandled=i,o.finalize=Xt(function(){Uw(()=>{this.unhandleds.length===0?a():i(this.unhandleds[0])})},o.finalize),e()},t,r,n))});Ha&&(Ha.allSettled&&at(O,"allSettled",function(){let e=tt.apply(null,arguments).map(ei);return new O(t=>{e.length===0&&t([]);let r=e.length,n=new Array(r);e.forEach((a,i)=>O.resolve(a).then(o=>n[i]={status:"fulfilled",value:o},o=>n[i]={status:"rejected",reason:o}).then(()=>--r||t(n)))})}),Ha.any&&typeof AggregateError<"u"&&at(O,"any",function(){let e=tt.apply(null,arguments).map(ei);return new O((t,r)=>{e.length===0&&r(new AggregateError([]));let n=e.length,a=new Array(n);e.forEach((i,o)=>O.resolve(i).then(s=>t(s),s=>{a[o]=s,--n||r(new AggregateError(a))}))})}));function Pp(e,t){try{t(r=>{if(e._state===null){if(r===e)throw new TypeError("A promise cannot be resolved with itself.");var n=e._lib&&Sn();r&&typeof r.then=="function"?Pp(e,(a,i)=>{r instanceof O?r._then(a,i):r.then(a,i)}):(e._state=!0,e._value=r,Lp(e)),n&&En()}},xu.bind(null,e))}catch(r){xu(e,r)}}function xu(e,t){if(Ya.push(t),e._state===null){var r=e._lib&&Sn();t=bu(t),e._state=!1,e._value=t,$e&&t!==null&&typeof t=="object"&&!t._promise&&vw(()=>{var n=Uu(t,"stack");t._promise=e,at(t,"stack",{get:()=>gu?n&&(n.get?n.get.apply(t):n.value):e.stack})}),jw(e),Lp(e),r&&En()}}function Lp(e){var t=e._listeners;e._listeners=[];for(var r=0,n=t.length;r<n;++r)Hu(e,t[r]);var a=e._PSD;--a.ref||a.finalize(),Kt===0&&(++Kt,yn(()=>{--Kt===0&&Yu()},[]))}function Hu(e,t){if(e._state===null){e._listeners.push(t);return}var r=e._state?t.onFulfilled:t.onRejected;if(r===null)return(e._state?t.resolve:t.reject)(e._value);++t.psd.ref,++Kt,yn(Fw,[r,e,t])}function Fw(e,t,r){try{vu=t;var n,a=t._value;t._state?n=e(a):(Ya.length&&(Ya=[]),n=e(a),Ya.indexOf(a)===-1&&Bw(t)),r.resolve(n)}catch(i){r.reject(i)}finally{vu=null,--Kt===0&&Yu(),--r.psd.ref||r.psd.finalize()}}function Fp(e,t,r){if(t.length===r)return t;var n="";if(e._state===!1){var a=e._value,i,o;a!=null?(i=a.name||"Error",o=a.message||a,n=pu(a,0)):(i=a,o=""),t.push(i+(o?": "+o:"")+n)}return $e&&(n=pu(e._stackHolder,2),n&&t.indexOf(n)===-1&&t.push(n),e._prev&&Fp(e._prev,t,r)),t}function Up(e,t){var r=t?t._numPrev+1:0;r<Mw&&(e._prev=t,e._numPrev=r)}function ja(){Sn()&&En()}function Sn(){var e=yu;return yu=!1,Qa=!1,e}function En(){var e,t,r;do for(;dn.length>0;)for(e=dn,dn=[],r=e.length,t=0;t<r;++t){var n=e[t];n[0].apply(null,n[1])}while(dn.length>0);yu=!0,Qa=!0}function Yu(){var e=qt;qt=[],e.forEach(n=>{n._PSD.onunhandled.call(null,n._value,n)});for(var t=za.slice(0),r=t.length;r;)t[--r]()}function Uw(e){function t(){e(),za.splice(za.indexOf(t),1)}za.push(t),++Kt,yn(()=>{--Kt===0&&Yu()},[])}function jw(e){qt.some(t=>t._value===e._value)||qt.push(e)}function Bw(e){for(var t=qt.length;t;)if(qt[--t]._value===e._value){qt.splice(t,1);return}}function Ga(e){return new O(gn,!1,e)}function ee(e,t){var r=D;return function(){var n=Sn(),a=D;try{return xt(r,!0),e.apply(this,arguments)}catch(i){t&&t(i)}finally{xt(a,!1),n&&En()}}}var ge={awaits:0,echoes:0,id:0},Ww=0,Za=[],au=0,Ja=0,$w=0;function wt(e,t,r,n){var a=D,i=Object.create(a);i.parent=a,i.ref=0,i.global=!1,i.id=++$w;var o=Rr.env;i.env=Vu?{Promise:O,PromiseProp:{value:O,configurable:!0,writable:!0},all:O.all,race:O.race,allSettled:O.allSettled,any:O.any,resolve:O.resolve,reject:O.reject,nthen:cp(o.nthen,i),gthen:cp(o.gthen,i)}:{},t&&xe(i,t),++a.ref,i.finalize=function(){--this.parent.ref||this.parent.finalize()};var s=Fr(i,e,r,n);return i.ref===0&&i.finalize(),s}function Lr(){return ge.id||(ge.id=++Ww),++ge.awaits,ge.echoes+=kp,ge.id}function it(){return ge.awaits?(--ge.awaits===0&&(ge.id=0),ge.echoes=ge.awaits*kp,!0):!1}(""+Dp).indexOf("[native code]")===-1&&(Lr=it=X);function ei(e){return ge.echoes&&e&&e.constructor===Ha?(Lr(),e.then(t=>(it(),t),t=>(it(),le(t)))):e}function Vw(e){++Ja,(!ge.echoes||--ge.echoes===0)&&(ge.echoes=ge.id=0),Za.push(D),xt(e,!0)}function Hw(){var e=Za[Za.length-1];Za.pop(),xt(e,!1)}function xt(e,t){var r=D;if((t?ge.echoes&&(!au++||e!==D):au&&(!--au||e!==D))&&Bp(t?Vw.bind(null,e):Hw),e!==D&&(D=e,r===Rr&&(Rr.env=jp()),Vu)){var n=Rr.env.Promise,a=e.env;Xa.then=a.nthen,n.prototype.then=a.gthen,(r.global||e.global)&&(Object.defineProperty(J,"Promise",a.PromiseProp),n.all=a.all,n.race=a.race,n.resolve=a.resolve,n.reject=a.reject,a.allSettled&&(n.allSettled=a.allSettled),a.any&&(n.any=a.any))}}function jp(){var e=J.Promise;return Vu?{Promise:e,PromiseProp:Object.getOwnPropertyDescriptor(J,"Promise"),all:e.all,race:e.race,allSettled:e.allSettled,any:e.any,resolve:e.resolve,reject:e.reject,nthen:Xa.then,gthen:e.prototype.then}:{}}function Fr(e,t,r,n,a){var i=D;try{return xt(e,!0),t(r,n,a)}finally{xt(i,!1)}}function Bp(e){Dp.call(hu,e)}function ti(e,t,r,n){return typeof e!="function"?e:function(){var a=D;r&&Lr(),xt(t,!0);try{return e.apply(this,arguments)}finally{xt(a,!1),n&&Bp(it)}}}function cp(e,t){return function(r,n){return e.call(this,ti(r,t),ti(n,t))}}var dp="unhandledrejection";function fp(e,t){var r;try{r=t.onuncatched(e)}catch{}if(r!==!1)try{var n,a={promise:t,reason:e};if(J.document&&document.createEvent?(n=document.createEvent("Event"),n.initEvent(dp,!0,!0),xe(n,a)):J.CustomEvent&&(n=new CustomEvent(dp,{detail:a}),xe(n,a)),n&&J.dispatchEvent&&(dispatchEvent(n),!J.PromiseRejectionEvent&&J.onunhandledrejection))try{J.onunhandledrejection(n)}catch{}$e&&n&&!n.defaultPrevented&&console.warn(`Unhandled rejection: ${e.stack||e}`)}catch{}}var le=O.reject;function _u(e,t,r,n){if(!e.idbdb||!e._state.openComplete&&!D.letThrough&&!e._vip){if(e._state.openComplete)return le(new F.DatabaseClosed(e._state.dbOpenError));if(!e._state.isBeingOpened){if(!e._options.autoOpen)return le(new F.DatabaseClosed);e.open().catch(X)}return e._state.dbReadyPromise.then(()=>_u(e,t,r,n))}else{var a=e._createTransaction(t,r,e._dbSchema);try{a.create(),e._state.PR1398_maxLoop=3}catch(i){return i.name===Wu.InvalidState&&e.isOpen()&&--e._state.PR1398_maxLoop>0?(console.warn("Dexie: Need to reopen db"),e._close(),e.open().then(()=>_u(e,t,r,n))):le(i)}return a._promise(t,(i,o)=>wt(()=>(D.trans=a,n(i,o,a)))).then(i=>a._completion.then(()=>i))}}var pp="3.2.7",Zt="\uFFFF",Au=-1/0,Je="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",Wp="String expected.",pn=[],ui=typeof navigator<"u"&&/(MSIE|Trident|Edge)/.test(navigator.userAgent),Yw=ui,zw=ui,$p=e=>!/(dexie\.js|dexie\.min\.js)/.test(e),li="__dbnames",iu="readonly",ou="readwrite";function Qt(e,t){return e?t?function(){return e.apply(this,arguments)&&t.apply(this,arguments)}:e:t}var Vp={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function Ba(e){return typeof e=="string"&&!/\./.test(e)?t=>(t[e]===void 0&&e in t&&(t=_n(t),delete t[e]),t):t=>t}var Su=class{_trans(t,r,n){let a=this._tx||D.trans,i=this.name;function o(u,l,c){if(!c.schema[i])throw new F.NotFound("Table "+i+" not part of transaction");return r(c.idbtrans,c)}let s=Sn();try{return a&&a.db===this.db?a===D.trans?a._promise(t,o,n):wt(()=>a._promise(t,o,n),{trans:a,transless:D.transless||D}):_u(this.db,t,[this.name],o)}finally{s&&En()}}get(t,r){return t&&t.constructor===Object?this.where(t).first(r):this._trans("readonly",n=>this.core.get({trans:n,key:t}).then(a=>this.hook.reading.fire(a))).then(r)}where(t){if(typeof t=="string")return new this.db.WhereClause(this,t);if(ye(t))return new this.db.WhereClause(this,`[${t.join("+")}]`);let r=oe(t);if(r.length===1)return this.where(r[0]).equals(t[r[0]]);let n=this.schema.indexes.concat(this.schema.primKey).filter(l=>{if(l.compound&&r.every(c=>l.keyPath.indexOf(c)>=0)){for(let c=0;c<r.length;++c)if(r.indexOf(l.keyPath[c])===-1)return!1;return!0}return!1}).sort((l,c)=>l.keyPath.length-c.keyPath.length)[0];if(n&&this.db._maxKey!==Zt){let l=n.keyPath.slice(0,r.length);return this.where(l).equals(l.map(c=>t[c]))}!n&&$e&&console.warn(`The query ${JSON.stringify(t)} on ${this.name} would benefit of a compound index [${r.join("+")}]`);let{idxByName:a}=this.schema,i=this.db._deps.indexedDB;function o(l,c){try{return i.cmp(l,c)===0}catch{return!1}}let[s,u]=r.reduce(([l,c],d)=>{let f=a[d],p=t[d];return[l||f,l||!f?Qt(c,f&&f.multi?g=>{let h=nt(g,d);return ye(h)&&h.some(y=>o(p,y))}:g=>o(p,nt(g,d))):c]},[null,null]);return s?this.where(s.name).equals(t[s.keyPath]).filter(u):n?this.filter(u):this.where(r).equals("")}filter(t){return this.toCollection().and(t)}count(t){return this.toCollection().count(t)}offset(t){return this.toCollection().offset(t)}limit(t){return this.toCollection().limit(t)}each(t){return this.toCollection().each(t)}toArray(t){return this.toCollection().toArray(t)}toCollection(){return new this.db.Collection(new this.db.WhereClause(this))}orderBy(t){return new this.db.Collection(new this.db.WhereClause(this,ye(t)?`[${t.join("+")}]`:t))}reverse(){return this.toCollection().reverse()}mapToClass(t){this.schema.mappedClass=t;let r=n=>{if(!n)return n;let a=Object.create(t.prototype);for(var i in n)if(Re(n,i))try{a[i]=n[i]}catch{}return a};return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=r,this.hook("reading",r),t}defineClass(){function t(r){xe(this,r)}return this.mapToClass(t)}add(t,r){let{auto:n,keyPath:a}=this.schema.primKey,i=t;return a&&n&&(i=Ba(a)(t)),this._trans("readwrite",o=>this.core.mutate({trans:o,type:"add",keys:r!=null?[r]:null,values:[i]})).then(o=>o.numFailures?O.reject(o.failures[0]):o.lastResult).then(o=>{if(a)try{Le(t,a,o)}catch{}return o})}update(t,r){if(typeof t=="object"&&!ye(t)){let n=nt(t,this.schema.primKey.keyPath);if(n===void 0)return le(new F.InvalidArgument("Given object does not contain its primary key"));try{typeof r!="function"?oe(r).forEach(a=>{Le(t,a,r[a])}):r(t,{value:t,primKey:n})}catch{}return this.where(":id").equals(n).modify(r)}else return this.where(":id").equals(t).modify(r)}put(t,r){let{auto:n,keyPath:a}=this.schema.primKey,i=t;return a&&n&&(i=Ba(a)(t)),this._trans("readwrite",o=>this.core.mutate({trans:o,type:"put",values:[i],keys:r!=null?[r]:null})).then(o=>o.numFailures?O.reject(o.failures[0]):o.lastResult).then(o=>{if(a)try{Le(t,a,o)}catch{}return o})}delete(t){return this._trans("readwrite",r=>this.core.mutate({trans:r,type:"delete",keys:[t]})).then(r=>r.numFailures?O.reject(r.failures[0]):void 0)}clear(){return this._trans("readwrite",t=>this.core.mutate({trans:t,type:"deleteRange",range:Vp})).then(t=>t.numFailures?O.reject(t.failures[0]):void 0)}bulkGet(t){return this._trans("readonly",r=>this.core.getMany({keys:t,trans:r}).then(n=>n.map(a=>this.hook.reading.fire(a))))}bulkAdd(t,r,n){let a=Array.isArray(r)?r:void 0;n=n||(a?void 0:r);let i=n?n.allKeys:void 0;return this._trans("readwrite",o=>{let{auto:s,keyPath:u}=this.schema.primKey;if(u&&a)throw new F.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(a&&a.length!==t.length)throw new F.InvalidArgument("Arguments objects and keys must have the same length");let l=t.length,c=u&&s?t.map(Ba(u)):t;return this.core.mutate({trans:o,type:"add",keys:a,values:c,wantResults:i}).then(({numFailures:d,results:f,lastResult:p,failures:g})=>{let h=i?f:p;if(d===0)return h;throw new fn(`${this.name}.bulkAdd(): ${d} of ${l} operations failed`,g)})})}bulkPut(t,r,n){let a=Array.isArray(r)?r:void 0;n=n||(a?void 0:r);let i=n?n.allKeys:void 0;return this._trans("readwrite",o=>{let{auto:s,keyPath:u}=this.schema.primKey;if(u&&a)throw new F.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(a&&a.length!==t.length)throw new F.InvalidArgument("Arguments objects and keys must have the same length");let l=t.length,c=u&&s?t.map(Ba(u)):t;return this.core.mutate({trans:o,type:"put",keys:a,values:c,wantResults:i}).then(({numFailures:d,results:f,lastResult:p,failures:g})=>{let h=i?f:p;if(d===0)return h;throw new fn(`${this.name}.bulkPut(): ${d} of ${l} operations failed`,g)})})}bulkDelete(t){let r=t.length;return this._trans("readwrite",n=>this.core.mutate({trans:n,type:"delete",keys:t})).then(({numFailures:n,lastResult:a,failures:i})=>{if(n===0)return a;throw new fn(`${this.name}.bulkDelete(): ${n} of ${r} operations failed`,i)})}};function In(e){var t={},r=function(s,u){if(u){for(var l=arguments.length,c=new Array(l-1);--l;)c[l-1]=arguments[l];return t[s].subscribe.apply(null,c),e}else if(typeof s=="string")return t[s]};r.addEventType=i;for(var n=1,a=arguments.length;n<a;++n)i(arguments[n]);return r;function i(s,u,l){if(typeof s=="object")return o(s);u||(u=Dw),l||(l=X);var c={subscribers:[],fire:l,subscribe:function(d){c.subscribers.indexOf(d)===-1&&(c.subscribers.push(d),c.fire=u(c.fire,d))},unsubscribe:function(d){c.subscribers=c.subscribers.filter(function(f){return f!==d}),c.fire=c.subscribers.reduce(u,l)}};return t[s]=r[s]=c,c}function o(s){oe(s).forEach(function(u){var l=s[u];if(ye(l))i(u,s[u][0],s[u][1]);else if(l==="asap")var c=i(u,An,function(){for(var f=arguments.length,p=new Array(f);f--;)p[f]=arguments[f];c.subscribers.forEach(function(g){Ap(function(){g.apply(null,p)})})});else throw new F.InvalidArgument("Invalid event config")})}}function Tn(e,t){return Mr(t).from({prototype:e}),t}function Gw(e){return Tn(Su.prototype,function(r,n,a){this.db=e,this._tx=a,this.name=r,this.schema=n,this.hook=e._allTables[r]?e._allTables[r].hook:In(null,{creating:[Nw,X],reading:[Cw,An],updating:[kw,X],deleting:[Rw,X]})})}function Or(e,t){return!(e.filter||e.algorithm||e.or)&&(t?e.justLimit:!e.replayFilter)}function su(e,t){e.filter=Qt(e.filter,t)}function uu(e,t,r){var n=e.replayFilter;e.replayFilter=n?()=>Qt(n(),t()):t,e.justLimit=r&&!n}function Zw(e,t){e.isMatch=Qt(e.isMatch,t)}function qa(e,t){if(e.isPrimKey)return t.primaryKey;let r=t.getIndexByKeyPath(e.index);if(!r)throw new F.Schema("KeyPath "+e.index+" on object store "+t.name+" is not indexed");return r}function hp(e,t,r){let n=qa(e,t.schema);return t.openCursor({trans:r,values:!e.keysOnly,reverse:e.dir==="prev",unique:!!e.unique,query:{index:n,range:e.range}})}function Wa(e,t,r,n){let a=e.replayFilter?Qt(e.filter,e.replayFilter()):e.filter;if(e.or){let i={},o=(s,u,l)=>{if(!a||a(u,l,f=>u.stop(f),f=>u.fail(f))){var c=u.primaryKey,d=""+c;d==="[object ArrayBuffer]"&&(d=""+new Uint8Array(c)),Re(i,d)||(i[d]=!0,t(s,u,l))}};return Promise.all([e.or._iterate(o,r),mp(hp(e,n,r),e.algorithm,o,!e.keysOnly&&e.valueMapper)])}else return mp(hp(e,n,r),Qt(e.algorithm,a),t,!e.keysOnly&&e.valueMapper)}function mp(e,t,r,n){var a=n?(o,s,u)=>r(n(o),s,u):r,i=ee(a);return e.then(o=>{if(o)return o.start(()=>{var s=()=>o.continue();(!t||t(o,u=>s=u,u=>{o.stop(u),s=X},u=>{o.fail(u),s=X}))&&i(o.value,o,u=>s=u),s()})})}function we(e,t){try{let r=gp(e),n=gp(t);if(r!==n)return r==="Array"?1:n==="Array"?-1:r==="binary"?1:n==="binary"?-1:r==="string"?1:n==="string"?-1:r==="Date"?1:n!=="Date"?NaN:-1;switch(r){case"number":case"Date":case"string":return e>t?1:e<t?-1:0;case"binary":return Kw(yp(e),yp(t));case"Array":return qw(e,t)}}catch{}return NaN}function qw(e,t){let r=e.length,n=t.length,a=r<n?r:n;for(let i=0;i<a;++i){let o=we(e[i],t[i]);if(o!==0)return o}return r===n?0:r<n?-1:1}function Kw(e,t){let r=e.length,n=t.length,a=r<n?r:n;for(let i=0;i<a;++i)if(e[i]!==t[i])return e[i]<t[i]?-1:1;return r===n?0:r<n?-1:1}function gp(e){let t=typeof e;if(t!=="object")return t;if(ArrayBuffer.isView(e))return"binary";let r=du(e);return r==="ArrayBuffer"?"binary":r}function yp(e){return e instanceof Uint8Array?e:ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):new Uint8Array(e)}var Eu=class{_read(t,r){var n=this._ctx;return n.error?n.table._trans(null,le.bind(null,n.error)):n.table._trans("readonly",t).then(r)}_write(t){var r=this._ctx;return r.error?r.table._trans(null,le.bind(null,r.error)):r.table._trans("readwrite",t,"locked")}_addAlgorithm(t){var r=this._ctx;r.algorithm=Qt(r.algorithm,t)}_iterate(t,r){return Wa(this._ctx,t,r,this._ctx.table.core)}clone(t){var r=Object.create(this.constructor.prototype),n=Object.create(this._ctx);return t&&xe(n,t),r._ctx=n,r}raw(){return this._ctx.valueMapper=null,this}each(t){var r=this._ctx;return this._read(n=>Wa(r,t,n,r.table.core))}count(t){return this._read(r=>{let n=this._ctx,a=n.table.core;if(Or(n,!0))return a.count({trans:r,query:{index:qa(n,a.schema),range:n.range}}).then(o=>Math.min(o,n.limit));var i=0;return Wa(n,()=>(++i,!1),r,a).then(()=>i)}).then(t)}sortBy(t,r){let n=t.split(".").reverse(),a=n[0],i=n.length-1;function o(l,c){return c?o(l[n[c]],c-1):l[a]}var s=this._ctx.dir==="next"?1:-1;function u(l,c){var d=o(l,i),f=o(c,i);return d<f?-s:d>f?s:0}return this.toArray(function(l){return l.sort(u)}).then(r)}toArray(t){return this._read(r=>{var n=this._ctx;if(n.dir==="next"&&Or(n,!0)&&n.limit>0){let{valueMapper:a}=n,i=qa(n,n.table.core.schema);return n.table.core.query({trans:r,limit:n.limit,values:!0,query:{index:i,range:n.range}}).then(({result:o})=>a?o.map(a):o)}else{let a=[];return Wa(n,i=>a.push(i),r,n.table.core).then(()=>a)}},t)}offset(t){var r=this._ctx;return t<=0?this:(r.offset+=t,Or(r)?uu(r,()=>{var n=t;return(a,i)=>n===0?!0:n===1?(--n,!1):(i(()=>{a.advance(n),n=0}),!1)}):uu(r,()=>{var n=t;return()=>--n<0}),this)}limit(t){return this._ctx.limit=Math.min(this._ctx.limit,t),uu(this._ctx,()=>{var r=t;return function(n,a,i){return--r<=0&&a(i),r>=0}},!0),this}until(t,r){return su(this._ctx,function(n,a,i){return t(n.value)?(a(i),r):!0}),this}first(t){return this.limit(1).toArray(function(r){return r[0]}).then(t)}last(t){return this.reverse().first(t)}filter(t){return su(this._ctx,function(r){return t(r.value)}),Zw(this._ctx,t),this}and(t){return this.filter(t)}or(t){return new this.db.WhereClause(this._ctx.table,t,this)}reverse(){return this._ctx.dir=this._ctx.dir==="prev"?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this}desc(){return this.reverse()}eachKey(t){var r=this._ctx;return r.keysOnly=!r.isMatch,this.each(function(n,a){t(a.key,a)})}eachUniqueKey(t){return this._ctx.unique="unique",this.eachKey(t)}eachPrimaryKey(t){var r=this._ctx;return r.keysOnly=!r.isMatch,this.each(function(n,a){t(a.primaryKey,a)})}keys(t){var r=this._ctx;r.keysOnly=!r.isMatch;var n=[];return this.each(function(a,i){n.push(i.key)}).then(function(){return n}).then(t)}primaryKeys(t){var r=this._ctx;if(r.dir==="next"&&Or(r,!0)&&r.limit>0)return this._read(a=>{var i=qa(r,r.table.core.schema);return r.table.core.query({trans:a,values:!1,limit:r.limit,query:{index:i,range:r.range}})}).then(({result:a})=>a).then(t);r.keysOnly=!r.isMatch;var n=[];return this.each(function(a,i){n.push(i.primaryKey)}).then(function(){return n}).then(t)}uniqueKeys(t){return this._ctx.unique="unique",this.keys(t)}firstKey(t){return this.limit(1).keys(function(r){return r[0]}).then(t)}lastKey(t){return this.reverse().firstKey(t)}distinct(){var t=this._ctx,r=t.index&&t.table.schema.idxByName[t.index];if(!r||!r.multi)return this;var n={};return su(this._ctx,function(a){var i=a.primaryKey.toString(),o=Re(n,i);return n[i]=!0,!o}),this}modify(t){var r=this._ctx;return this._write(n=>{var a;if(typeof t=="function")a=t;else{var i=oe(t),o=i.length;a=function(h){for(var y=!1,m=0;m<o;++m){var b=i[m],S=t[b];nt(h,b)!==S&&(Le(h,b,S),y=!0)}return y}}let s=r.table.core,{outbound:u,extractKey:l}=s.schema.primaryKey,c=this.db._options.modifyChunkSize||200,d=[],f=0,p=[],g=(h,y)=>{let{failures:m,numFailures:b}=y;f+=h-b;for(let S of oe(m))d.push(m[S])};return this.clone().primaryKeys().then(h=>{let y=m=>{let b=Math.min(c,h.length-m);return s.getMany({trans:n,keys:h.slice(m,m+b),cache:"immutable"}).then(S=>{let v=[],_=[],w=u?[]:null,E=[];for(let k=0;k<b;++k){let U=S[k],N={value:_n(U),primKey:h[m+k]};a.call(N,N.value,N)!==!1&&(N.value==null?E.push(h[m+k]):!u&&we(l(U),l(N.value))!==0?(E.push(h[m+k]),v.push(N.value)):(_.push(N.value),u&&w.push(h[m+k])))}let C=Or(r)&&r.limit===1/0&&(typeof t!="function"||t===lu)&&{index:r.index,range:r.range};return Promise.resolve(v.length>0&&s.mutate({trans:n,type:"add",values:v}).then(k=>{for(let U in k.failures)E.splice(parseInt(U),1);g(v.length,k)})).then(()=>(_.length>0||C&&typeof t=="object")&&s.mutate({trans:n,type:"put",keys:w,values:_,criteria:C,changeSpec:typeof t!="function"&&t}).then(k=>g(_.length,k))).then(()=>(E.length>0||C&&t===lu)&&s.mutate({trans:n,type:"delete",keys:E,criteria:C}).then(k=>g(E.length,k))).then(()=>h.length>m+b&&y(m+c))})};return y(0).then(()=>{if(d.length>0)throw new Ka("Error modifying one or more objects",d,f,p);return h.length})})})}delete(){var t=this._ctx,r=t.range;return Or(t)&&(t.isPrimKey&&!zw||r.type===3)?this._write(n=>{let{primaryKey:a}=t.table.core.schema,i=r;return t.table.core.count({trans:n,query:{index:a,range:i}}).then(o=>t.table.core.mutate({trans:n,type:"deleteRange",range:i}).then(({failures:s,lastResult:u,results:l,numFailures:c})=>{if(c)throw new Ka("Could not delete some values",Object.keys(s).map(d=>s[d]),o-c);return o-c}))}):this.modify(lu)}},lu=(e,t)=>t.value=null;function Xw(e){return Tn(Eu.prototype,function(r,n){this.db=e;let a=Vp,i=null;if(n)try{a=n()}catch(l){i=l}let o=r._ctx,s=o.table,u=s.hook.reading.fire;this._ctx={table:s,index:o.index,isPrimKey:!o.index||s.schema.primKey.keyPath&&o.index===s.schema.primKey.name,range:a,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:i,or:o.or,valueMapper:u!==An?u:null}})}function Qw(e,t){return e<t?-1:e===t?0:1}function Jw(e,t){return e>t?-1:e===t?0:1}function Ne(e,t,r){var n=e instanceof ri?new e.Collection(e):e;return n._ctx.error=r?new r(t):new TypeError(t),n}function Cr(e){return new e.Collection(e,()=>Hp("")).limit(0)}function ex(e){return e==="next"?t=>t.toUpperCase():t=>t.toLowerCase()}function tx(e){return e==="next"?t=>t.toLowerCase():t=>t.toUpperCase()}function rx(e,t,r,n,a,i){for(var o=Math.min(e.length,n.length),s=-1,u=0;u<o;++u){var l=t[u];if(l!==n[u])return a(e[u],r[u])<0?e.substr(0,u)+r[u]+r.substr(u+1):a(e[u],n[u])<0?e.substr(0,u)+n[u]+r.substr(u+1):s>=0?e.substr(0,s)+t[s]+r.substr(s+1):null;a(e[u],l)<0&&(s=u)}return o<n.length&&i==="next"?e+r.substr(e.length):o<e.length&&i==="prev"?e.substr(0,r.length):s<0?null:e.substr(0,s)+n[s]+r.substr(s+1)}function $a(e,t,r,n){var a,i,o,s,u,l,c,d=r.length;if(!r.every(h=>typeof h=="string"))return Ne(e,Wp);function f(h){a=ex(h),i=tx(h),o=h==="next"?Qw:Jw;var y=r.map(function(m){return{lower:i(m),upper:a(m)}}).sort(function(m,b){return o(m.lower,b.lower)});s=y.map(function(m){return m.upper}),u=y.map(function(m){return m.lower}),l=h,c=h==="next"?"":n}f("next");var p=new e.Collection(e,()=>yt(s[0],u[d-1]+n));p._ondirectionchange=function(h){f(h)};var g=0;return p._addAlgorithm(function(h,y,m){var b=h.key;if(typeof b!="string")return!1;var S=i(b);if(t(S,u,g))return!0;for(var v=null,_=g;_<d;++_){var w=rx(b,S,s[_],u[_],o,l);w===null&&v===null?g=_+1:(v===null||o(v,w)>0)&&(v=w)}return y(v!==null?function(){h.continue(v+c)}:m),!1}),p}function yt(e,t,r,n){return{type:2,lower:e,upper:t,lowerOpen:r,upperOpen:n}}function Hp(e){return{type:1,lower:e,upper:e}}var ri=class{get Collection(){return this._ctx.table.db.Collection}between(t,r,n,a){n=n!==!1,a=a===!0;try{return this._cmp(t,r)>0||this._cmp(t,r)===0&&(n||a)&&!(n&&a)?Cr(this):new this.Collection(this,()=>yt(t,r,!n,!a))}catch{return Ne(this,Je)}}equals(t){return t==null?Ne(this,Je):new this.Collection(this,()=>Hp(t))}above(t){return t==null?Ne(this,Je):new this.Collection(this,()=>yt(t,void 0,!0))}aboveOrEqual(t){return t==null?Ne(this,Je):new this.Collection(this,()=>yt(t,void 0,!1))}below(t){return t==null?Ne(this,Je):new this.Collection(this,()=>yt(void 0,t,!1,!0))}belowOrEqual(t){return t==null?Ne(this,Je):new this.Collection(this,()=>yt(void 0,t))}startsWith(t){return typeof t!="string"?Ne(this,Wp):this.between(t,t+Zt,!0,!0)}startsWithIgnoreCase(t){return t===""?this.startsWith(t):$a(this,(r,n)=>r.indexOf(n[0])===0,[t],Zt)}equalsIgnoreCase(t){return $a(this,(r,n)=>r===n[0],[t],"")}anyOfIgnoreCase(){var t=tt.apply(Nr,arguments);return t.length===0?Cr(this):$a(this,(r,n)=>n.indexOf(r)!==-1,t,"")}startsWithAnyOfIgnoreCase(){var t=tt.apply(Nr,arguments);return t.length===0?Cr(this):$a(this,(r,n)=>n.some(a=>r.indexOf(a)===0),t,Zt)}anyOf(){let t=tt.apply(Nr,arguments),r=this._cmp;try{t.sort(r)}catch{return Ne(this,Je)}if(t.length===0)return Cr(this);let n=new this.Collection(this,()=>yt(t[0],t[t.length-1]));n._ondirectionchange=i=>{r=i==="next"?this._ascending:this._descending,t.sort(r)};let a=0;return n._addAlgorithm((i,o,s)=>{let u=i.key;for(;r(u,t[a])>0;)if(++a,a===t.length)return o(s),!1;return r(u,t[a])===0?!0:(o(()=>{i.continue(t[a])}),!1)}),n}notEqual(t){return this.inAnyRange([[Au,t],[t,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})}noneOf(){let t=tt.apply(Nr,arguments);if(t.length===0)return new this.Collection(this);try{t.sort(this._ascending)}catch{return Ne(this,Je)}let r=t.reduce((n,a)=>n?n.concat([[n[n.length-1][1],a]]):[[Au,a]],null);return r.push([t[t.length-1],this.db._maxKey]),this.inAnyRange(r,{includeLowers:!1,includeUppers:!1})}inAnyRange(t,r){let n=this._cmp,a=this._ascending,i=this._descending,o=this._min,s=this._max;if(t.length===0)return Cr(this);if(!t.every(v=>v[0]!==void 0&&v[1]!==void 0&&a(v[0],v[1])<=0))return Ne(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",F.InvalidArgument);let u=!r||r.includeLowers!==!1,l=r&&r.includeUppers===!0;function c(v,_){let w=0,E=v.length;for(;w<E;++w){let C=v[w];if(n(_[0],C[1])<0&&n(_[1],C[0])>0){C[0]=o(C[0],_[0]),C[1]=s(C[1],_[1]);break}}return w===E&&v.push(_),v}let d=a;function f(v,_){return d(v[0],_[0])}let p;try{p=t.reduce(c,[]),p.sort(f)}catch{return Ne(this,Je)}let g=0,h=l?v=>a(v,p[g][1])>0:v=>a(v,p[g][1])>=0,y=u?v=>i(v,p[g][0])>0:v=>i(v,p[g][0])>=0;function m(v){return!h(v)&&!y(v)}let b=h,S=new this.Collection(this,()=>yt(p[0][0],p[p.length-1][1],!u,!l));return S._ondirectionchange=v=>{v==="next"?(b=h,d=a):(b=y,d=i),p.sort(f)},S._addAlgorithm((v,_,w)=>{for(var E=v.key;b(E);)if(++g,g===p.length)return _(w),!1;return m(E)?!0:(this._cmp(E,p[g][1])===0||this._cmp(E,p[g][0])===0||_(()=>{d===a?v.continue(p[g][0]):v.continue(p[g][1])}),!1)}),S}startsWithAnyOf(){let t=tt.apply(Nr,arguments);return t.every(r=>typeof r=="string")?t.length===0?Cr(this):this.inAnyRange(t.map(r=>[r,r+Zt])):Ne(this,"startsWithAnyOf() only works with strings")}};function nx(e){return Tn(ri.prototype,function(r,n,a){this.db=e,this._ctx={table:r,index:n===":id"?null:n,or:a};let i=e._deps.indexedDB;if(!i)throw new F.MissingAPI;this._cmp=this._ascending=i.cmp.bind(i),this._descending=(o,s)=>i.cmp(s,o),this._max=(o,s)=>i.cmp(o,s)>0?o:s,this._min=(o,s)=>i.cmp(o,s)<0?o:s,this._IDBKeyRange=e._deps.IDBKeyRange})}function We(e){return ee(function(t){return vn(t),e(t.target.error),!1})}function vn(e){e.stopPropagation&&e.stopPropagation(),e.preventDefault&&e.preventDefault()}var bn="storagemutated",bt="x-storagemutated-1",_t=In(null,bn),Iu=class{_lock(){return cn(!D.global),++this._reculock,this._reculock===1&&!D.global&&(D.lockOwnerFor=this),this}_unlock(){if(cn(!D.global),--this._reculock===0)for(D.global||(D.lockOwnerFor=null);this._blockedFuncs.length>0&&!this._locked();){var t=this._blockedFuncs.shift();try{Fr(t[1],t[0])}catch{}}return this}_locked(){return this._reculock&&D.lockOwnerFor!==this}create(t){if(!this.mode)return this;let r=this.db.idbdb,n=this.db._state.dbOpenError;if(cn(!this.idbtrans),!t&&!r)switch(n&&n.name){case"DatabaseClosedError":throw new F.DatabaseClosed(n);case"MissingAPIError":throw new F.MissingAPI(n.message,n);default:throw new F.OpenFailed(n)}if(!this.active)throw new F.TransactionInactive;return cn(this._completion._state===null),t=this.idbtrans=t||(this.db.core?this.db.core.transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability}):r.transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability})),t.onerror=ee(a=>{vn(a),this._reject(t.error)}),t.onabort=ee(a=>{vn(a),this.active&&this._reject(new F.Abort(t.error)),this.active=!1,this.on("abort").fire(a)}),t.oncomplete=ee(()=>{this.active=!1,this._resolve(),"mutatedParts"in t&&_t.storagemutated.fire(t.mutatedParts)}),this}_promise(t,r,n){if(t==="readwrite"&&this.mode!=="readwrite")return le(new F.ReadOnly("Transaction is readonly"));if(!this.active)return le(new F.TransactionInactive);if(this._locked())return new O((i,o)=>{this._blockedFuncs.push([()=>{this._promise(t,r,n).then(i,o)},D])});if(n)return wt(()=>{var i=new O((o,s)=>{this._lock();let u=r(o,s,this);u&&u.then&&u.then(o,s)});return i.finally(()=>this._unlock()),i._lib=!0,i});var a=new O((i,o)=>{var s=r(i,o,this);s&&s.then&&s.then(i,o)});return a._lib=!0,a}_root(){return this.parent?this.parent._root():this}waitFor(t){var r=this._root();let n=O.resolve(t);if(r._waitingFor)r._waitingFor=r._waitingFor.then(()=>n);else{r._waitingFor=n,r._waitingQueue=[];var a=r.idbtrans.objectStore(r.storeNames[0]);(function o(){for(++r._spinCount;r._waitingQueue.length;)r._waitingQueue.shift()();r._waitingFor&&(a.get(-1/0).onsuccess=o)})()}var i=r._waitingFor;return new O((o,s)=>{n.then(u=>r._waitingQueue.push(ee(o.bind(null,u))),u=>r._waitingQueue.push(ee(s.bind(null,u)))).finally(()=>{r._waitingFor===i&&(r._waitingFor=null)})})}abort(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new F.Abort))}table(t){let r=this._memoizedTables||(this._memoizedTables={});if(Re(r,t))return r[t];let n=this.schema[t];if(!n)throw new F.NotFound("Table "+t+" not part of transaction");let a=new this.db.Table(t,n,this);return a.core=this.db.core.table(t),r[t]=a,a}};function ax(e){return Tn(Iu.prototype,function(r,n,a,i,o){this.db=e,this.mode=r,this.storeNames=n,this.schema=a,this.chromeTransactionDurability=i,this.idbtrans=null,this.on=In(this,"complete","error","abort"),this.parent=o||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new O((s,u)=>{this._resolve=s,this._reject=u}),this._completion.then(()=>{this.active=!1,this.on.complete.fire()},s=>{var u=this.active;return this.active=!1,this.on.error.fire(s),this.parent?this.parent._reject(s):u&&this.idbtrans&&this.idbtrans.abort(),le(s)})})}function Tu(e,t,r,n,a,i,o){return{name:e,keyPath:t,unique:r,multi:n,auto:a,compound:i,src:(r&&!o?"&":"")+(n?"*":"")+(a?"++":"")+Yp(t)}}function Yp(e){return typeof e=="string"?e:e?"["+[].join.call(e,"+")+"]":""}function zp(e,t,r){return{name:e,primKey:t,indexes:r,mappedClass:null,idxByName:Sp(r,n=>[n.name,n])}}function ix(e){return e.length===1?e[0]:e}var wn=e=>{try{return e.only([[]]),wn=()=>[[]],[[]]}catch{return wn=()=>Zt,Zt}};function Ou(e){return e==null?()=>{}:typeof e=="string"?ox(e):t=>nt(t,e)}function ox(e){return e.split(".").length===1?r=>r[e]:r=>nt(r,e)}function vp(e){return[].slice.call(e)}var sx=0;function hn(e){return e==null?":id":typeof e=="string"?e:`[${e.join("+")}]`}function ux(e,t,r){function n(c,d){let f=vp(c.objectStoreNames);return{schema:{name:c.name,tables:f.map(p=>d.objectStore(p)).map(p=>{let{keyPath:g,autoIncrement:h}=p,y=ye(g),m=g==null,b={},S={name:p.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:m,compound:y,keyPath:g,autoIncrement:h,unique:!0,extractKey:Ou(g)},indexes:vp(p.indexNames).map(v=>p.index(v)).map(v=>{let{name:_,unique:w,multiEntry:E,keyPath:C}=v,k=ye(C),U={name:_,compound:k,keyPath:C,unique:w,multiEntry:E,extractKey:Ou(C)};return b[hn(C)]=U,U}),getIndexByKeyPath:v=>b[hn(v)]};return b[":id"]=S.primaryKey,g!=null&&(b[hn(g)]=S.primaryKey),S})},hasGetAll:f.length>0&&"getAll"in d.objectStore(f[0])&&!(typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}}function a(c){if(c.type===3)return null;if(c.type===4)throw new Error("Cannot convert never type to IDBKeyRange");let{lower:d,upper:f,lowerOpen:p,upperOpen:g}=c;return d===void 0?f===void 0?null:t.upperBound(f,!!g):f===void 0?t.lowerBound(d,!!p):t.bound(d,f,!!p,!!g)}function i(c){let d=c.name;function f({trans:h,type:y,keys:m,values:b,range:S}){return new Promise((v,_)=>{v=ee(v);let w=h.objectStore(d),E=w.keyPath==null,C=y==="put"||y==="add";if(!C&&y!=="delete"&&y!=="deleteRange")throw new Error("Invalid operation type: "+y);let{length:k}=m||b||{length:1};if(m&&b&&m.length!==b.length)throw new Error("Given keys array must have same length as given values array.");if(k===0)return v({numFailures:0,failures:{},results:[],lastResult:void 0});let U,N=[],Z=[],M=0,re=Q=>{++M,vn(Q)};if(y==="deleteRange"){if(S.type===4)return v({numFailures:M,failures:Z,results:[],lastResult:void 0});S.type===3?N.push(U=w.clear()):N.push(U=w.delete(a(S)))}else{let[Q,ae]=C?E?[b,m]:[b,null]:[m,null];if(C)for(let se=0;se<k;++se)N.push(U=ae&&ae[se]!==void 0?w[y](Q[se],ae[se]):w[y](Q[se])),U.onerror=re;else for(let se=0;se<k;++se)N.push(U=w[y](Q[se])),U.onerror=re}let H=Q=>{let ae=Q.target.result;N.forEach((se,It)=>se.error!=null&&(Z[It]=se.error)),v({numFailures:M,failures:Z,results:y==="delete"?m:N.map(se=>se.result),lastResult:ae})};U.onerror=Q=>{re(Q),H(Q)},U.onsuccess=H})}function p({trans:h,values:y,query:m,reverse:b,unique:S}){return new Promise((v,_)=>{v=ee(v);let{index:w,range:E}=m,C=h.objectStore(d),k=w.isPrimaryKey?C:C.index(w.name),U=b?S?"prevunique":"prev":S?"nextunique":"next",N=y||!("openKeyCursor"in k)?k.openCursor(a(E),U):k.openKeyCursor(a(E),U);N.onerror=We(_),N.onsuccess=ee(Z=>{let M=N.result;if(!M){v(null);return}M.___id=++sx,M.done=!1;let re=M.continue.bind(M),H=M.continuePrimaryKey;H&&(H=H.bind(M));let Q=M.advance.bind(M),ae=()=>{throw new Error("Cursor not started")},se=()=>{throw new Error("Cursor not stopped")};M.trans=h,M.stop=M.continue=M.continuePrimaryKey=M.advance=ae,M.fail=ee(_),M.next=function(){let It=1;return this.start(()=>It--?this.continue():this.stop()).then(()=>this)},M.start=It=>{let He=new Promise((lt,Wr)=>{lt=ee(lt),N.onerror=We(Wr),M.fail=Wr,M.stop=Ee=>{M.stop=M.continue=M.continuePrimaryKey=M.advance=se,lt(Ee)}}),nr=()=>{if(N.result)try{It()}catch(lt){M.fail(lt)}else M.done=!0,M.start=()=>{throw new Error("Cursor behind last entry")},M.stop()};return N.onsuccess=ee(lt=>{N.onsuccess=nr,nr()}),M.continue=re,M.continuePrimaryKey=H,M.advance=Q,nr(),He},v(M)},_)})}function g(h){return y=>new Promise((m,b)=>{m=ee(m);let{trans:S,values:v,limit:_,query:w}=y,E=_===1/0?void 0:_,{index:C,range:k}=w,U=S.objectStore(d),N=C.isPrimaryKey?U:U.index(C.name),Z=a(k);if(_===0)return m({result:[]});if(h){let M=v?N.getAll(Z,E):N.getAllKeys(Z,E);M.onsuccess=re=>m({result:re.target.result}),M.onerror=We(b)}else{let M=0,re=v||!("openKeyCursor"in N)?N.openCursor(Z):N.openKeyCursor(Z),H=[];re.onsuccess=Q=>{let ae=re.result;if(!ae)return m({result:H});if(H.push(v?ae.value:ae.primaryKey),++M===_)return m({result:H});ae.continue()},re.onerror=We(b)}})}return{name:d,schema:c,mutate:f,getMany({trans:h,keys:y}){return new Promise((m,b)=>{m=ee(m);let S=h.objectStore(d),v=y.length,_=new Array(v),w=0,E=0,C,k=N=>{let Z=N.target;(_[Z._pos]=Z.result)!=null,++E===w&&m(_)},U=We(b);for(let N=0;N<v;++N)y[N]!=null&&(C=S.get(y[N]),C._pos=N,C.onsuccess=k,C.onerror=U,++w);w===0&&m(_)})},get({trans:h,key:y}){return new Promise((m,b)=>{m=ee(m);let v=h.objectStore(d).get(y);v.onsuccess=_=>m(_.target.result),v.onerror=We(b)})},query:g(s),openCursor:p,count({query:h,trans:y}){let{index:m,range:b}=h;return new Promise((S,v)=>{let _=y.objectStore(d),w=m.isPrimaryKey?_:_.index(m.name),E=a(b),C=E?w.count(E):w.count();C.onsuccess=ee(k=>S(k.target.result)),C.onerror=We(v)})}}}let{schema:o,hasGetAll:s}=n(e,r),u=o.tables.map(c=>i(c)),l={};return u.forEach(c=>l[c.name]=c),{stack:"dbcore",transaction:e.transaction.bind(e),table(c){if(!l[c])throw new Error(`Table '${c}' not found`);return l[c]},MIN_KEY:-1/0,MAX_KEY:wn(t),schema:o}}function lx(e,t){return t.reduce((r,{create:n})=>({...r,...n(r)}),e)}function cx(e,t,{IDBKeyRange:r,indexedDB:n},a){return{dbcore:lx(ux(t,r,a),e.dbcore)}}function zu({_novip:e},t){let r=t.db,n=cx(e._middlewares,r,e._deps,t);e.core=n.dbcore,e.tables.forEach(a=>{let i=a.name;e.core.schema.tables.some(o=>o.name===i)&&(a.core=e.core.table(i),e[i]instanceof e.Table&&(e[i].core=a.core))})}function ni({_novip:e},t,r,n){r.forEach(a=>{let i=n[a];t.forEach(o=>{let s=Uu(o,a);(!s||"value"in s&&s.value===void 0)&&(o===e.Transaction.prototype||o instanceof e.Transaction?at(o,a,{get(){return this.table(a)},set(u){xp(this,a,{value:u,writable:!0,configurable:!0,enumerable:!0})}}):o[a]=new e.Table(a,i))})})}function Cu({_novip:e},t){t.forEach(r=>{for(let n in r)r[n]instanceof e.Table&&delete r[n]})}function dx(e,t){return e._cfg.version-t._cfg.version}function fx(e,t,r,n){let a=e._dbSchema,i=e._createTransaction("readwrite",e._storeNames,a);i.create(r),i._completion.catch(n);let o=i._reject.bind(i),s=D.transless||D;wt(()=>{D.trans=i,D.transless=s,t===0?(oe(a).forEach(u=>{Gu(r,u,a[u].primKey,a[u].indexes)}),zu(e,r),O.follow(()=>e.on.populate.fire(i)).catch(o)):px(e,t,i,r).catch(o)})}function px({_novip:e},t,r,n){let a=[],i=e._versions,o=e._dbSchema=Zu(e,e.idbdb,n),s=!1;i.filter(c=>c._cfg.version>=t).forEach(c=>{a.push(()=>{let d=o,f=c._cfg.dbschema;Ru(e,d,n),Ru(e,f,n),o=e._dbSchema=f;let p=Gp(d,f);p.add.forEach(h=>{Gu(n,h[0],h[1].primKey,h[1].indexes)}),p.change.forEach(h=>{if(h.recreate)throw new F.Upgrade("Not yet support for changing primary key");{let y=n.objectStore(h.name);h.add.forEach(m=>Nu(y,m)),h.change.forEach(m=>{y.deleteIndex(m.name),Nu(y,m)}),h.del.forEach(m=>y.deleteIndex(m))}});let g=c._cfg.contentUpgrade;if(g&&c._cfg.version>t){zu(e,n),r._memoizedTables={},s=!0;let h=Ep(f);p.del.forEach(S=>{h[S]=d[S]}),Cu(e,[e.Transaction.prototype]),ni(e,[e.Transaction.prototype],oe(h),h),r.schema=h;let y=ju(g);y&&Lr();let m,b=O.follow(()=>{if(m=g(r),m&&y){var S=it.bind(null,null);m.then(S,S)}});return m&&typeof m.then=="function"?O.resolve(m):b.then(()=>m)}}),a.push(d=>{if(!s||!Yw){let f=c._cfg.dbschema;mx(f,d)}Cu(e,[e.Transaction.prototype]),ni(e,[e.Transaction.prototype],e._storeNames,e._dbSchema),r.schema=e._dbSchema})});function l(){return a.length?O.resolve(a.shift()(r.idbtrans)).then(l):O.resolve()}return l().then(()=>{hx(o,n)})}function Gp(e,t){let r={del:[],add:[],change:[]},n;for(n in e)t[n]||r.del.push(n);for(n in t){let a=e[n],i=t[n];if(!a)r.add.push([n,i]);else{let o={name:n,def:i,recreate:!1,del:[],add:[],change:[]};if(""+(a.primKey.keyPath||"")!=""+(i.primKey.keyPath||"")||a.primKey.auto!==i.primKey.auto&&!ui)o.recreate=!0,r.change.push(o);else{let s=a.idxByName,u=i.idxByName,l;for(l in s)u[l]||o.del.push(l);for(l in u){let c=s[l],d=u[l];c?c.src!==d.src&&o.change.push(d):o.add.push(d)}(o.del.length>0||o.add.length>0||o.change.length>0)&&r.change.push(o)}}}return r}function Gu(e,t,r,n){let a=e.db.createObjectStore(t,r.keyPath?{keyPath:r.keyPath,autoIncrement:r.auto}:{autoIncrement:r.auto});return n.forEach(i=>Nu(a,i)),a}function hx(e,t){oe(e).forEach(r=>{t.db.objectStoreNames.contains(r)||Gu(t,r,e[r].primKey,e[r].indexes)})}function mx(e,t){[].slice.call(t.db.objectStoreNames).forEach(r=>e[r]==null&&t.db.deleteObjectStore(r))}function Nu(e,t){e.createIndex(t.name,t.keyPath,{unique:t.unique,multiEntry:t.multi})}function Zu(e,t,r){let n={};return oi(t.objectStoreNames,0).forEach(i=>{let o=r.objectStore(i),s=o.keyPath,u=Tu(Yp(s),s||"",!1,!1,!!o.autoIncrement,s&&typeof s!="string",!0),l=[];for(let d=0;d<o.indexNames.length;++d){let f=o.index(o.indexNames[d]);s=f.keyPath;var c=Tu(f.name,s,!!f.unique,!!f.multiEntry,!1,s&&typeof s!="string",!1);l.push(c)}n[i]=zp(i,u,l)}),n}function gx({_novip:e},t,r){e.verno=t.version/10;let n=e._dbSchema=Zu(e,t,r);e._storeNames=oi(t.objectStoreNames,0),ni(e,[e._allTables],oe(n),n)}function yx(e,t){let r=Zu(e,e.idbdb,t),n=Gp(r,e._dbSchema);return!(n.add.length||n.change.some(a=>a.add.length||a.change.length))}function Ru({_novip:e},t,r){let n=r.db.objectStoreNames;for(let a=0;a<n.length;++a){let i=n[a],o=r.objectStore(i);e._hasGetAll="getAll"in o;for(let s=0;s<o.indexNames.length;++s){let u=o.indexNames[s],l=o.index(u).keyPath,c=typeof l=="string"?l:"["+oi(l).join("+")+"]";if(t[i]){let d=t[i].idxByName[c];d&&(d.name=u,delete t[i].idxByName[c],t[i].idxByName[u]=d)}}}typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&J.WorkerGlobalScope&&J instanceof J.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(e._hasGetAll=!1)}function vx(e){return e.split(",").map((t,r)=>{t=t.trim();let n=t.replace(/([&*]|\+\+)/g,""),a=/^\[/.test(n)?n.match(/^\[(.*)\]$/)[1].split("+"):n;return Tu(n,a||null,/\&/.test(t),/\*/.test(t),/\+\+/.test(t),ye(a),r===0)})}var ku=class{_parseStoresSpec(t,r){oe(t).forEach(n=>{if(t[n]!==null){var a=vx(t[n]),i=a.shift();if(i.multi)throw new F.Schema("Primary key cannot be multi-valued");a.forEach(o=>{if(o.auto)throw new F.Schema("Only primary key can be marked as autoIncrement (++)");if(!o.keyPath)throw new F.Schema("Index must have a name and cannot be an empty string")}),r[n]=zp(n,i,a)}})}stores(t){let r=this.db;this._cfg.storesSource=this._cfg.storesSource?xe(this._cfg.storesSource,t):t;let n=r._versions,a={},i={};return n.forEach(o=>{xe(a,o._cfg.storesSource),i=o._cfg.dbschema={},o._parseStoresSpec(a,i)}),r._dbSchema=i,Cu(r,[r._allTables,r,r.Transaction.prototype]),ni(r,[r._allTables,r,r.Transaction.prototype,this._cfg.tables],oe(i),i),r._storeNames=oe(i),this}upgrade(t){return this._cfg.contentUpgrade=$u(this._cfg.contentUpgrade||X,t),this}};function bx(e){return Tn(ku.prototype,function(r){this.db=e,this._cfg={version:r,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})}function qu(e,t){let r=e._dbNamesDB;return r||(r=e._dbNamesDB=new Dr(li,{addons:[],indexedDB:e,IDBKeyRange:t}),r.version(1).stores({dbnames:"name"})),r.table("dbnames")}function Ku(e){return e&&typeof e.databases=="function"}function wx({indexedDB:e,IDBKeyRange:t}){return Ku(e)?Promise.resolve(e.databases()).then(r=>r.map(n=>n.name).filter(n=>n!==li)):qu(e,t).toCollection().primaryKeys()}function xx({indexedDB:e,IDBKeyRange:t},r){!Ku(e)&&r!==li&&qu(e,t).put({name:r}).catch(X)}function _x({indexedDB:e,IDBKeyRange:t},r){!Ku(e)&&r!==li&&qu(e,t).delete(r).catch(X)}function Du(e){return wt(function(){return D.letThrough=!0,e()})}function Ax(){var e=!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent);if(!e||!indexedDB.databases)return Promise.resolve();var t;return new Promise(function(r){var n=function(){return indexedDB.databases().finally(r)};t=setInterval(n,100),n()}).finally(function(){return clearInterval(t)})}function Sx(e){let t=e._state,{indexedDB:r}=e._deps;if(t.isBeingOpened||e.idbdb)return t.dbReadyPromise.then(()=>t.dbOpenError?le(t.dbOpenError):e);$e&&(t.openCanceller._stackHolder=Jt()),t.isBeingOpened=!0,t.dbOpenError=null,t.openComplete=!1;let n=t.openCanceller;function a(){if(t.openCanceller!==n)throw new F.DatabaseClosed("db.open() was cancelled")}let i=t.dbReadyResolve,o=null,s=!1,u=()=>new O((l,c)=>{if(a(),!r)throw new F.MissingAPI;let d=e.name,f=t.autoSchema?r.open(d):r.open(d,Math.round(e.verno*10));if(!f)throw new F.MissingAPI;f.onerror=We(c),f.onblocked=ee(e._fireOnBlocked),f.onupgradeneeded=ee(p=>{if(o=f.transaction,t.autoSchema&&!e._options.allowEmptyDB){f.onerror=vn,o.abort(),f.result.close();let h=r.deleteDatabase(d);h.onsuccess=h.onerror=ee(()=>{c(new F.NoSuchDatabase(`Database ${d} doesnt exist`))})}else{o.onerror=We(c);var g=p.oldVersion>Math.pow(2,62)?0:p.oldVersion;s=g<1,e._novip.idbdb=f.result,fx(e,g/10,o,c)}},c),f.onsuccess=ee(()=>{o=null;let p=e._novip.idbdb=f.result,g=oi(p.objectStoreNames);if(g.length>0)try{let h=p.transaction(ix(g),"readonly");t.autoSchema?gx(e,p,h):(Ru(e,e._dbSchema,h),yx(e,h)||console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Some queries may fail.")),zu(e,h)}catch{}pn.push(e),p.onversionchange=ee(h=>{t.vcFired=!0,e.on("versionchange").fire(h)}),p.onclose=ee(h=>{e.on("close").fire(h)}),s&&xx(e._deps,d),l()},c)}).catch(l=>l&&l.name==="UnknownError"&&t.PR1398_maxLoop>0?(t.PR1398_maxLoop--,console.warn("Dexie: Workaround for Chrome UnknownError on open()"),u()):O.reject(l));return O.race([n,(typeof navigator>"u"?O.resolve():Ax()).then(u)]).then(()=>(a(),t.onReadyBeingFired=[],O.resolve(Du(()=>e.on.ready.fire(e.vip))).then(function l(){if(t.onReadyBeingFired.length>0){let c=t.onReadyBeingFired.reduce($u,X);return t.onReadyBeingFired=[],O.resolve(Du(()=>c(e.vip))).then(l)}}))).finally(()=>{t.onReadyBeingFired=null,t.isBeingOpened=!1}).then(()=>e).catch(l=>{t.dbOpenError=l;try{o&&o.abort()}catch{}return n===t.openCanceller&&e._close(),le(l)}).finally(()=>{t.openComplete=!0,i()})}function Mu(e){var t=o=>e.next(o),r=o=>e.throw(o),n=i(t),a=i(r);function i(o){return s=>{var u=o(s),l=u.value;return u.done?l:!l||typeof l.then!="function"?ye(l)?Promise.all(l).then(n,a):n(l):l.then(n,a)}}return i(t)()}function Ex(e,t,r){var n=arguments.length;if(n<2)throw new F.InvalidArgument("Too few arguments");for(var a=new Array(n-1);--n;)a[n-1]=arguments[n];r=a.pop();var i=Ip(a);return[e,i,r]}function Zp(e,t,r,n,a){return O.resolve().then(()=>{let i=D.transless||D,o=e._createTransaction(t,r,e._dbSchema,n),s={trans:o,transless:i};if(n)o.idbtrans=n.idbtrans;else try{o.create(),e._state.PR1398_maxLoop=3}catch(d){return d.name===Wu.InvalidState&&e.isOpen()&&--e._state.PR1398_maxLoop>0?(console.warn("Dexie: Need to reopen db"),e._close(),e.open().then(()=>Zp(e,t,r,null,a))):le(d)}let u=ju(a);u&&Lr();let l,c=O.follow(()=>{if(l=a.call(o,o),l)if(u){var d=it.bind(null,null);l.then(d,d)}else typeof l.next=="function"&&typeof l.throw=="function"&&(l=Mu(l))},s);return(l&&typeof l.then=="function"?O.resolve(l).then(d=>o.active?d:le(new F.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))):c.then(()=>l)).then(d=>(n&&o._resolve(),o._completion.then(()=>d))).catch(d=>(o._reject(d),le(d)))})}function Va(e,t,r){let n=ye(e)?e.slice():[e];for(let a=0;a<r;++a)n.push(t);return n}function Ix(e){return{...e,table(t){let r=e.table(t),{schema:n}=r,a={},i=[];function o(f,p,g){let h=hn(f),y=a[h]=a[h]||[],m=f==null?0:typeof f=="string"?1:f.length,b=p>0,S={...g,isVirtual:b,keyTail:p,keyLength:m,extractKey:Ou(f),unique:!b&&g.unique};if(y.push(S),S.isPrimaryKey||i.push(S),m>1){let v=m===2?f[0]:f.slice(0,m-1);o(v,p+1,g)}return y.sort((v,_)=>v.keyTail-_.keyTail),S}let s=o(n.primaryKey.keyPath,0,n.primaryKey);a[":id"]=[s];for(let f of n.indexes)o(f.keyPath,0,f);function u(f){let p=a[hn(f)];return p&&p[0]}function l(f,p){return{type:f.type===1?2:f.type,lower:Va(f.lower,f.lowerOpen?e.MAX_KEY:e.MIN_KEY,p),lowerOpen:!0,upper:Va(f.upper,f.upperOpen?e.MIN_KEY:e.MAX_KEY,p),upperOpen:!0}}function c(f){let p=f.query.index;return p.isVirtual?{...f,query:{index:p,range:l(f.query.range,p.keyTail)}}:f}return{...r,schema:{...n,primaryKey:s,indexes:i,getIndexByKeyPath:u},count(f){return r.count(c(f))},query(f){return r.query(c(f))},openCursor(f){let{keyTail:p,isVirtual:g,keyLength:h}=f.query.index;if(!g)return r.openCursor(f);function y(m){function b(v){v!=null?m.continue(Va(v,f.reverse?e.MAX_KEY:e.MIN_KEY,p)):f.unique?m.continue(m.key.slice(0,h).concat(f.reverse?e.MIN_KEY:e.MAX_KEY,p)):m.continue()}return Object.create(m,{continue:{value:b},continuePrimaryKey:{value(v,_){m.continuePrimaryKey(Va(v,e.MAX_KEY,p),_)}},primaryKey:{get(){return m.primaryKey}},key:{get(){let v=m.key;return h===1?v[0]:v.slice(0,h)}},value:{get(){return m.value}}})}return r.openCursor(c(f)).then(m=>m&&y(m))}}}}}var Tx={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:Ix};function Xu(e,t,r,n){return r=r||{},n=n||"",oe(e).forEach(a=>{if(!Re(t,a))r[n+a]=void 0;else{var i=e[a],o=t[a];if(typeof i=="object"&&typeof o=="object"&&i&&o){let s=du(i),u=du(o);s!==u?r[n+a]=t[a]:s==="Object"?Xu(i,o,r,n+a+"."):i!==o&&(r[n+a]=t[a])}else i!==o&&(r[n+a]=t[a])}}),oe(t).forEach(a=>{Re(e,a)||(r[n+a]=t[a])}),r}function Ox(e,t){return t.type==="delete"?t.keys:t.keys||t.values.map(e.extractKey)}var Cx={stack:"dbcore",name:"HooksMiddleware",level:2,create:e=>({...e,table(t){let r=e.table(t),{primaryKey:n}=r.schema;return{...r,mutate(i){let o=D.trans,{deleting:s,creating:u,updating:l}=o.table(t).hook;switch(i.type){case"add":if(u.fire===X)break;return o._promise("readwrite",()=>c(i),!0);case"put":if(u.fire===X&&l.fire===X)break;return o._promise("readwrite",()=>c(i),!0);case"delete":if(s.fire===X)break;return o._promise("readwrite",()=>c(i),!0);case"deleteRange":if(s.fire===X)break;return o._promise("readwrite",()=>d(i),!0)}return r.mutate(i);function c(p){let g=D.trans,h=p.keys||Ox(n,p);if(!h)throw new Error("Keys missing");return p=p.type==="add"||p.type==="put"?{...p,keys:h}:{...p},p.type!=="delete"&&(p.values=[...p.values]),p.keys&&(p.keys=[...p.keys]),Nx(r,p,h).then(y=>{let m=h.map((b,S)=>{let v=y[S],_={onerror:null,onsuccess:null};if(p.type==="delete")s.fire.call(_,b,v,g);else if(p.type==="add"||v===void 0){let w=u.fire.call(_,b,p.values[S],g);b==null&&w!=null&&(b=w,p.keys[S]=b,n.outbound||Le(p.values[S],n.keyPath,b))}else{let w=Xu(v,p.values[S]),E=l.fire.call(_,w,b,v,g);if(E){let C=p.values[S];Object.keys(E).forEach(k=>{Re(C,k)?C[k]=E[k]:Le(C,k,E[k])})}}return _});return r.mutate(p).then(({failures:b,results:S,numFailures:v,lastResult:_})=>{for(let w=0;w<h.length;++w){let E=S?S[w]:h[w],C=m[w];E==null?C.onerror&&C.onerror(b[w]):C.onsuccess&&C.onsuccess(p.type==="put"&&y[w]?p.values[w]:E)}return{failures:b,results:S,numFailures:v,lastResult:_}}).catch(b=>(m.forEach(S=>S.onerror&&S.onerror(b)),Promise.reject(b)))})}function d(p){return f(p.trans,p.range,1e4)}function f(p,g,h){return r.query({trans:p,values:!1,query:{index:n,range:g},limit:h}).then(({result:y})=>c({type:"delete",keys:y,trans:p}).then(m=>m.numFailures>0?Promise.reject(m.failures[0]):y.length<h?{failures:[],numFailures:0,lastResult:void 0}:f(p,{...g,lower:y[y.length-1],lowerOpen:!0},h)))}}}}})};function Nx(e,t,r){return t.type==="add"?Promise.resolve([]):e.getMany({trans:t.trans,keys:r,cache:"immutable"})}function qp(e,t,r){try{if(!t||t.keys.length<e.length)return null;let n=[];for(let a=0,i=0;a<t.keys.length&&i<e.length;++a)we(t.keys[a],e[i])===0&&(n.push(r?_n(t.values[a]):t.values[a]),++i);return n.length===e.length?n:null}catch{return null}}var Rx={stack:"dbcore",level:-1,create:e=>({table:t=>{let r=e.table(t);return{...r,getMany:n=>{if(!n.cache)return r.getMany(n);let a=qp(n.keys,n.trans._cache,n.cache==="clone");return a?O.resolve(a):r.getMany(n).then(i=>(n.trans._cache={keys:n.keys,values:n.cache==="clone"?_n(i):i},i))},mutate:n=>(n.type!=="add"&&(n.trans._cache=null),r.mutate(n))}}})};function Qu(e){return!("from"in e)}var et=function(e,t){if(this)xe(this,arguments.length?{d:1,from:e,to:arguments.length>1?t:e}:{d:0});else{let r=new et;return e&&"d"in e&&xe(r,e),r}};kr(et.prototype,{add(e){return ai(this,e),this},addKey(e){return xn(this,e,e),this},addKeys(e){return e.forEach(t=>xn(this,t,t)),this},[fu](){return Pu(this)}});function xn(e,t,r){let n=we(t,r);if(isNaN(n))return;if(n>0)throw RangeError();if(Qu(e))return xe(e,{from:t,to:r,d:1});let a=e.l,i=e.r;if(we(r,e.from)<0)return a?xn(a,t,r):e.l={from:t,to:r,d:1,l:null,r:null},bp(e);if(we(t,e.to)>0)return i?xn(i,t,r):e.r={from:t,to:r,d:1,l:null,r:null},bp(e);we(t,e.from)<0&&(e.from=t,e.l=null,e.d=i?i.d+1:1),we(r,e.to)>0&&(e.to=r,e.r=null,e.d=e.l?e.l.d+1:1);let o=!e.r;a&&!e.l&&ai(e,a),i&&o&&ai(e,i)}function ai(e,t){function r(n,{from:a,to:i,l:o,r:s}){xn(n,a,i),o&&r(n,o),s&&r(n,s)}Qu(t)||r(e,t)}function kx(e,t){let r=Pu(t),n=r.next();if(n.done)return!1;let a=n.value,i=Pu(e),o=i.next(a.from),s=o.value;for(;!n.done&&!o.done;){if(we(s.from,a.to)<=0&&we(s.to,a.from)>=0)return!0;we(a.from,s.from)<0?a=(n=r.next(s.from)).value:s=(o=i.next(a.from)).value}return!1}function Pu(e){let t=Qu(e)?null:{s:0,n:e};return{next(r){let n=arguments.length>0;for(;t;)switch(t.s){case 0:if(t.s=1,n)for(;t.n.l&&we(r,t.n.from)<0;)t={up:t,n:t.n.l,s:1};else for(;t.n.l;)t={up:t,n:t.n.l,s:1};case 1:if(t.s=2,!n||we(r,t.n.to)<=0)return{value:t.n,done:!1};case 2:if(t.n.r){t.s=3,t={up:t,n:t.n.r,s:0};continue}case 3:t=t.up}return{done:!0}}}}function bp(e){var t,r;let n=(((t=e.r)===null||t===void 0?void 0:t.d)||0)-(((r=e.l)===null||r===void 0?void 0:r.d)||0),a=n>1?"r":n<-1?"l":"";if(a){let i=a==="r"?"l":"r",o={...e},s=e[a];e.from=s.from,e.to=s.to,e[a]=s[a],o[a]=s[i],e[i]=o,o.d=wp(o)}e.d=wp(e)}function wp({r:e,l:t}){return(e?t?Math.max(e.d,t.d):e.d:t?t.d:0)+1}var Dx={stack:"dbcore",level:0,create:e=>{let t=e.schema.name,r=new et(e.MIN_KEY,e.MAX_KEY);return{...e,table:n=>{let a=e.table(n),{schema:i}=a,{primaryKey:o}=i,{extractKey:s,outbound:u}=o,l={...a,mutate:f=>{let p=f.trans,g=p.mutatedParts||(p.mutatedParts={}),h=w=>{let E=`idb://${t}/${n}/${w}`;return g[E]||(g[E]=new et)},y=h(""),m=h(":dels"),{type:b}=f,[S,v]=f.type==="deleteRange"?[f.range]:f.type==="delete"?[f.keys]:f.values.length<50?[[],f.values]:[],_=f.trans._cache;return a.mutate(f).then(w=>{if(ye(S)){b!=="delete"&&(S=w.results),y.addKeys(S);let E=qp(S,_);!E&&b!=="add"&&m.addKeys(S),(E||v)&&Mx(h,i,E,v)}else if(S){let E={from:S.lower,to:S.upper};m.add(E),y.add(E)}else y.add(r),m.add(r),i.indexes.forEach(E=>h(E.name).add(r));return w})}},c=({query:{index:f,range:p}})=>{var g,h;return[f,new et((g=p.lower)!==null&&g!==void 0?g:e.MIN_KEY,(h=p.upper)!==null&&h!==void 0?h:e.MAX_KEY)]},d={get:f=>[o,new et(f.key)],getMany:f=>[o,new et().addKeys(f.keys)],count:c,query:c,openCursor:c};return oe(d).forEach(f=>{l[f]=function(p){let{subscr:g}=D;if(g){let h=v=>{let _=`idb://${t}/${n}/${v}`;return g[_]||(g[_]=new et)},y=h(""),m=h(":dels"),[b,S]=d[f](p);if(h(b.name||"").add(S),!b.isPrimaryKey)if(f==="count")m.add(r);else{let v=f==="query"&&u&&p.values&&a.query({...p,values:!1});return a[f].apply(this,arguments).then(_=>{if(f==="query"){if(u&&p.values)return v.then(({result:E})=>(y.addKeys(E),_));let w=p.values?_.result.map(s):_.result;p.values?y.addKeys(w):m.addKeys(w)}else if(f==="openCursor"){let w=_,E=p.values;return w&&Object.create(w,{key:{get(){return m.addKey(w.primaryKey),w.key}},primaryKey:{get(){let C=w.primaryKey;return m.addKey(C),C}},value:{get(){return E&&y.addKey(w.primaryKey),w.value}}})}return _})}}return a[f].apply(this,arguments)}}),l}}}};function Mx(e,t,r,n){function a(i){let o=e(i.name||"");function s(l){return l!=null?i.extractKey(l):null}let u=l=>i.multiEntry&&ye(l)?l.forEach(c=>o.addKey(c)):o.addKey(l);(r||n).forEach((l,c)=>{let d=r&&s(r[c]),f=n&&s(n[c]);we(d,f)!==0&&(d!=null&&u(d),f!=null&&u(f))})}t.indexes.forEach(a)}var Dr=class e{constructor(t,r){this._middlewares={},this.verno=0;let n=e.dependencies;this._options=r={addons:e.addons,autoOpen:!0,indexedDB:n.indexedDB,IDBKeyRange:n.IDBKeyRange,...r},this._deps={indexedDB:r.indexedDB,IDBKeyRange:r.IDBKeyRange};let{addons:a}=r;this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;let i={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:X,dbReadyPromise:null,cancelOpen:X,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3};i.dbReadyPromise=new O(o=>{i.dbReadyResolve=o}),i.openCanceller=new O((o,s)=>{i.cancelOpen=s}),this._state=i,this.name=t,this.on=In(this,"populate","blocked","versionchange","close",{ready:[$u,X]}),this.on.ready.subscribe=_p(this.on.ready.subscribe,o=>(s,u)=>{e.vip(()=>{let l=this._state;if(l.openComplete)l.dbOpenError||O.resolve().then(s),u&&o(s);else if(l.onReadyBeingFired)l.onReadyBeingFired.push(s),u&&o(s);else{o(s);let c=this;u||o(function d(){c.on.ready.unsubscribe(s),c.on.ready.unsubscribe(d)})}})}),this.Collection=Xw(this),this.Table=Gw(this),this.Transaction=ax(this),this.Version=bx(this),this.WhereClause=nx(this),this.on("versionchange",o=>{o.newVersion>0?console.warn(`Another connection wants to upgrade database '${this.name}'. Closing db now to resume the upgrade.`):console.warn(`Another connection wants to delete database '${this.name}'. Closing db now to resume the delete request.`),this.close()}),this.on("blocked",o=>{!o.newVersion||o.newVersion<o.oldVersion?console.warn(`Dexie.delete('${this.name}') was blocked`):console.warn(`Upgrade '${this.name}' blocked by other connection holding version ${o.oldVersion/10}`)}),this._maxKey=wn(r.IDBKeyRange),this._createTransaction=(o,s,u,l)=>new this.Transaction(o,s,u,this._options.chromeTransactionDurability,l),this._fireOnBlocked=o=>{this.on("blocked").fire(o),pn.filter(s=>s.name===this.name&&s!==this&&!s._state.vcFired).map(s=>s.on("versionchange").fire(o))},this.use(Tx),this.use(Cx),this.use(Dx),this.use(Rx),this.vip=Object.create(this,{_vip:{value:!0}}),a.forEach(o=>o(this))}version(t){if(isNaN(t)||t<.1)throw new F.Type("Given version is not a positive number");if(t=Math.round(t*10)/10,this.idbdb||this._state.isBeingOpened)throw new F.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,t);let r=this._versions;var n=r.filter(a=>a._cfg.version===t)[0];return n||(n=new this.Version(t),r.push(n),r.sort(dx),n.stores({}),this._state.autoSchema=!1,n)}_whenReady(t){return this.idbdb&&(this._state.openComplete||D.letThrough||this._vip)?t():new O((r,n)=>{if(this._state.openComplete)return n(new F.DatabaseClosed(this._state.dbOpenError));if(!this._state.isBeingOpened){if(!this._options.autoOpen){n(new F.DatabaseClosed);return}this.open().catch(X)}this._state.dbReadyPromise.then(r,n)}).then(t)}use({stack:t,create:r,level:n,name:a}){a&&this.unuse({stack:t,name:a});let i=this._middlewares[t]||(this._middlewares[t]=[]);return i.push({stack:t,create:r,level:n??10,name:a}),i.sort((o,s)=>o.level-s.level),this}unuse({stack:t,name:r,create:n}){return t&&this._middlewares[t]&&(this._middlewares[t]=this._middlewares[t].filter(a=>n?a.create!==n:r?a.name!==r:!1)),this}open(){return Sx(this)}_close(){let t=this._state,r=pn.indexOf(this);if(r>=0&&pn.splice(r,1),this.idbdb){try{this.idbdb.close()}catch{}this._novip.idbdb=null}t.dbReadyPromise=new O(n=>{t.dbReadyResolve=n}),t.openCanceller=new O((n,a)=>{t.cancelOpen=a})}close(){this._close();let t=this._state;this._options.autoOpen=!1,t.dbOpenError=new F.DatabaseClosed,t.isBeingOpened&&t.cancelOpen(t.dbOpenError)}delete(){let t=arguments.length>0,r=this._state;return new O((n,a)=>{let i=()=>{this.close();var o=this._deps.indexedDB.deleteDatabase(this.name);o.onsuccess=ee(()=>{_x(this._deps,this.name),n()}),o.onerror=We(a),o.onblocked=this._fireOnBlocked};if(t)throw new F.InvalidArgument("Arguments not allowed in db.delete()");r.isBeingOpened?r.dbReadyPromise.then(i):i()})}backendDB(){return this.idbdb}isOpen(){return this.idbdb!==null}hasBeenClosed(){let t=this._state.dbOpenError;return t&&t.name==="DatabaseClosed"}hasFailed(){return this._state.dbOpenError!==null}dynamicallyOpened(){return this._state.autoSchema}get tables(){return oe(this._allTables).map(t=>this._allTables[t])}transaction(){let t=Ex.apply(this,arguments);return this._transaction.apply(this,t)}_transaction(t,r,n){let a=D.trans;(!a||a.db!==this||t.indexOf("!")!==-1)&&(a=null);let i=t.indexOf("?")!==-1;t=t.replace("!","").replace("?","");let o,s;try{if(s=r.map(l=>{var c=l instanceof this.Table?l.name:l;if(typeof c!="string")throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return c}),t=="r"||t===iu)o=iu;else if(t=="rw"||t==ou)o=ou;else throw new F.InvalidArgument("Invalid transaction mode: "+t);if(a){if(a.mode===iu&&o===ou)if(i)a=null;else throw new F.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");a&&s.forEach(l=>{if(a&&a.storeNames.indexOf(l)===-1)if(i)a=null;else throw new F.SubTransaction("Table "+l+" not included in parent transaction.")}),i&&a&&!a.active&&(a=null)}}catch(l){return a?a._promise(null,(c,d)=>{d(l)}):le(l)}let u=Zp.bind(null,this,o,s,a,n);return a?a._promise(o,u,"lock"):D.trans?Fr(D.transless,()=>this._whenReady(u)):this._whenReady(u)}table(t){if(!Re(this._allTables,t))throw new F.InvalidTable(`Table ${t} does not exist`);return this._allTables[t]}},Px=typeof Symbol<"u"&&"observable"in Symbol?Symbol.observable:"@@observable",Lu=class{constructor(t){this._subscribe=t}subscribe(t,r,n){return this._subscribe(!t||typeof t=="function"?{next:t,error:r,complete:n}:t)}[Px](){return this}};function Kp(e,t){return oe(t).forEach(r=>{let n=e[r]||(e[r]=new et);ai(n,t[r])}),e}function Lx(e){let t=!1,r,n=new Lu(a=>{let i=ju(e);function o(y){i&&Lr();let m=()=>wt(e,{subscr:y,trans:null}),b=D.trans?Fr(D.transless,m):m();return i&&b.then(it,it),b}let s=!1,u={},l={},c={get closed(){return s},unsubscribe:()=>{s=!0,_t.storagemutated.unsubscribe(g)}};a.start&&a.start(c);let d=!1,f=!1;function p(){return oe(l).some(y=>u[y]&&kx(u[y],l[y]))}let g=y=>{Kp(u,y),p()&&h()},h=()=>{if(d||s)return;u={};let y={},m=o(y);f||(_t(bn,g),f=!0),d=!0,Promise.resolve(m).then(b=>{t=!0,r=b,d=!1,!s&&(p()?h():(u={},l=y,a.next&&a.next(b)))},b=>{d=!1,t=!1,a.error&&a.error(b),c.unsubscribe()})};return h(),c});return n.hasValue=()=>t,n.getValue=()=>r,n}var Fu;try{Fu={indexedDB:J.indexedDB||J.mozIndexedDB||J.webkitIndexedDB||J.msIndexedDB,IDBKeyRange:J.IDBKeyRange||J.webkitIDBKeyRange}}catch{Fu={indexedDB:null,IDBKeyRange:null}}var Gt=Dr;kr(Gt,{...si,delete(e){return new Gt(e,{addons:[]}).delete()},exists(e){return new Gt(e,{addons:[]}).open().then(t=>(t.close(),!0)).catch("NoSuchDatabaseError",()=>!1)},getDatabaseNames(e){try{return wx(Gt.dependencies).then(e)}catch{return le(new F.MissingAPI)}},defineClass(){function e(t){xe(this,t)}return e},ignoreTransaction(e){return D.trans?Fr(D.transless,e):e()},vip:Du,async:function(e){return function(){try{var t=Mu(e.apply(this,arguments));return!t||typeof t.then!="function"?O.resolve(t):t}catch(r){return le(r)}}},spawn:function(e,t,r){try{var n=Mu(e.apply(r,t||[]));return!n||typeof n.then!="function"?O.resolve(n):n}catch(a){return le(a)}},currentTransaction:{get:()=>D.trans||null},waitFor:function(e,t){let r=O.resolve(typeof e=="function"?Gt.ignoreTransaction(e):e).timeout(t||6e4);return D.trans?D.trans.waitFor(r):r},Promise:O,debug:{get:()=>$e,set:e=>{Op(e,e==="dexie"?()=>!0:$p)}},derive:Mr,extend:xe,props:kr,override:_p,Events:In,on:_t,liveQuery:Lx,extendObservabilitySet:Kp,getByKeyPath:nt,setByKeyPath:Le,delByKeyPath:bw,shallowClone:Ep,deepClone:_n,getObjectDiff:Xu,cmp:we,asap:Ap,minKey:Au,addons:[],connections:pn,errnames:Wu,dependencies:Fu,semVer:pp,version:pp.split(".").map(e=>parseInt(e)).reduce((e,t,r)=>e+t/Math.pow(10,r*2))});Gt.maxKey=wn(Gt.dependencies.IDBKeyRange);typeof dispatchEvent<"u"&&typeof addEventListener<"u"&&(_t(bn,e=>{if(!rt){let t;ui?(t=document.createEvent("CustomEvent"),t.initCustomEvent(bt,!0,!0,e)):t=new CustomEvent(bt,{detail:e}),rt=!0,dispatchEvent(t),rt=!1}}),addEventListener(bt,({detail:e})=>{rt||ii(e)}));function ii(e){let t=rt;try{rt=!0,_t.storagemutated.fire(e)}finally{rt=t}}var rt=!1;if(typeof BroadcastChannel<"u"){let e=new BroadcastChannel(bt);typeof e.unref=="function"&&e.unref(),_t(bn,t=>{rt||e.postMessage(t)}),e.onmessage=t=>{t.data&&ii(t.data)}}else if(typeof self<"u"&&typeof navigator<"u"){_t(bn,t=>{try{rt||(typeof localStorage<"u"&&localStorage.setItem(bt,JSON.stringify({trig:Math.random(),changedParts:t})),typeof self.clients=="object"&&[...self.clients.matchAll({includeUncontrolled:!0})].forEach(r=>r.postMessage({type:bt,changedParts:t})))}catch{}}),typeof addEventListener<"u"&&addEventListener("storage",t=>{if(t.key===bt){let r=JSON.parse(t.newValue);r&&ii(r.changedParts)}});let e=self.document&&navigator.serviceWorker;e&&e.addEventListener("message",Fx)}function Fx({data:e}){e&&e.type===bt&&ii(e.changedParts)}O.rejectionMapper=Ow;Op($e,$p);var Ju=class extends Dr{constructor(){super("penx-local");this.addCreation=r=>this.creation.add(r);this.getCreation=r=>this.creation.get(r);this.getCreationByName=r=>this.creation.where({name:r}).first();this.upsertCreation=async(r,n)=>{let a=await this.creation.where({name:r}).first();a?await this.updateCreation(a.id,{...n}):await this.addCreation({id:me(),spaceId:"",name:r,isDeveloping:!1,createdAt:new Date,updatedAt:new Date,...n})};this.updateCreation=(r,n)=>this.creation.update(r,n);this.updateCommandAlias=async(r,n,a)=>{let i=await this.creation.get(r);if(!i)return;let o=i.commands.findIndex(s=>s.name===n);o!==-1&&(i.commands[o].alias=a,await this.updateCreation(r,{commands:i.commands}))};this.updateCommandHotkey=async(r,n,a)=>{let i=await this.creation.get(r);if(!i)return;let o=i.commands.findIndex(s=>s.name===n);o!==-1&&(i.commands[o].hotkey=a,await this.updateCreation(r,{commands:i.commands}))};this.addCommand=async(r,n)=>{let a=await this.creation.get(r);a&&await this.updateCreation(r,{commands:[...a.commands,n]})};this.listCreations=async()=>await this.creation.toArray();this.installCreation=async r=>{let n=await this.creation.where({spaceId:r.spaceId,name:r.name}).toArray();if(n?.length){let a=n[0];return this.creation.update(a.id,{...a,...r})}return this.creation.add({id:me(),...r})};this.deleteCreation=async r=>this.creation.delete(r);this.createFile=async r=>{let n=await this.file.add({id:me(),...r});return this.file.get(n)};this.version(21).stores({space:"id, name, userId",node:"id, spaceId, databaseId, type, date, [type+spaceId+databaseId], [type+spaceId], [type+databaseId]",file:"id, googleDriveFileId, fileHash",creation:"id, name, isDeveloping"})}},ot=new Ju;function Ur(e){"@babel/helpers - typeof";return Ur=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ur(e)}function Se(e){if(e===null||e===!0||e===!1)return NaN;var t=Number(e);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}function z(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}function ne(e){z(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||Ur(e)==="object"&&t==="[object Date]"?new Date(e.getTime()):typeof e=="number"||t==="[object Number]"?new Date(e):((typeof e=="string"||t==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}function el(e,t){z(2,arguments);var r=ne(e).getTime(),n=Se(t);return new Date(r+n)}var Ux={};function At(){return Ux}function tl(e){var t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),e.getTime()-t.getTime()}function rl(e){return z(1,arguments),e instanceof Date||Ur(e)==="object"&&Object.prototype.toString.call(e)==="[object Date]"}function nl(e){if(z(1,arguments),!rl(e)&&typeof e!="number")return!1;var t=ne(e);return!isNaN(Number(t))}function al(e,t){z(2,arguments);var r=Se(t);return el(e,-r)}var jx=864e5;function il(e){z(1,arguments);var t=ne(e),r=t.getTime();t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0);var n=t.getTime(),a=r-n;return Math.floor(a/jx)+1}function St(e){z(1,arguments);var t=1,r=ne(e),n=r.getUTCDay(),a=(n<t?7:0)+n-t;return r.setUTCDate(r.getUTCDate()-a),r.setUTCHours(0,0,0,0),r}function On(e){z(1,arguments);var t=ne(e),r=t.getUTCFullYear(),n=new Date(0);n.setUTCFullYear(r+1,0,4),n.setUTCHours(0,0,0,0);var a=St(n),i=new Date(0);i.setUTCFullYear(r,0,4),i.setUTCHours(0,0,0,0);var o=St(i);return t.getTime()>=a.getTime()?r+1:t.getTime()>=o.getTime()?r:r-1}function ol(e){z(1,arguments);var t=On(e),r=new Date(0);r.setUTCFullYear(t,0,4),r.setUTCHours(0,0,0,0);var n=St(r);return n}var Bx=6048e5;function sl(e){z(1,arguments);var t=ne(e),r=St(t).getTime()-ol(t).getTime();return Math.round(r/Bx)+1}function Et(e,t){var r,n,a,i,o,s,u,l;z(1,arguments);var c=At(),d=Se((r=(n=(a=(i=t?.weekStartsOn)!==null&&i!==void 0?i:t==null||(o=t.locale)===null||o===void 0||(s=o.options)===null||s===void 0?void 0:s.weekStartsOn)!==null&&a!==void 0?a:c.weekStartsOn)!==null&&n!==void 0?n:(u=c.locale)===null||u===void 0||(l=u.options)===null||l===void 0?void 0:l.weekStartsOn)!==null&&r!==void 0?r:0);if(!(d>=0&&d<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var f=ne(e),p=f.getUTCDay(),g=(p<d?7:0)+p-d;return f.setUTCDate(f.getUTCDate()-g),f.setUTCHours(0,0,0,0),f}function Cn(e,t){var r,n,a,i,o,s,u,l;z(1,arguments);var c=ne(e),d=c.getUTCFullYear(),f=At(),p=Se((r=(n=(a=(i=t?.firstWeekContainsDate)!==null&&i!==void 0?i:t==null||(o=t.locale)===null||o===void 0||(s=o.options)===null||s===void 0?void 0:s.firstWeekContainsDate)!==null&&a!==void 0?a:f.firstWeekContainsDate)!==null&&n!==void 0?n:(u=f.locale)===null||u===void 0||(l=u.options)===null||l===void 0?void 0:l.firstWeekContainsDate)!==null&&r!==void 0?r:1);if(!(p>=1&&p<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var g=new Date(0);g.setUTCFullYear(d+1,0,p),g.setUTCHours(0,0,0,0);var h=Et(g,t),y=new Date(0);y.setUTCFullYear(d,0,p),y.setUTCHours(0,0,0,0);var m=Et(y,t);return c.getTime()>=h.getTime()?d+1:c.getTime()>=m.getTime()?d:d-1}function ul(e,t){var r,n,a,i,o,s,u,l;z(1,arguments);var c=At(),d=Se((r=(n=(a=(i=t?.firstWeekContainsDate)!==null&&i!==void 0?i:t==null||(o=t.locale)===null||o===void 0||(s=o.options)===null||s===void 0?void 0:s.firstWeekContainsDate)!==null&&a!==void 0?a:c.firstWeekContainsDate)!==null&&n!==void 0?n:(u=c.locale)===null||u===void 0||(l=u.options)===null||l===void 0?void 0:l.firstWeekContainsDate)!==null&&r!==void 0?r:1),f=Cn(e,t),p=new Date(0);p.setUTCFullYear(f,0,d),p.setUTCHours(0,0,0,0);var g=Et(p,t);return g}var Wx=6048e5;function ll(e,t){z(1,arguments);var r=ne(e),n=Et(r,t).getTime()-ul(r,t).getTime();return Math.round(n/Wx)+1}function Y(e,t){for(var r=e<0?"-":"",n=Math.abs(e).toString();n.length<t;)n="0"+n;return r+n}var $x={y:function(t,r){var n=t.getUTCFullYear(),a=n>0?n:1-n;return Y(r==="yy"?a%100:a,r.length)},M:function(t,r){var n=t.getUTCMonth();return r==="M"?String(n+1):Y(n+1,2)},d:function(t,r){return Y(t.getUTCDate(),r.length)},a:function(t,r){var n=t.getUTCHours()/12>=1?"pm":"am";switch(r){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h:function(t,r){return Y(t.getUTCHours()%12||12,r.length)},H:function(t,r){return Y(t.getUTCHours(),r.length)},m:function(t,r){return Y(t.getUTCMinutes(),r.length)},s:function(t,r){return Y(t.getUTCSeconds(),r.length)},S:function(t,r){var n=r.length,a=t.getUTCMilliseconds(),i=Math.floor(a*Math.pow(10,n-3));return Y(i,r.length)}},st=$x;var jr={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Vx={G:function(t,r,n){var a=t.getUTCFullYear()>0?1:0;switch(r){case"G":case"GG":case"GGG":return n.era(a,{width:"abbreviated"});case"GGGGG":return n.era(a,{width:"narrow"});case"GGGG":default:return n.era(a,{width:"wide"})}},y:function(t,r,n){if(r==="yo"){var a=t.getUTCFullYear(),i=a>0?a:1-a;return n.ordinalNumber(i,{unit:"year"})}return st.y(t,r)},Y:function(t,r,n,a){var i=Cn(t,a),o=i>0?i:1-i;if(r==="YY"){var s=o%100;return Y(s,2)}return r==="Yo"?n.ordinalNumber(o,{unit:"year"}):Y(o,r.length)},R:function(t,r){var n=On(t);return Y(n,r.length)},u:function(t,r){var n=t.getUTCFullYear();return Y(n,r.length)},Q:function(t,r,n){var a=Math.ceil((t.getUTCMonth()+1)/3);switch(r){case"Q":return String(a);case"QQ":return Y(a,2);case"Qo":return n.ordinalNumber(a,{unit:"quarter"});case"QQQ":return n.quarter(a,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(a,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(a,{width:"wide",context:"formatting"})}},q:function(t,r,n){var a=Math.ceil((t.getUTCMonth()+1)/3);switch(r){case"q":return String(a);case"qq":return Y(a,2);case"qo":return n.ordinalNumber(a,{unit:"quarter"});case"qqq":return n.quarter(a,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(a,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(a,{width:"wide",context:"standalone"})}},M:function(t,r,n){var a=t.getUTCMonth();switch(r){case"M":case"MM":return st.M(t,r);case"Mo":return n.ordinalNumber(a+1,{unit:"month"});case"MMM":return n.month(a,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(a,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(a,{width:"wide",context:"formatting"})}},L:function(t,r,n){var a=t.getUTCMonth();switch(r){case"L":return String(a+1);case"LL":return Y(a+1,2);case"Lo":return n.ordinalNumber(a+1,{unit:"month"});case"LLL":return n.month(a,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(a,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(a,{width:"wide",context:"standalone"})}},w:function(t,r,n,a){var i=ll(t,a);return r==="wo"?n.ordinalNumber(i,{unit:"week"}):Y(i,r.length)},I:function(t,r,n){var a=sl(t);return r==="Io"?n.ordinalNumber(a,{unit:"week"}):Y(a,r.length)},d:function(t,r,n){return r==="do"?n.ordinalNumber(t.getUTCDate(),{unit:"date"}):st.d(t,r)},D:function(t,r,n){var a=il(t);return r==="Do"?n.ordinalNumber(a,{unit:"dayOfYear"}):Y(a,r.length)},E:function(t,r,n){var a=t.getUTCDay();switch(r){case"E":case"EE":case"EEE":return n.day(a,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(a,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(a,{width:"short",context:"formatting"});case"EEEE":default:return n.day(a,{width:"wide",context:"formatting"})}},e:function(t,r,n,a){var i=t.getUTCDay(),o=(i-a.weekStartsOn+8)%7||7;switch(r){case"e":return String(o);case"ee":return Y(o,2);case"eo":return n.ordinalNumber(o,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});case"eeee":default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(t,r,n,a){var i=t.getUTCDay(),o=(i-a.weekStartsOn+8)%7||7;switch(r){case"c":return String(o);case"cc":return Y(o,r.length);case"co":return n.ordinalNumber(o,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});case"cccc":default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(t,r,n){var a=t.getUTCDay(),i=a===0?7:a;switch(r){case"i":return String(i);case"ii":return Y(i,r.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(a,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(a,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(a,{width:"short",context:"formatting"});case"iiii":default:return n.day(a,{width:"wide",context:"formatting"})}},a:function(t,r,n){var a=t.getUTCHours(),i=a/12>=1?"pm":"am";switch(r){case"a":case"aa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(t,r,n){var a=t.getUTCHours(),i;switch(a===12?i=jr.noon:a===0?i=jr.midnight:i=a/12>=1?"pm":"am",r){case"b":case"bb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(t,r,n){var a=t.getUTCHours(),i;switch(a>=17?i=jr.evening:a>=12?i=jr.afternoon:a>=4?i=jr.morning:i=jr.night,r){case"B":case"BB":case"BBB":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(t,r,n){if(r==="ho"){var a=t.getUTCHours()%12;return a===0&&(a=12),n.ordinalNumber(a,{unit:"hour"})}return st.h(t,r)},H:function(t,r,n){return r==="Ho"?n.ordinalNumber(t.getUTCHours(),{unit:"hour"}):st.H(t,r)},K:function(t,r,n){var a=t.getUTCHours()%12;return r==="Ko"?n.ordinalNumber(a,{unit:"hour"}):Y(a,r.length)},k:function(t,r,n){var a=t.getUTCHours();return a===0&&(a=24),r==="ko"?n.ordinalNumber(a,{unit:"hour"}):Y(a,r.length)},m:function(t,r,n){return r==="mo"?n.ordinalNumber(t.getUTCMinutes(),{unit:"minute"}):st.m(t,r)},s:function(t,r,n){return r==="so"?n.ordinalNumber(t.getUTCSeconds(),{unit:"second"}):st.s(t,r)},S:function(t,r){return st.S(t,r)},X:function(t,r,n,a){var i=a._originalDate||t,o=i.getTimezoneOffset();if(o===0)return"Z";switch(r){case"X":return Qp(o);case"XXXX":case"XX":return er(o);case"XXXXX":case"XXX":default:return er(o,":")}},x:function(t,r,n,a){var i=a._originalDate||t,o=i.getTimezoneOffset();switch(r){case"x":return Qp(o);case"xxxx":case"xx":return er(o);case"xxxxx":case"xxx":default:return er(o,":")}},O:function(t,r,n,a){var i=a._originalDate||t,o=i.getTimezoneOffset();switch(r){case"O":case"OO":case"OOO":return"GMT"+Xp(o,":");case"OOOO":default:return"GMT"+er(o,":")}},z:function(t,r,n,a){var i=a._originalDate||t,o=i.getTimezoneOffset();switch(r){case"z":case"zz":case"zzz":return"GMT"+Xp(o,":");case"zzzz":default:return"GMT"+er(o,":")}},t:function(t,r,n,a){var i=a._originalDate||t,o=Math.floor(i.getTime()/1e3);return Y(o,r.length)},T:function(t,r,n,a){var i=a._originalDate||t,o=i.getTime();return Y(o,r.length)}};function Xp(e,t){var r=e>0?"-":"+",n=Math.abs(e),a=Math.floor(n/60),i=n%60;if(i===0)return r+String(a);var o=t||"";return r+String(a)+o+Y(i,2)}function Qp(e,t){if(e%60===0){var r=e>0?"-":"+";return r+Y(Math.abs(e)/60,2)}return er(e,t)}function er(e,t){var r=t||"",n=e>0?"-":"+",a=Math.abs(e),i=Y(Math.floor(a/60),2),o=Y(a%60,2);return n+i+r+o}var Jp=Vx;var eh=function(t,r){switch(t){case"P":return r.date({width:"short"});case"PP":return r.date({width:"medium"});case"PPP":return r.date({width:"long"});case"PPPP":default:return r.date({width:"full"})}},th=function(t,r){switch(t){case"p":return r.time({width:"short"});case"pp":return r.time({width:"medium"});case"ppp":return r.time({width:"long"});case"pppp":default:return r.time({width:"full"})}},Hx=function(t,r){var n=t.match(/(P+)(p+)?/)||[],a=n[1],i=n[2];if(!i)return eh(t,r);var o;switch(a){case"P":o=r.dateTime({width:"short"});break;case"PP":o=r.dateTime({width:"medium"});break;case"PPP":o=r.dateTime({width:"long"});break;case"PPPP":default:o=r.dateTime({width:"full"});break}return o.replace("{{date}}",eh(a,r)).replace("{{time}}",th(i,r))},Yx={p:th,P:Hx},rh=Yx;var zx=["D","DD"],Gx=["YY","YYYY"];function nh(e){return zx.indexOf(e)!==-1}function ah(e){return Gx.indexOf(e)!==-1}function cl(e,t,r){if(e==="YYYY")throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(t,"`) for formatting years to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="YY")throw new RangeError("Use `yy` instead of `YY` (in `".concat(t,"`) for formatting years to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="D")throw new RangeError("Use `d` instead of `D` (in `".concat(t,"`) for formatting days of the month to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="DD")throw new RangeError("Use `dd` instead of `DD` (in `".concat(t,"`) for formatting days of the month to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var Zx={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},qx=function(t,r,n){var a,i=Zx[t];return typeof i=="string"?a=i:r===1?a=i.one:a=i.other.replace("{{count}}",r.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+a:a+" ago":a},ih=qx;function Nn(e){return function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.width?String(t.width):e.defaultWidth,n=e.formats[r]||e.formats[e.defaultWidth];return n}}var Kx={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Xx={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Qx={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Jx={date:Nn({formats:Kx,defaultWidth:"full"}),time:Nn({formats:Xx,defaultWidth:"full"}),dateTime:Nn({formats:Qx,defaultWidth:"full"})},oh=Jx;var e0={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},t0=function(t,r,n,a){return e0[t]},sh=t0;function tr(e){return function(t,r){var n=r!=null&&r.context?String(r.context):"standalone",a;if(n==="formatting"&&e.formattingValues){var i=e.defaultFormattingWidth||e.defaultWidth,o=r!=null&&r.width?String(r.width):i;a=e.formattingValues[o]||e.formattingValues[i]}else{var s=e.defaultWidth,u=r!=null&&r.width?String(r.width):e.defaultWidth;a=e.values[u]||e.values[s]}var l=e.argumentCallback?e.argumentCallback(t):t;return a[l]}}var r0={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},n0={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},a0={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},i0={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},o0={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},s0={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},u0=function(t,r){var n=Number(t),a=n%100;if(a>20||a<10)switch(a%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},l0={ordinalNumber:u0,era:tr({values:r0,defaultWidth:"wide"}),quarter:tr({values:n0,defaultWidth:"wide",argumentCallback:function(t){return t-1}}),month:tr({values:a0,defaultWidth:"wide"}),day:tr({values:i0,defaultWidth:"wide"}),dayPeriod:tr({values:o0,defaultWidth:"wide",formattingValues:s0,defaultFormattingWidth:"wide"})},uh=l0;function rr(e){return function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=r.width,a=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],i=t.match(a);if(!i)return null;var o=i[0],s=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],u=Array.isArray(s)?d0(s,function(d){return d.test(o)}):c0(s,function(d){return d.test(o)}),l;l=e.valueCallback?e.valueCallback(u):u,l=r.valueCallback?r.valueCallback(l):l;var c=t.slice(o.length);return{value:l,rest:c}}}function c0(e,t){for(var r in e)if(e.hasOwnProperty(r)&&t(e[r]))return r}function d0(e,t){for(var r=0;r<e.length;r++)if(t(e[r]))return r}function dl(e){return function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=t.match(e.matchPattern);if(!n)return null;var a=n[0],i=t.match(e.parsePattern);if(!i)return null;var o=e.valueCallback?e.valueCallback(i[0]):i[0];o=r.valueCallback?r.valueCallback(o):o;var s=t.slice(a.length);return{value:o,rest:s}}}var f0=/^(\d+)(th|st|nd|rd)?/i,p0=/\d+/i,h0={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},m0={any:[/^b/i,/^(a|c)/i]},g0={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},y0={any:[/1/i,/2/i,/3/i,/4/i]},v0={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},b0={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},w0={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},x0={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},_0={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},A0={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},S0={ordinalNumber:dl({matchPattern:f0,parsePattern:p0,valueCallback:function(t){return parseInt(t,10)}}),era:rr({matchPatterns:h0,defaultMatchWidth:"wide",parsePatterns:m0,defaultParseWidth:"any"}),quarter:rr({matchPatterns:g0,defaultMatchWidth:"wide",parsePatterns:y0,defaultParseWidth:"any",valueCallback:function(t){return t+1}}),month:rr({matchPatterns:v0,defaultMatchWidth:"wide",parsePatterns:b0,defaultParseWidth:"any"}),day:rr({matchPatterns:w0,defaultMatchWidth:"wide",parsePatterns:x0,defaultParseWidth:"any"}),dayPeriod:rr({matchPatterns:_0,defaultMatchWidth:"any",parsePatterns:A0,defaultParseWidth:"any"})},lh=S0;var E0={code:"en-US",formatDistance:ih,formatLong:oh,formatRelative:sh,localize:uh,match:lh,options:{weekStartsOn:0,firstWeekContainsDate:1}},ch=E0;var dh=ch;var I0=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,T0=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,O0=/^'([^]*?)'?$/,C0=/''/g,N0=/[a-zA-Z]/;function ci(e,t,r){var n,a,i,o,s,u,l,c,d,f,p,g,h,y,m,b,S,v;z(2,arguments);var _=String(t),w=At(),E=(n=(a=r?.locale)!==null&&a!==void 0?a:w.locale)!==null&&n!==void 0?n:dh,C=Se((i=(o=(s=(u=r?.firstWeekContainsDate)!==null&&u!==void 0?u:r==null||(l=r.locale)===null||l===void 0||(c=l.options)===null||c===void 0?void 0:c.firstWeekContainsDate)!==null&&s!==void 0?s:w.firstWeekContainsDate)!==null&&o!==void 0?o:(d=w.locale)===null||d===void 0||(f=d.options)===null||f===void 0?void 0:f.firstWeekContainsDate)!==null&&i!==void 0?i:1);if(!(C>=1&&C<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var k=Se((p=(g=(h=(y=r?.weekStartsOn)!==null&&y!==void 0?y:r==null||(m=r.locale)===null||m===void 0||(b=m.options)===null||b===void 0?void 0:b.weekStartsOn)!==null&&h!==void 0?h:w.weekStartsOn)!==null&&g!==void 0?g:(S=w.locale)===null||S===void 0||(v=S.options)===null||v===void 0?void 0:v.weekStartsOn)!==null&&p!==void 0?p:0);if(!(k>=0&&k<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!E.localize)throw new RangeError("locale must contain localize property");if(!E.formatLong)throw new RangeError("locale must contain formatLong property");var U=ne(e);if(!nl(U))throw new RangeError("Invalid time value");var N=tl(U),Z=al(U,N),M={firstWeekContainsDate:C,weekStartsOn:k,locale:E,_originalDate:U},re=_.match(T0).map(function(H){var Q=H[0];if(Q==="p"||Q==="P"){var ae=rh[Q];return ae(H,E.formatLong)}return H}).join("").match(I0).map(function(H){if(H==="''")return"'";var Q=H[0];if(Q==="'")return R0(H);var ae=Jp[Q];if(ae)return!(r!=null&&r.useAdditionalWeekYearTokens)&&ah(H)&&cl(H,t,String(e)),!(r!=null&&r.useAdditionalDayOfYearTokens)&&nh(H)&&cl(H,t,String(e)),ae(Z,H,E.localize,M);if(Q.match(N0))throw new RangeError("Format string contains an unescaped latin alphabet character `"+Q+"`");return H}).join("");return re}function R0(e){var t=e.match(O0);return t?t[1].replace(C0,"'"):e}function Rn(e){return ci(e,"yyyy-MM-dd")}function ut(e,t=""){let{name:r,...n}=e;return{id:me(),type:"COMMON",element:[{type:Mc,children:[{text:t}]}],props:n.props||{},collapsed:!1,folded:!0,children:[],createdAt:new Date,updatedAt:new Date,...n}}function Ve(e){return{id:me(),type:"COMMON",props:e.props||{},collapsed:!1,folded:!0,children:[],createdAt:new Date,updatedAt:new Date,...e}}var fl=class{constructor(t){this.node=t;this.listNodesBySpaceId=t=>this.node.where({spaceId:t}).toArray();this.listNodesByIds=t=>this.node.where("id").anyOf(t).toArray();this.deleteNodeByIds=t=>this.node.where("id").anyOf(t).delete();this.deleteNodeBySpaceId=t=>this.node.where({spaceId:t}).delete();this.createInboxNode=async t=>{let r=await this.createNode(ut({spaceId:t}));return await this.createNode({...Ve({spaceId:t,type:"INBOX"}),children:[r.id]})};this.createNode=async t=>{let r=await this.node.add({...ut({spaceId:t.spaceId}),...t});return this.node.get(r)};this.createTextNode=async(t,r)=>await this.createNode({...ut({spaceId:t},r)});this.addTextToToday=async(t,r)=>{let n=await this.getOrCreateTodayNode(t),a=await this.createNode({...ut({spaceId:t},r)}),i=await this.updateNode(n.id,{children:[...n.children||[],a.id]});return{node:a,todayNode:i}};this.addNodesToToday=async(t,r)=>{let n=await this.getOrCreateTodayNode(t);for(let o of r)await this.createNode({parentId:o.parentId||n.id,...o});let a=r.filter(o=>!o.parentId).map(o=>o.id);return await this.updateNode(n.id,{children:[...n.children||[],...a]})};this.getNode=t=>this.node.get(t);this.getRootNode=async t=>await this.node.where({type:"ROOT",spaceId:t}).first();this.getDailyRootNode=async t=>await this.node.where({type:"DAILY_ROOT",spaceId:t}).first();this.getInboxNode=async t=>await this.node.where({type:"INBOX",spaceId:t}).first();this.getTrashNode=async t=>await this.node.where({type:"TRASH",spaceId:t}).first();this.getNodeByDate=async(t,r=Rn(new Date))=>(await this.node.where({type:"DAILY",spaceId:t}).toArray()).find(a=>a.date===r);this.getFavoriteNode=async t=>(await this.node.where({type:"FAVORITE"}).toArray()).find(n=>n.spaceId===t);this.updateNode=async(t,r)=>{let n=r||{};return Reflect.has(r,"updatedAt")||(n.updatedAt=new Date),await this.node.update(t,n),this.node.get(t)};this.updateNodeProps=async(t,r)=>{let a={...(await this.getNode(t)).props,...r};await this.node.update(t,{props:a})};this.deleteNode=async t=>this.node.delete(t);this.getSpaceNode=async t=>(await this.node.where({type:"ROOT"}).toArray()).find(a=>a.spaceId===t);this.createPageNode=async(t,r)=>{let{spaceId:n=""}=t,a=await this.createNode(ut({spaceId:n})),i=await this.createNode({...Ve({spaceId:t.spaceId}),...t,children:[a.id]}),o=await this.getSpaceNode(r.id);return await this.updateNode(o.id,{children:[...o.children||[],i.id]}),i};this.createDailyNode=async t=>{let{spaceId:r=""}=t,n=await this.getNodeByDate(r,t.date);if(n)return n;let a=await this.getDailyRootNode(r),i=await this.createNode(ut({spaceId:r})),o=await this.createNode({...Ve({spaceId:t.spaceId,type:"DAILY"}),...t,parentId:a.id,collapsed:!0,children:[i.id]});await this.updateNode(i.id,{parentId:o.id});let s=[...a.children||[],o.id];return await this.updateNode(a.id,{children:s}),o};this.getOrCreateTodayNode=async t=>{let r=await this.getNodeByDate(t);return r||(r=await this.createDailyNode({spaceId:t,date:Rn(new Date)})),r}}},Br=new fl(ot.node);var pl=class{constructor(t,r){this.penx=t;this.node=r;this.getDatabaseRootNode=async t=>await this.penx.node.where({type:"DATABASE_ROOT",spaceId:t}).first();this.listDatabases=async()=>await this.penx.node.where({type:"DATABASE"}).toArray();this.listDatabaseBySpace=async t=>await this.penx.node.where({type:"DATABASE",spaceId:t}).toArray();this.createDatabase=async({spaceId:t,name:r,columnSchema:n=[],shouldInitCells:a=!1})=>{let i=await this.getDatabaseByName(t,r);if(i)return i;let o=await this.getDatabaseRootNode(t),s=await this.node.createNode({parentId:o.id,spaceId:t,type:"DATABASE",props:{color:ln(),name:r,activeViewId:"",viewIds:[]}});await this.node.updateNode(o.id,{children:[...o.children||[],s.id]});let u=await this.initColumns(t,s.id,r,n),l=u.map(f=>({columnId:f.id,width:160,visible:!0})),c=await this.node.createNode({spaceId:t,databaseId:s.id,parentId:s.id,type:"VIEW",children:u.map(f=>f.id),props:{name:"Table",viewType:"TABLE",viewColumns:l,sorts:[],filters:[],groups:[],kanbanColumnId:"",kanbanOptionIds:[]}}),d=await this.node.createNode({spaceId:t,databaseId:s.id,parentId:s.id,type:"VIEW",children:u.map(f=>f.id),props:{name:"List",viewType:"LIST",viewColumns:l,sorts:[],filters:[],groups:[],kanbanColumnId:"",kanbanOptionIds:[]}});if(await this.node.updateNode(s.id,{props:{...s.props,activeViewId:c.id,viewIds:[c.id,d.id]}}),a){let f=await this.initRows(t,s.id);await this.initCells(t,s.id,u,f)}return s};this.initColumnsBySchema=async(t,r,n)=>{let a=[];for(let i of n){let o=await this.node.createNode({spaceId:t,parentId:r,databaseId:r,type:"COLUMN",props:i});a.push(o)}return a};this.initColumns=async(t,r,n="",a)=>{if(a.length)return this.initColumnsBySchema(t,r,a);let i=n===yr,o=n===vr,s=await this.node.createNode({spaceId:t,parentId:r,databaseId:r,type:"COLUMN",props:{displayName:"Name",fieldName:me(),description:"",fieldType:"TEXT",isPrimary:!0,config:{}}});if(i){let l=await this.node.createNode({spaceId:t,databaseId:r,parentId:r,type:"COLUMN",props:{displayName:"Source",fieldName:me(),description:"",fieldType:"TODO_SOURCE",isPrimary:!1,config:{}}});return[s,l]}if(o){let l=await this.node.createNode({spaceId:t,databaseId:r,parentId:r,type:"COLUMN",props:{displayName:"File",fieldName:me(),description:"",fieldType:"FILE",isPrimary:!1,config:{}}});return[s,l]}let u=await this.node.createNode({spaceId:t,databaseId:r,parentId:r,type:"COLUMN",props:{displayName:"Type",fieldName:me(),description:"",fieldType:"SINGLE_SELECT",isPrimary:!1,config:{}}});return[s,u]};this.initRows=async(t,r)=>Promise.all([this.node.createNode({spaceId:t,databaseId:r,parentId:r,type:"ROW",props:{sort:1}}),this.node.createNode({spaceId:t,parentId:r,type:"ROW",databaseId:r,props:{sort:2}})]);this.initCells=async(t,r,n,a)=>{let i=a.reduce((o,s)=>{let u=n.map(l=>({spaceId:t,databaseId:r,parentId:r,type:"CELL",props:{columnId:l.id,rowId:s.id,data:""}}));return[...o,...u]},[]);for(let o of i)await this.node.createNode(o)};this.getDatabase=async t=>{let r=await this.node.getNode(t),n=r.spaceId,a=await this.penx.node.where({type:"COLUMN",spaceId:n,databaseId:t}).toArray(),i=await this.penx.node.where({type:"ROW",spaceId:n,databaseId:t}).toArray(),o=await this.penx.node.where({type:"VIEW",spaceId:n,databaseId:t}).toArray(),s=await this.penx.node.where({type:"CELL",spaceId:n,databaseId:t}).toArray(),u=await this.penx.node.where({type:"OPTION",databaseId:t}).toArray();return{database:r,views:o,columns:a,rows:i,cells:s,options:u}};this.updateDatabaseProps=async(t,r)=>{let n=await this.node.getNode(t);await this.node.updateNode(t,{props:{...n.props,...r}})};this.getDatabaseByName=async(t,r)=>(await this.penx.node.where({type:"DATABASE",spaceId:t}).toArray()).find(i=>i.props.name===r);this.getColumnByFieldName=async(t,r)=>(await this.penx.node.where({databaseId:t,type:"COLUMN"}).toArray()).find(a=>a.props.fieldName===r);this.addView=async(t,r)=>{let n=await this.node.getNode(t),a=n.spaceId,i=await this.penx.node.where({type:"COLUMN",spaceId:a,databaseId:t}).toArray(),o=i.map(c=>({columnId:c.id,width:160,visible:!0})),s="",u=[];if(r==="KANBAN"){let c=i.find(d=>d.props.fieldType==="SINGLE_SELECT");c?u=(await this.penx.node.where({type:"OPTION",databaseId:n.id}).toArray()).filter(f=>f.props.columnId===c.id).map(f=>f.id):c=await this.addColumn(t,"SINGLE_SELECT"),s=c.id}let l=await this.node.createNode({spaceId:n.spaceId,databaseId:n.id,parentId:n.id,type:"VIEW",children:i.map(c=>c.id),props:{name:r.toLowerCase(),viewType:r,viewColumns:o,sorts:[],filters:[],groups:[],kanbanColumnId:s,kanbanOptionIds:u}});return await this.node.updateNode(n.id,{props:{...n.props,activeViewId:l.id,viewIds:[...n.props.viewIds||[],l.id]}}),l};this.addColumn=async(t,r)=>{let n={TEXT:"Text",NUMBER:"Number",URL:"URL",PASSWORD:"Password",SINGLE_SELECT:"Single Select",MULTIPLE_SELECT:"Multiple Select",RATE:"Rate",MARKDOWN:"Markdown",DATE:"Date",CREATED_AT:"Created At",UPDATED_AT:"Updated At"},i=(await this.node.getNode(t)).spaceId,o=await this.node.createNode({spaceId:i,databaseId:t,parentId:t,type:"COLUMN",props:{displayName:n[r]||"",fieldName:me(),description:"",fieldType:r,isPrimary:!1,config:{}}}),s=await this.penx.node.where({type:"VIEW",spaceId:i,databaseId:t}).toArray();for(let l of s)await this.penx.node.update(l.id,{props:{...l.props,viewColumns:[...l.props.viewColumns,{columnId:o.id,width:160,visible:!0}]}});let u=await this.penx.node.where({type:"ROW",spaceId:i,databaseId:t}).toArray();for(let l of u)await this.node.createNode({spaceId:i,databaseId:t,parentId:t,type:"CELL",props:{columnId:o.id,rowId:l.id,ref:"",data:""}});return o};this.checkRowsSortNormal=(t=[])=>t.length?!(!Reflect.has(t[0].props,"sort")||!t.map(n=>n.props.sort).sort().every((n,a)=>n===a+1)):!0;this.fixRowsSort=async(t=[])=>{let r=1,n=t.sort((a,i)=>a.props.sort-i.props.sort);for(let a of n)await this.node.updateNode(a.id,{props:{...a.props,sort:r}}),r++};this.addRow=async t=>{let{databaseId:r,ref:n}=t,i=(await this.node.getNode(r)).spaceId,o=await this.penx.node.where({type:"ROW",spaceId:i,databaseId:r}).toArray();this.checkRowsSortNormal(o)||await this.fixRowsSort(o);let u=await this.node.createNode({spaceId:i,databaseId:r,parentId:r,type:"ROW",props:{sort:o.length+1}}),c=(await this.penx.node.where({type:"VIEW",spaceId:i,databaseId:r}).toArray()).find(g=>g.props.viewType==="TABLE"),d=await this.penx.node.where({type:"COLUMN",spaceId:i,databaseId:r}).toArray(),p=c.props.viewColumns.map(({columnId:g})=>d.find(y=>y.id===g)).map((g,h)=>{let y={columnId:g.id,rowId:u.id,ref:h===0&&n?n:"",data:""};return t.type==="file"&&h===1&&(y.data={},y.data.fileHash=t.fileHash,y.data.googleDriveFileId=t.googleDriveFileId),t.type==="todo"&&h===1&&(y.data={},y.data.isTodoSource=!0,y.data.sourceId=t.sourceId),this.node.createNode({spaceId:i,databaseId:r,parentId:r,type:"CELL",props:y})});await Promise.all(p)};this.addRowByFieldName=async({databaseId:t,...r})=>{let a=(await this.node.getNode(t)).spaceId,i=await this.penx.node.where({type:"ROW",spaceId:a,databaseId:t}).toArray(),o=await this.node.createNode({spaceId:a,databaseId:t,parentId:t,type:"ROW",props:{sort:i.length+1}}),s=await this.penx.node.where({type:"COLUMN",spaceId:a,databaseId:t}).toArray(),u={};for(let c of s)if(c.props.fieldType==="MULTIPLE_SELECT"||c.props.fieldType==="SINGLE_SELECT"){let d=r[c.props.fieldName],f=JSON.stringify(d);if(Array.isArray(d)){let p=d.map(h=>this.addOption(t,c.id,h)),g=await Promise.all(p);u[f]=g.map(h=>h.id)}else{let p=await this.addOption(t,c.id,d);u[f]=[p.id]}}let l=s.map((c,d)=>{let f=r[c.props.fieldName];if(c.props.fieldType==="MULTIPLE_SELECT"||c.props.fieldType==="SINGLE_SELECT"){let p=JSON.stringify(f);f=u[p]}return this.node.createNode({spaceId:a,databaseId:t,parentId:t,type:"CELL",props:{columnId:c.id,rowId:o.id,ref:"",data:f}})});await Promise.all(l)};this.createTodoRow=async(t,r,n)=>{let i=(await this.penx.node.where({type:"DATABASE",spaceId:t}).toArray()).find(u=>u.props.name===yr);i||(i=await this.createDatabase({spaceId:t,name:yr})),(await this.penx.node.where({type:"CELL",spaceId:t,databaseId:i.id}).toArray()).find(u=>u.props.ref===r)||await this.addRow({databaseId:i.id,ref:r,type:"todo",sourceId:n})};this.createFileRow=async t=>{let{spaceId:r,ref:n,fileHash:a,googleDriveFileId:i}=t,s=(await this.penx.node.where({type:"DATABASE",spaceId:r}).toArray()).find(c=>c.props.name===vr);s||(s=await this.createDatabase({spaceId:r,name:vr}));let u=await this.penx.node.where({type:"CELL",spaceId:r,databaseId:s.id}).toArray(),l=u.find(c=>c.props.ref===n);if(!l)await this.addRow({databaseId:s.id,ref:n,type:"file",fileHash:a,googleDriveFileId:i});else{let c=u.find(d=>{if(d.props.rowId===l.props.rowId&&typeof d.props.data=="object")return Reflect.has(d.props.data,"googleDriveFileId")});c&&await this.node.updateNode(c.id,{props:{...c.props,data:{fileHash:a,googleDriveFileId:i}}})}};this.createTagRow=async(t,r,n="")=>{let a=Lc(r),o=(await this.penx.node.where({type:"DATABASE",spaceId:t}).toArray()).find(l=>l.props.name===a);if(!o)return;(await this.penx.node.where({type:"CELL",spaceId:t,databaseId:o.id}).toArray()).find(l=>l.props.ref===n)||await this.addRow({databaseId:o.id,ref:n})};this.deleteRow=async(t,r,n=!0)=>{let a=await this.penx.node.where({type:"CELL",databaseId:t}).toArray(),i=[];if(i.push(this.penx.node.delete(r)),n){let s=a.find(u=>!!u.props.ref&&u.props.rowId===r);if(s){let u=s.props.ref;i.push(this.penx.node.delete(u))}}for(let s of a)s.props.rowId===r&&i.push(this.penx.node.delete(s.id));await Promise.all(i);let o=await this.penx.node.where({type:"ROW",databaseId:t}).toArray();await this.fixRowsSort(o)};this.updateCell=async(t,r)=>{let n=await this.node.getNode(t),a=await this.node.updateNode(t,{...r,updatedAt:new Date});return await this.node.updateNode(n.props.rowId,{updatedAt:new Date}),a};this.deleteColumn=async(t,r)=>{let n=await this.penx.node.where({type:"CELL",databaseId:t}).toArray();for(let i of n)i.props.columnId===r&&await this.node.deleteNode(i.id);let a=await this.penx.node.where({type:"VIEW",databaseId:t}).toArray();for(let i of a)await this.node.updateNode(i.id,{props:{...i.props,viewColumns:i.props.viewColumns.filter(({columnId:o})=>o!==r)}});await this.node.deleteNode(r)};this.updateColumnName=async(t,r)=>{let n=await this.node.getNode(t);await this.node.updateNode(t,{props:{...n.props,displayName:r}})};this.updateColumnWidth=async(t,r,n)=>{await this.updateViewColumn(t,r,{width:n})};this.deleteView=async(t,r)=>{let n=await this.node.getNode(t);await this.node.deleteNode(r),await this.node.updateNode(n.id,{props:{...n.props,viewIds:n.props?.viewIds.filter(a=>a!==r)}})};this.updateView=async(t,r)=>{let n=await this.node.getNode(t);await this.node.updateNode(t,{props:{...n.props,...r}})};this.updateViewColumn=async(t,r,n)=>{let a=await this.node.getNode(t),{viewColumns:i=[]}=a.props,o=i.findIndex(s=>s.columnId===r);i[o]={...i[o],...n},await this.node.updateNode(t,{props:{...a.props,viewColumns:i}})};this.addSort=async(t,r,n)=>{let a=await this.node.getNode(t);await this.node.updateNode(t,{props:{...a.props,sorts:[...a.props.sorts||[],{isAscending:!0,columnId:r,...n}]}})};this.deleteSort=async(t,r)=>{let n=await this.node.getNode(t);await this.node.updateNode(t,{props:{...n.props,sorts:n.props.sorts?.filter(a=>a.columnId!==r)}})};this.addGroup=async(t,r,n)=>{let a=await this.node.getNode(t);await this.node.updateNode(t,{props:{...a.props,groups:[...a.props.groups||[],{showEmptyGroup:!1,isAscending:!0,columnId:r,...n}]}})};this.deleteGroup=async(t,r)=>{let n=await this.node.getNode(t);await this.node.updateNode(t,{props:{...n.props,groups:n.props.groups?.filter(a=>a.columnId!==r)}})};this.addFilter=async(t,r,n)=>{let a=await this.node.getNode(t);await this.node.updateNode(t,{props:{...a.props,filters:[...a.props.filters||[],{...n,columnId:r,conjunction:"AND"}]}})};this.updateFilter=async(t,r,n,a)=>{let i=await this.node.getNode(t),o=i.props.filters,s=o.findIndex(u=>u.columnId===r);s>=0&&(o[s]={...o[s],columnId:n,...a}),await this.node.updateNode(t,{props:{...i.props,filters:o}})};this.deleteFilter=async(t,r)=>{let n=await this.node.getNode(t);await this.node.updateNode(t,{props:{...n.props,filters:n.props.filters?.filter(a=>a.columnId!==r)}})};this.applyFilter=async(t,r)=>{let n=await this.node.getNode(t);await this.node.updateNode(t,{props:{...n.props,filters:r}})};this.addOption=async(t,r,n)=>{let i=(await this.node.getNode(t)).spaceId,s=(await this.penx.node.where({databaseId:t,type:"OPTION"}).toArray()).find(c=>c.props.name===n);if(s)return s;let u=await this.node.createNode({spaceId:i,databaseId:t,parentId:t,type:"OPTION",props:{columnId:r,name:n,color:ln()}}),l=await this.node.getNode(r);return await this.node.updateNode(r,{props:{...l.props,optionIds:[...l.props.optionIds||[],u.id]}}),u};this.updateColumnOptions=async(t,r)=>{let n=await this.node.getNode(t),a=n.props.optionIds||[],i=r.map(s=>s.id),o=a.filter(s=>!i.includes(s));for(let s of o){await this.node.updateNode(n.id,{props:{...n.props,optionIds:i}});let u=await this.penx.node.where({type:"CELL",databaseId:n.databaseId}).toArray();for(let l of u)Array.isArray(l.props.data)&&l.props.data.includes(s)&&await this.node.updateNode(l.id,{props:{...l.props,data:l.props.data.filter(c=>c!==c)}})}for(let{id:s,...u}of r){let l=await this.node.getNode(s);await this.node.updateNode(s,{props:{...l.props,...u}})}};this.deleteCellOption=async(t,r)=>{let n=await this.node.getNode(t),a=Array.isArray(n.props.data)?n.props.data:[];await this.node.updateNode(n.id,{props:{...n.props,data:a.filter(i=>i!==r)}})};this.moveColumn=async(t,r,n,a)=>{let o=(await this.penx.node.where({type:"VIEW",databaseId:t}).toArray()).find(u=>u.id===r),s=await this.penx.node.where({type:"COLUMN",databaseId:t}).toArray();!s[n]||!s[a]||await this.node.updateNode(o.id,{props:{...o.props,viewColumns:Nc(o.props.viewColumns,n,a)}})};this.deleteDatabase=async t=>{let r=await this.penx.node.where({databaseId:t.id}).delete();console.log("===========deleteCount:",r),await this.node.deleteNode(t.id);let n=await this.getDatabaseRootNode(t.spaceId);await this.node.updateNode(n.id,{children:n.children?.filter(a=>a!==t.id)})}}},fi=new pl(ot,Br);function fh(e){return new Promise((t,r)=>{e.oncomplete=e.onsuccess=()=>t(e.result),e.onabort=e.onerror=()=>r(e.error)})}function k0(e,t){let r=indexedDB.open(e);r.onupgradeneeded=()=>r.result.createObjectStore(t);let n=fh(r);return(a,i)=>n.then(o=>i(o.transaction(t,a).objectStore(t)))}var hl;function D0(){return hl||(hl=k0("keyval-store","keyval")),hl}function ph(e,t=D0()){return t("readonly",r=>fh(r.get(e)))}async function hh(){try{return await ph(Dc)}catch(e){console.log("error1",e);return}}function ml(e){return{id:me(),userId:"",editorMode:"OUTLINER",name:"My Space",sort:1,color:ln(),activeNodeIds:[],nodeSnapshot:{version:0,nodeMap:{}},pageSnapshot:{version:0,pageMap:{}},createdAt:new Date,updatedAt:new Date,...e}}var gl=class{constructor(t,r,n){this.penx=t;this.node=r;this.database=n;this.getLastUpdatedAt=async t=>{let r=await this.node.listNodesBySpaceId(t);return r.length?Math.max(...r.map(a=>new Date(a.updatedAt).getTime())):0};this.initSpaceNodes=async t=>{let r=t.id;await this.penx.node.add(ut({spaceId:r,type:"ROOT"},t.name)),await this.node.createInboxNode(t.id),await this.penx.node.add(Ve({spaceId:r,type:"TRASH"})),await this.penx.node.add(Ve({spaceId:r,type:"FAVORITE"})),await this.penx.node.add(Ve({spaceId:r,type:"DATABASE_ROOT"}));let n=await this.node.createNode(Ve({spaceId:r,type:"DAILY_ROOT"})),a=await this.node.createDailyNode(Ve({parentId:n.id,spaceId:r,type:"DAILY",date:Rn(new Date)}));await this.updateSpace(r,{activeNodeIds:[a.id]}),await this.database.createDatabase({spaceId:r,name:yr}),await this.database.createDatabase({spaceId:r,name:vr})};this.createSpace=async(t,r=!0)=>{let n=ml(t),a=await this.penx.space.add(n),i=await this.penx.space.get(a);return r&&await this.initSpaceNodes(i),i};this.createLocalSpace=async()=>{let t=await this.penx.space.where({userId:sa}).first();if(t)return t;let r=ml({userId:sa,name:"Local Space"}),n=await this.penx.space.add(r),a=await this.penx.space.get(n);return await this.initSpaceNodes(a),a};this.listLocalSpaces=async()=>await this.penx.space.where({userId:sa}).toArray()||[];this.listSpaces=async(t,r)=>{let n=[],a=r??await hh();if(a){let o=t??a?.userId,s=await this.penx.space.where({userId:o}).toArray();n.push(...s)}let i=await this.listLocalSpaces();return n.push(...i),n};this.getSpace=t=>this.penx.space.get(t);this.updateSpace=(t,r)=>this.penx.space.update(t,r);this.deleteSpace=async t=>{let r=await this.node.listNodesBySpaceId(t);for(let n of r)await this.penx.node.delete(n.id);await this.penx.space.delete(t)}}},mh=new gl(ot,Br,fi);var yl={...ot,...fi,...Br,...mh,penx:ot};function gh(e){return{all:e=e||new Map,on:function(t,r){var n=e.get(t);n?n.push(r):e.set(t,[r])},off:function(t,r){var n=e.get(t);n&&(r?n.splice(n.indexOf(r)>>>0,1):e.set(t,[]))},emit:function(t,r){var n=e.get(t);n&&n.slice().map(function(a){a(r)}),(n=e.get("*"))&&n.slice().map(function(a){a(t,r)})}}}var rR=gh();async function M0(){let e=new kn({isLoading:!0,items:[]}).run();await yh(e)}async function yh(e){let r=(await yl.listCreations()).filter(n=>n.isDeveloping).map((n,a)=>({icon:n.icon||a+1,title:n.title,subtitle:n.location,actions:[{type:"CopyToClipboard",title:"Copy Path to Clipboard",content:n.location||""},{type:"CustomAction",title:"Show in Folder",icon:{name:"lucide--folder"},onSelect:()=>{As.open(n.location||"")}},{type:"PublishCreation",icon:{name:"lucide--rocket"},title:"Publish Creation",location:n.location},{type:"CustomAction",icon:{name:"lucide--trash"},title:"Uninstall Developing Creation",onSelect:async()=>{await yl.deleteCreation(n.id),await yh(e)}}]}));e.setState({items:r})}M0();})();
/*! Bundled license information:

react/cjs/react.production.min.js:
  (**
   * @license React
   * react.production.min.js
   *
   * Copyright (c) Facebook, Inc. and its affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)

react-is/cjs/react-is.production.min.js:
  (** @license React v16.13.1
   * react-is.production.min.js
   *
   * Copyright (c) Facebook, Inc. and its affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)

@huakunshen/comlink/dist/esm/comlink.mjs:
  (**
   * @license
   * Copyright 2019 Google LLC
   * SPDX-License-Identifier: Apache-2.0
   *)
*/

"undefined"!=typeof document&&document.addEventListener("keydown",e=>{"Escape"!==e.key||window.$__IS_ACTION_OPEN__||window.parent.postMessage({type:"escape"},"*")});
