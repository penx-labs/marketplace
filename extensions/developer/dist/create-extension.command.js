"use strict";(()=>{var Th=Object.create;var ml=Object.defineProperty;var Oh=Object.getOwnPropertyDescriptor;var Ch=Object.getOwnPropertyNames;var Nh=Object.getPrototypeOf,Rh=Object.prototype.hasOwnProperty;var Ct=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var kh=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let a of Ch(t))!Rh.call(e,a)&&a!==r&&ml(e,a,{get:()=>t[a],enumerable:!(n=Oh(t,a))||n.enumerable});return e};var Nt=(e,t,r)=>(r=e!=null?Th(Nh(e)):{},kh(t||!e||!e.__esModule?ml(r,"default",{value:e,enumerable:!0}):r,e));var nd=Ct($=>{"use strict";var rn=Symbol.for("react.element"),ey=Symbol.for("react.portal"),ty=Symbol.for("react.fragment"),ry=Symbol.for("react.strict_mode"),ny=Symbol.for("react.profiler"),ay=Symbol.for("react.provider"),iy=Symbol.for("react.context"),oy=Symbol.for("react.forward_ref"),sy=Symbol.for("react.suspense"),uy=Symbol.for("react.memo"),ly=Symbol.for("react.lazy"),zc=Symbol.iterator;function cy(e){return e===null||typeof e!="object"?null:(e=zc&&e[zc]||e["@@iterator"],typeof e=="function"?e:null)}var Zc={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Kc=Object.assign,Xc={};function wr(e,t,r){this.props=e,this.context=t,this.refs=Xc,this.updater=r||Zc}wr.prototype.isReactComponent={};wr.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};wr.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Qc(){}Qc.prototype=wr.prototype;function Es(e,t,r){this.props=e,this.context=t,this.refs=Xc,this.updater=r||Zc}var Is=Es.prototype=new Qc;Is.constructor=Es;Kc(Is,wr.prototype);Is.isPureReactComponent=!0;var Gc=Array.isArray,Jc=Object.prototype.hasOwnProperty,Ts={current:null},ed={key:!0,ref:!0,__self:!0,__source:!0};function td(e,t,r){var n,a={},i=null,o=null;if(t!=null)for(n in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)Jc.call(t,n)&&!ed.hasOwnProperty(n)&&(a[n]=t[n]);var s=arguments.length-2;if(s===1)a.children=r;else if(1<s){for(var u=Array(s),l=0;l<s;l++)u[l]=arguments[l+2];a.children=u}if(e&&e.defaultProps)for(n in s=e.defaultProps,s)a[n]===void 0&&(a[n]=s[n]);return{$$typeof:rn,type:e,key:i,ref:o,props:a,_owner:Ts.current}}function dy(e,t){return{$$typeof:rn,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Os(e){return typeof e=="object"&&e!==null&&e.$$typeof===rn}function fy(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var qc=/\/+/g;function Ss(e,t){return typeof e=="object"&&e!==null&&e.key!=null?fy(""+e.key):t.toString(36)}function Qa(e,t,r,n,a){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case rn:case ey:o=!0}}if(o)return o=e,a=a(o),e=n===""?"."+Ss(o,0):n,Gc(a)?(r="",e!=null&&(r=e.replace(qc,"$&/")+"/"),Qa(a,t,r,"",function(l){return l})):a!=null&&(Os(a)&&(a=dy(a,r+(!a.key||o&&o.key===a.key?"":(""+a.key).replace(qc,"$&/")+"/")+e)),t.push(a)),1;if(o=0,n=n===""?".":n+":",Gc(e))for(var s=0;s<e.length;s++){i=e[s];var u=n+Ss(i,s);o+=Qa(i,t,r,u,a)}else if(u=cy(e),typeof u=="function")for(e=u.call(e),s=0;!(i=e.next()).done;)i=i.value,u=n+Ss(i,s++),o+=Qa(i,t,r,u,a);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Xa(e,t,r){if(e==null)return e;var n=[],a=0;return Qa(e,n,"","",function(i){return t.call(r,i,a++)}),n}function py(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var be={current:null},Ja={transition:null},hy={ReactCurrentDispatcher:be,ReactCurrentBatchConfig:Ja,ReactCurrentOwner:Ts};function rd(){throw Error("act(...) is not supported in production builds of React.")}$.Children={map:Xa,forEach:function(e,t,r){Xa(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return Xa(e,function(){t++}),t},toArray:function(e){return Xa(e,function(t){return t})||[]},only:function(e){if(!Os(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};$.Component=wr;$.Fragment=ty;$.Profiler=ny;$.PureComponent=Es;$.StrictMode=ry;$.Suspense=sy;$.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=hy;$.act=rd;$.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=Kc({},e.props),a=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=Ts.current),t.key!==void 0&&(a=""+t.key),e.type&&e.type.defaultProps)var s=e.type.defaultProps;for(u in t)Jc.call(t,u)&&!ed.hasOwnProperty(u)&&(n[u]=t[u]===void 0&&s!==void 0?s[u]:t[u])}var u=arguments.length-2;if(u===1)n.children=r;else if(1<u){s=Array(u);for(var l=0;l<u;l++)s[l]=arguments[l+2];n.children=s}return{$$typeof:rn,type:e.type,key:a,ref:i,props:n,_owner:o}};$.createContext=function(e){return e={$$typeof:iy,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:ay,_context:e},e.Consumer=e};$.createElement=td;$.createFactory=function(e){var t=td.bind(null,e);return t.type=e,t};$.createRef=function(){return{current:null}};$.forwardRef=function(e){return{$$typeof:oy,render:e}};$.isValidElement=Os;$.lazy=function(e){return{$$typeof:ly,_payload:{_status:-1,_result:e},_init:py}};$.memo=function(e,t){return{$$typeof:uy,type:e,compare:t===void 0?null:t}};$.startTransition=function(e){var t=Ja.transition;Ja.transition={};try{e()}finally{Ja.transition=t}};$.unstable_act=rd;$.useCallback=function(e,t){return be.current.useCallback(e,t)};$.useContext=function(e){return be.current.useContext(e)};$.useDebugValue=function(){};$.useDeferredValue=function(e){return be.current.useDeferredValue(e)};$.useEffect=function(e,t){return be.current.useEffect(e,t)};$.useId=function(){return be.current.useId()};$.useImperativeHandle=function(e,t,r){return be.current.useImperativeHandle(e,t,r)};$.useInsertionEffect=function(e,t){return be.current.useInsertionEffect(e,t)};$.useLayoutEffect=function(e,t){return be.current.useLayoutEffect(e,t)};$.useMemo=function(e,t){return be.current.useMemo(e,t)};$.useReducer=function(e,t,r){return be.current.useReducer(e,t,r)};$.useRef=function(e){return be.current.useRef(e)};$.useState=function(e){return be.current.useState(e)};$.useSyncExternalStore=function(e,t,r){return be.current.useSyncExternalStore(e,t,r)};$.useTransition=function(){return be.current.useTransition()};$.version="18.3.1"});var Cs=Ct((cE,ad)=>{"use strict";ad.exports=nd()});var ud=Ct((dE,sd)=>{"use strict";var my=function(t){return gy(t)&&!yy(t)};function gy(e){return!!e&&typeof e=="object"}function yy(e){var t=Object.prototype.toString.call(e);return t==="[object RegExp]"||t==="[object Date]"||wy(e)}var vy=typeof Symbol=="function"&&Symbol.for,by=vy?Symbol.for("react.element"):60103;function wy(e){return e.$$typeof===by}function xy(e){return Array.isArray(e)?[]:{}}function nn(e,t){return t.clone!==!1&&t.isMergeableObject(e)?xr(xy(e),e,t):e}function _y(e,t,r){return e.concat(t).map(function(n){return nn(n,r)})}function Ay(e,t){if(!t.customMerge)return xr;var r=t.customMerge(e);return typeof r=="function"?r:xr}function Sy(e){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(e).filter(function(t){return Object.propertyIsEnumerable.call(e,t)}):[]}function id(e){return Object.keys(e).concat(Sy(e))}function od(e,t){try{return t in e}catch{return!1}}function Ey(e,t){return od(e,t)&&!(Object.hasOwnProperty.call(e,t)&&Object.propertyIsEnumerable.call(e,t))}function Iy(e,t,r){var n={};return r.isMergeableObject(e)&&id(e).forEach(function(a){n[a]=nn(e[a],r)}),id(t).forEach(function(a){Ey(e,a)||(od(e,a)&&r.isMergeableObject(t[a])?n[a]=Ay(a,r)(e[a],t[a],r):n[a]=nn(t[a],r))}),n}function xr(e,t,r){r=r||{},r.arrayMerge=r.arrayMerge||_y,r.isMergeableObject=r.isMergeableObject||my,r.cloneUnlessOtherwiseSpecified=nn;var n=Array.isArray(t),a=Array.isArray(e),i=n===a;return i?n?r.arrayMerge(e,t,r):Iy(e,t,r):nn(t,r)}xr.all=function(t,r){if(!Array.isArray(t))throw new Error("first argument should be an array");return t.reduce(function(n,a){return xr(n,a,r)},{})};var Ty=xr;sd.exports=Ty});var ei=Ct((fE,ld)=>{"use strict";function Oy(e){for(var t=5381,r=e.length;r;)t=t*33^e.charCodeAt(--r);return t>>>0}ld.exports=Oy});var sp=Ct(G=>{"use strict";var de=typeof Symbol=="function"&&Symbol.for,Ks=de?Symbol.for("react.element"):60103,Xs=de?Symbol.for("react.portal"):60106,gi=de?Symbol.for("react.fragment"):60107,yi=de?Symbol.for("react.strict_mode"):60108,vi=de?Symbol.for("react.profiler"):60114,bi=de?Symbol.for("react.provider"):60109,wi=de?Symbol.for("react.context"):60110,Qs=de?Symbol.for("react.async_mode"):60111,xi=de?Symbol.for("react.concurrent_mode"):60111,_i=de?Symbol.for("react.forward_ref"):60112,Ai=de?Symbol.for("react.suspense"):60113,fw=de?Symbol.for("react.suspense_list"):60120,Si=de?Symbol.for("react.memo"):60115,Ei=de?Symbol.for("react.lazy"):60116,pw=de?Symbol.for("react.block"):60121,hw=de?Symbol.for("react.fundamental"):60117,mw=de?Symbol.for("react.responder"):60118,gw=de?Symbol.for("react.scope"):60119;function Ce(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case Ks:switch(e=e.type,e){case Qs:case xi:case gi:case vi:case yi:case Ai:return e;default:switch(e=e&&e.$$typeof,e){case wi:case _i:case Ei:case Si:case bi:return e;default:return t}}case Xs:return t}}}function op(e){return Ce(e)===xi}G.AsyncMode=Qs;G.ConcurrentMode=xi;G.ContextConsumer=wi;G.ContextProvider=bi;G.Element=Ks;G.ForwardRef=_i;G.Fragment=gi;G.Lazy=Ei;G.Memo=Si;G.Portal=Xs;G.Profiler=vi;G.StrictMode=yi;G.Suspense=Ai;G.isAsyncMode=function(e){return op(e)||Ce(e)===Qs};G.isConcurrentMode=op;G.isContextConsumer=function(e){return Ce(e)===wi};G.isContextProvider=function(e){return Ce(e)===bi};G.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===Ks};G.isForwardRef=function(e){return Ce(e)===_i};G.isFragment=function(e){return Ce(e)===gi};G.isLazy=function(e){return Ce(e)===Ei};G.isMemo=function(e){return Ce(e)===Si};G.isPortal=function(e){return Ce(e)===Xs};G.isProfiler=function(e){return Ce(e)===vi};G.isStrictMode=function(e){return Ce(e)===yi};G.isSuspense=function(e){return Ce(e)===Ai};G.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===gi||e===xi||e===vi||e===yi||e===Ai||e===fw||typeof e=="object"&&e!==null&&(e.$$typeof===Ei||e.$$typeof===Si||e.$$typeof===bi||e.$$typeof===wi||e.$$typeof===_i||e.$$typeof===hw||e.$$typeof===mw||e.$$typeof===gw||e.$$typeof===pw)};G.typeOf=Ce});var lp=Ct((TT,up)=>{"use strict";up.exports=sp()});var gp=Ct((OT,mp)=>{"use strict";var Js=lp(),yw={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},vw={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},bw={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},pp={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},eu={};eu[Js.ForwardRef]=bw;eu[Js.Memo]=pp;function cp(e){return Js.isMemo(e)?pp:eu[e.$$typeof]||yw}var ww=Object.defineProperty,xw=Object.getOwnPropertyNames,dp=Object.getOwnPropertySymbols,_w=Object.getOwnPropertyDescriptor,Aw=Object.getPrototypeOf,fp=Object.prototype;function hp(e,t,r){if(typeof t!="string"){if(fp){var n=Aw(t);n&&n!==fp&&hp(e,n,r)}var a=xw(t);dp&&(a=a.concat(dp(t)));for(var i=cp(e),o=cp(t),s=0;s<a.length;++s){var u=a[s];if(!vw[u]&&!(r&&r[u])&&!(o&&o[u])&&!(i&&i[u])){var l=_w(t,u);try{ww(e,u,l)}catch{}}}}return e}mp.exports=hp});var to;(function(e){e.Render="Render",e.InitOnFilterChange="InitOnFilterChange",e.OnFilterChange="OnFilterChange",e.InitOnSearchChange="InitOnSearchChange",e.OnSearchChange="OnSearchChange"})(to||(to={}));function gl(e){return e.type==="SubmitForm"}function Dh(e){return e.type==="CustomAction"}function Mh(e){return e?.type==="action--on-submit"&&Reflect.has(e,"values")}var Dn=class{constructor(t){this.setState=r=>{this.state={...this.state,...r},this.render()},this.run=()=>(this.render(),self.addEventListener("message",async r=>{if(Mh(r.data)){let n=this.state.actions[r.data.actionIndex];gl(n)&&n.onSubmit(r.data.values)}}),this),this.render=()=>{postMessage({type:to.Render,payload:{type:"form",...this.state,...this.formatState(this.state)}})},this.state={fields:[],isLoading:!1,...t}}formatState(t){let r=t.actions?.map(n=>{if(gl(n)){let{onSubmit:a,...i}=n;return i}if(Dh(n)){let{onSelect:a,...i}=n;return i}return n});return{...this.state,actions:r}}};var vl=Symbol("Comlink.proxy"),Ph=Symbol("Comlink.endpoint"),Lh=Symbol("Comlink.releaseProxy"),ro=Symbol("Comlink.finalizer"),Pn=Symbol("Comlink.thrown"),bl=e=>typeof e=="object"&&e!==null||typeof e=="function",Fh={canHandle:e=>bl(e)&&e[vl],serialize(e){let{port1:t,port2:r}=new MessageChannel;return ao(e,t),[r,[r]]},deserialize(e){return e.start(),jn(e)}},Uh={canHandle:e=>bl(e)&&Pn in e,serialize({value:e}){let t;return e instanceof Error?t={isError:!0,value:{message:e.message,name:e.name,stack:e.stack}}:t={isError:!1,value:e},[t,[]]},deserialize(e){throw e.isError?Object.assign(new Error(e.value.message),e.value):e.value}},wl=new Map([["proxy",Fh],["throw",Uh]]);function jh(e,t){for(let r of e)if(t===r||r==="*"||r instanceof RegExp&&r.test(t))return!0;return!1}function ao(e,t=globalThis,r=["*"]){t.addEventListener("message",function n(a){if(!a||!a.data)return;if(!jh(r,a.origin)){console.warn(`Invalid origin '${a.origin}' for comlink proxy`);return}let{id:i,type:o,path:s}=Object.assign({path:[]},a.data),u=(a.data.argumentList||[]).map(Rt),l;try{let c=s.slice(0,-1).reduce((f,p)=>f[p],e),d=s.reduce((f,p)=>f[p],e);switch(o){case"GET":l=d;break;case"SET":c[s.slice(-1)[0]]=Rt(a.data.value),l=!0;break;case"APPLY":l=d.apply(c,u);break;case"CONSTRUCT":{let f=new d(...u);l=ft(f)}break;case"ENDPOINT":{let{port1:f,port2:p}=new MessageChannel;ao(e,p),l=Hh(f,[f])}break;case"RELEASE":l=void 0;break;default:return}}catch(c){l={value:c,[Pn]:0}}Promise.resolve(l).catch(c=>({value:c,[Pn]:0})).then(c=>{let[d,f]=Un(c);t.postMessage(Object.assign(Object.assign({},d),{id:i}),f),o==="RELEASE"&&(t.removeEventListener("message",n),xl(t),ro in e&&typeof e[ro]=="function"&&e[ro]())}).catch(c=>{let[d,f]=Un({value:new TypeError("Unserializable return value"),[Pn]:0});t.postMessage(Object.assign(Object.assign({},d),{id:i}),f)})}),t.start&&t.start()}function Bh(e){return e.constructor.name==="MessagePort"}function xl(e){Bh(e)&&e.close()}function jn(e,t){return no(e,[],t)}function Mn(e){if(e)throw new Error("Proxy has been released and is not useable")}function _l(e){return or(e,{type:"RELEASE"}).then(()=>{xl(e)})}var Ln=new WeakMap,Fn="FinalizationRegistry"in globalThis&&new FinalizationRegistry(e=>{let t=(Ln.get(e)||0)-1;Ln.set(e,t),t===0&&_l(e)});function Wh(e,t){let r=(Ln.get(t)||0)+1;Ln.set(t,r),Fn&&Fn.register(e,t,e)}function $h(e){Fn&&Fn.unregister(e)}function no(e,t=[],r=function(){}){let n=!1,a=new Proxy(r,{get(i,o){if(Mn(n),o===Lh)return()=>{$h(a),_l(e),n=!0};if(o==="then"){if(t.length===0)return{then:()=>a};let s=or(e,{type:"GET",path:t.map(u=>u.toString())}).then(Rt);return s.then.bind(s)}return no(e,[...t,o])},set(i,o,s){Mn(n);let[u,l]=Un(s);return or(e,{type:"SET",path:[...t,o].map(c=>c.toString()),value:u},l).then(Rt)},apply(i,o,s){Mn(n);let u=t[t.length-1];if(u===Ph)return or(e,{type:"ENDPOINT"}).then(Rt);if(u==="bind")return no(e,t.slice(0,-1));let[l,c]=yl(s);return or(e,{type:"APPLY",path:t.map(d=>d.toString()),argumentList:l},c).then(Rt)},construct(i,o){Mn(n);let[s,u]=yl(o);return or(e,{type:"CONSTRUCT",path:t.map(l=>l.toString()),argumentList:s},u).then(Rt)}});return Wh(a,e),a}function Vh(e){return Array.prototype.concat.apply([],e)}function yl(e){let t=e.map(Un);return[t.map(r=>r[0]),Vh(t.map(r=>r[1]))]}var Al=new WeakMap;function Hh(e,t){return Al.set(e,t),e}function ft(e){return Object.assign(e,{[vl]:!0})}function Sl(e,t=globalThis,r="*"){return{postMessage:(n,a)=>e.postMessage(n,r,a),addEventListener:t.addEventListener.bind(t),removeEventListener:t.removeEventListener.bind(t)}}function Un(e){for(let[t,r]of wl)if(r.canHandle(e)){let[n,a]=r.serialize(e);return[{type:"HANDLER",name:t,value:n},a]}return[{type:"RAW",value:e},Al.get(e)||[]]}function Rt(e){switch(e.type){case"HANDLER":return wl.get(e.name).deserialize(e.value);case"RAW":return e.value}}function or(e,t,r){return new Promise(n=>{let a=Yh();e.addEventListener("message",function i(o){!o.data||!o.data.id||o.data.id!==a||(e.removeEventListener("message",i),n(o.data))}),e.start&&e.start(),e.postMessage(Object.assign({id:a},t),r)})}function Yh(){return new Array(4).fill(0).map(()=>Math.floor(Math.random()*Number.MAX_SAFE_INTEGER).toString(16)).join("-")}function io(e){return jn(Sl(e))}function oo(){return jn(self)}var so=typeof window<"u",El=!so,uo=so&&window!==window.parent,je=!El&&!uo&&window===window.parent,zh=oo(),te=uo?io(window.parent):zh;function Be(e,t,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(e):n?n.value:t.get(e)}function Vr(e,t,r,n,a){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!a)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!a:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?a.call(e,r):a?a.value=r:t.set(e,r),r}var sr,Hr,ur,Bn;function Yr(e,t=!1){return window.__TAURI_INTERNALS__.transformCallback(e,t)}var pt=class{constructor(){this.__TAURI_CHANNEL_MARKER__=!0,sr.set(this,()=>{}),Hr.set(this,0),ur.set(this,{}),this.id=Yr(({message:t,id:r})=>{if(r===Be(this,Hr,"f")){Vr(this,Hr,r+1,"f"),Be(this,sr,"f").call(this,t);let n=Object.keys(Be(this,ur,"f"));if(n.length>0){let a=r+1;for(let i of n.sort())if(parseInt(i)===a){let o=Be(this,ur,"f")[i];delete Be(this,ur,"f")[i],Be(this,sr,"f").call(this,o),a+=1}else break;Vr(this,Hr,a,"f")}}else Be(this,ur,"f")[r.toString()]=t})}set onmessage(t){Vr(this,sr,t,"f")}get onmessage(){return Be(this,sr,"f")}toJSON(){return`__CHANNEL__:${this.id}`}};sr=new WeakMap,Hr=new WeakMap,ur=new WeakMap;var lo=class{constructor(t,r,n){this.plugin=t,this.event=r,this.channelId=n}async unregister(){return x(`plugin:${this.plugin}|remove_listener`,{event:this.event,channelId:this.channelId})}};async function co(e,t,r){let n=new pt;return n.onmessage=r,x(`plugin:${e}|register_listener`,{event:t,handler:n}).then(()=>new lo(e,t,n.id))}async function x(e,t={},r){return window.__TAURI_INTERNALS__.invoke(e,t,r)}var Wn=class{get rid(){return Be(this,Bn,"f")}constructor(t){Bn.set(this,void 0),Vr(this,Bn,t,"f")}async close(){return x("plugin:resources|close",{rid:this.rid})}};Bn=new WeakMap;var $n;(function(e){e.WINDOW_RESIZED="tauri://resize",e.WINDOW_MOVED="tauri://move",e.WINDOW_CLOSE_REQUESTED="tauri://close-requested",e.WINDOW_DESTROYED="tauri://destroyed",e.WINDOW_FOCUS="tauri://focus",e.WINDOW_BLUR="tauri://blur",e.WINDOW_SCALE_FACTOR_CHANGED="tauri://scale-change",e.WINDOW_THEME_CHANGED="tauri://theme-changed",e.WINDOW_CREATED="tauri://window-created",e.WEBVIEW_CREATED="tauri://webview-created",e.DRAG="tauri://drag",e.DROP="tauri://drop",e.DROP_OVER="tauri://drop-over",e.DROP_CANCELLED="tauri://drag-cancelled"})($n||($n={}));async function Il(e,t){await x("plugin:event|unlisten",{event:e,eventId:t})}async function Gh(e,t,r){var n;let a=typeof r?.target=="string"?{kind:"AnyLabel",label:r.target}:(n=r?.target)!==null&&n!==void 0?n:{kind:"Any"};return x("plugin:event|listen",{event:e,target:a,handler:Yr(t)}).then(i=>async()=>Il(e,i))}async function fo(e,t,r){return Gh(e,n=>{t(n),Il(e,n.id).catch(()=>{})},r)}async function po(e,t){await x("plugin:event|emit",{event:e,payload:t})}async function ho(e,t,r){await x("plugin:event|emit_to",{target:typeof e=="string"?{kind:"AnyLabel",label:e}:e,event:t,payload:r})}var K;(function(e){e[e.Audio=1]="Audio",e[e.Cache=2]="Cache",e[e.Config=3]="Config",e[e.Data=4]="Data",e[e.LocalData=5]="LocalData",e[e.Document=6]="Document",e[e.Download=7]="Download",e[e.Picture=8]="Picture",e[e.Public=9]="Public",e[e.Video=10]="Video",e[e.Resource=11]="Resource",e[e.Temp=12]="Temp",e[e.AppConfig=13]="AppConfig",e[e.AppData=14]="AppData",e[e.AppLocalData=15]="AppLocalData",e[e.AppCache=16]="AppCache",e[e.AppLog=17]="AppLog",e[e.Desktop=18]="Desktop",e[e.Executable=19]="Executable",e[e.Font=20]="Font",e[e.Home=21]="Home",e[e.Runtime=22]="Runtime",e[e.Template=23]="Template"})(K||(K={}));async function Vn(){return x("plugin:path|resolve_directory",{directory:K.AppConfig})}async function Hn(){return x("plugin:path|resolve_directory",{directory:K.AppData})}async function Yn(){return x("plugin:path|resolve_directory",{directory:K.AppLocalData})}async function zn(){return x("plugin:path|resolve_directory",{directory:K.AppCache})}async function Gn(){return x("plugin:path|resolve_directory",{directory:K.Audio})}async function qn(){return x("plugin:path|resolve_directory",{directory:K.Cache})}async function Zn(){return x("plugin:path|resolve_directory",{directory:K.Config})}async function Kn(){return x("plugin:path|resolve_directory",{directory:K.Data})}async function Xn(){return x("plugin:path|resolve_directory",{directory:K.Desktop})}async function Qn(){return x("plugin:path|resolve_directory",{directory:K.Document})}async function Jn(){return x("plugin:path|resolve_directory",{directory:K.Download})}async function ea(){return x("plugin:path|resolve_directory",{directory:K.Executable})}async function ta(){return x("plugin:path|resolve_directory",{directory:K.Font})}async function ra(){return x("plugin:path|resolve_directory",{directory:K.Home})}async function na(){return x("plugin:path|resolve_directory",{directory:K.LocalData})}async function aa(){return x("plugin:path|resolve_directory",{directory:K.Picture})}async function ia(){return x("plugin:path|resolve_directory",{directory:K.Public})}async function oa(){return x("plugin:path|resolve_directory",{directory:K.Resource})}async function sa(e){return x("plugin:path|resolve_directory",{directory:K.Resource,path:e})}async function ua(){return x("plugin:path|resolve_directory",{directory:K.Runtime})}async function la(){return x("plugin:path|resolve_directory",{directory:K.Template})}async function ca(){return x("plugin:path|resolve_directory",{directory:K.Video})}async function da(){return x("plugin:path|resolve_directory",{directory:K.AppLog})}async function fa(){return x("plugin:path|resolve_directory",{directory:K.Temp})}function pa(){return window.__TAURI_INTERNALS__.plugins.path.sep}function ha(){return window.__TAURI_INTERNALS__.plugins.path.delimiter}async function ma(...e){return x("plugin:path|resolve",{paths:e})}async function ga(e){return x("plugin:path|normalize",{path:e})}async function ya(...e){return x("plugin:path|join",{paths:e})}async function va(e){return x("plugin:path|dirname",{path:e})}async function ba(e){return x("plugin:path|extname",{path:e})}async function wa(e,t){return x("plugin:path|basename",{path:e,ext:t})}async function xa(e){return x("plugin:path|isAbsolute",{path:e})}async function mo(e={}){return typeof e=="object"&&Object.freeze(e),await x("plugin:dialog|open",{options:e})}async function go(e={}){return typeof e=="object"&&Object.freeze(e),await x("plugin:dialog|save",{options:e})}async function yo(e,t){let r=typeof t=="string"?{title:t}:t;await x("plugin:dialog|message",{message:e.toString(),title:r?.title?.toString(),kind:r?.kind,okButtonLabel:r?.okLabel?.toString()})}async function vo(e,t){let r=typeof t=="string"?{title:t}:t;return await x("plugin:dialog|ask",{message:e.toString(),title:r?.title?.toString(),kind:r?.kind,okButtonLabel:r?.okLabel?.toString()??"Yes",cancelButtonLabel:r?.cancelLabel?.toString()??"No"})}async function bo(e,t){let r=typeof t=="string"?{title:t}:t;return await x("plugin:dialog|confirm",{message:e.toString(),title:r?.title?.toString(),kind:r?.kind,okButtonLabel:r?.okLabel?.toString()??"Ok",cancelButtonLabel:r?.cancelLabel?.toString()??"Cancel"})}var Tl;(function(e){e[e.Start=0]="Start",e[e.Current=1]="Current",e[e.End=2]="End"})(Tl||(Tl={}));function xo(e){return{isFile:e.isFile,isDirectory:e.isDirectory,isSymlink:e.isSymlink,size:e.size,mtime:e.mtime!==null?new Date(e.mtime):null,atime:e.atime!==null?new Date(e.atime):null,birthtime:e.birthtime!==null?new Date(e.birthtime):null,readonly:e.readonly,fileAttributes:e.fileAttributes,dev:e.dev,ino:e.ino,mode:e.mode,nlink:e.nlink,uid:e.uid,gid:e.gid,rdev:e.rdev,blksize:e.blksize,blocks:e.blocks}}var wo=class extends Wn{async read(t){if(t.byteLength===0)return 0;let[r,n]=await x("plugin:fs|read",{rid:this.rid,len:t.byteLength});return t.set(r),n===0?null:n}async seek(t,r){return await x("plugin:fs|seek",{rid:this.rid,offset:t,whence:r})}async stat(){let t=await x("plugin:fs|fstat",{rid:this.rid});return xo(t)}async truncate(t){await x("plugin:fs|ftruncate",{rid:this.rid,len:t})}async write(t){return await x("plugin:fs|write",{rid:this.rid,data:Array.from(t)})}};async function _a(e,t){if(e instanceof URL&&e.protocol!=="file:")throw new TypeError("Must be a file URL.");let r=await x("plugin:fs|create",{path:e instanceof URL?e.toString():e,options:t});return new wo(r)}async function Aa(e,t,r){if(e instanceof URL&&e.protocol!=="file:"||t instanceof URL&&t.protocol!=="file:")throw new TypeError("Must be a file URL.");await x("plugin:fs|copy_file",{fromPath:e instanceof URL?e.toString():e,toPath:t instanceof URL?t.toString():t,options:r})}async function Sa(e,t){if(e instanceof URL&&e.protocol!=="file:")throw new TypeError("Must be a file URL.");await x("plugin:fs|mkdir",{path:e instanceof URL?e.toString():e,options:t})}async function Ea(e,t){if(e instanceof URL&&e.protocol!=="file:")throw new TypeError("Must be a file URL.");return await x("plugin:fs|read_dir",{path:e instanceof URL?e.toString():e,options:t})}async function Ia(e,t){if(e instanceof URL&&e.protocol!=="file:")throw new TypeError("Must be a file URL.");let r=await x("plugin:fs|read_file",{path:e instanceof URL?e.toString():e,options:t});return r instanceof ArrayBuffer?new Uint8Array(r):Uint8Array.from(r)}async function Ta(e,t){if(e instanceof URL&&e.protocol!=="file:")throw new TypeError("Must be a file URL.");return await x("plugin:fs|read_text_file",{path:e instanceof URL?e.toString():e,options:t})}async function Oa(e,t){if(e instanceof URL&&e.protocol!=="file:")throw new TypeError("Must be a file URL.");await x("plugin:fs|remove",{path:e instanceof URL?e.toString():e,options:t})}async function Ca(e,t,r){if(e instanceof URL&&e.protocol!=="file:"||t instanceof URL&&t.protocol!=="file:")throw new TypeError("Must be a file URL.");await x("plugin:fs|rename",{oldPath:e instanceof URL?e.toString():e,newPath:t instanceof URL?t.toString():t,options:r})}async function Na(e,t){let r=await x("plugin:fs|stat",{path:e instanceof URL?e.toString():e,options:t});return xo(r)}async function Ra(e,t){let r=await x("plugin:fs|lstat",{path:e instanceof URL?e.toString():e,options:t});return xo(r)}async function ka(e,t,r){if(e instanceof URL&&e.protocol!=="file:")throw new TypeError("Must be a file URL.");await x("plugin:fs|truncate",{path:e instanceof URL?e.toString():e,len:t,options:r})}async function Da(e,t,r){if(e instanceof URL&&e.protocol!=="file:")throw new TypeError("Must be a file URL.");await x("plugin:fs|write_file",t,{headers:{path:e instanceof URL?e.toString():e,options:JSON.stringify(r)}})}async function Ma(e,t,r){if(e instanceof URL&&e.protocol!=="file:")throw new TypeError("Must be a file URL.");await x("plugin:fs|write_text_file",{path:e instanceof URL?e.toString():e,data:t,options:r})}async function Pa(e,t){if(e instanceof URL&&e.protocol!=="file:")throw new TypeError("Must be a file URL.");return await x("plugin:fs|exists",{path:e instanceof URL?e.toString():e,options:t})}var Ol;(function(e){e.Year="year",e.Month="month",e.TwoWeeks="twoWeeks",e.Week="week",e.Day="day",e.Hour="hour",e.Minute="minute",e.Second="second"})(Ol||(Ol={}));var Cl;(function(e){e[e.None=0]="None",e[e.Min=1]="Min",e[e.Low=2]="Low",e[e.Default=3]="Default",e[e.High=4]="High"})(Cl||(Cl={}));var Nl;(function(e){e[e.Secret=-1]="Secret",e[e.Private=0]="Private",e[e.Public=1]="Public"})(Nl||(Nl={}));async function _o(){return window.Notification.permission!=="default"?await Promise.resolve(window.Notification.permission==="granted"):await x("plugin:notification|is_permission_granted")}async function Ao(){return await window.Notification.requestPermission()}function So(e){typeof e=="string"?new window.Notification(e):new window.Notification(e.title,e)}async function Eo(e){await x("plugin:notification|register_action_types",{types:e})}async function Io(){return await x("plugin:notification|get_pending")}async function To(e){await x("plugin:notification|cancel",{notifications:e})}async function Oo(){await x("plugin:notification|cancel")}async function Co(){return await x("plugin:notification|get_active")}async function No(e){await x("plugin:notification|remove_active",{notifications:e})}async function Ro(){await x("plugin:notification|remove_active")}async function ko(e){await x("plugin:notification|create_channel",{...e})}async function Do(e){await x("plugin:notification|delete_channel",{id:e})}async function Mo(){return await x("plugin:notification|listChannels")}async function Po(e){return await co("notification","notification",e)}async function Lo(e){return await co("notification","actionPerformed",e)}var qh,Zh,Kh,Xh;function Rl(e,t=!1){return window.__TAURI_INTERNALS__.transformCallback(e,t)}qh=new WeakMap,Zh=new WeakMap,Kh=new WeakMap;async function W(e,t={},r){return window.__TAURI_INTERNALS__.invoke(e,t,r)}Xh=new WeakMap;function Fo(){return window.__TAURI_OS_PLUGIN_INTERNALS__.eol}async function Uo(){return await W("plugin:os|platform")}async function jo(){return await W("plugin:os|version")}async function Bo(){return await W("plugin:os|family")}async function Wo(){return await W("plugin:os|arch")}async function $o(){return await W("plugin:os|locale")}async function Vo(){return await W("plugin:os|exe_extension")}async function Ho(){return await W("plugin:os|hostname")}var V;(function(e){e.assertEqual=a=>a;function t(a){}e.assertIs=t;function r(a){throw new Error}e.assertNever=r,e.arrayToEnum=a=>{let i={};for(let o of a)i[o]=o;return i},e.getValidEnumValues=a=>{let i=e.objectKeys(a).filter(s=>typeof a[a[s]]!="number"),o={};for(let s of i)o[s]=a[s];return e.objectValues(o)},e.objectValues=a=>e.objectKeys(a).map(function(i){return a[i]}),e.objectKeys=typeof Object.keys=="function"?a=>Object.keys(a):a=>{let i=[];for(let o in a)Object.prototype.hasOwnProperty.call(a,o)&&i.push(o);return i},e.find=(a,i)=>{for(let o of a)if(i(o))return o},e.isInteger=typeof Number.isInteger=="function"?a=>Number.isInteger(a):a=>typeof a=="number"&&isFinite(a)&&Math.floor(a)===a;function n(a,i=" | "){return a.map(o=>typeof o=="string"?`'${o}'`:o).join(i)}e.joinValues=n,e.jsonStringifyReplacer=(a,i)=>typeof i=="bigint"?i.toString():i})(V||(V={}));var zo;(function(e){e.mergeShapes=(t,r)=>({...t,...r})})(zo||(zo={}));var T=V.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),ht=e=>{switch(typeof e){case"undefined":return T.undefined;case"string":return T.string;case"number":return isNaN(e)?T.nan:T.number;case"boolean":return T.boolean;case"function":return T.function;case"bigint":return T.bigint;case"symbol":return T.symbol;case"object":return Array.isArray(e)?T.array:e===null?T.null:e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?T.promise:typeof Map<"u"&&e instanceof Map?T.map:typeof Set<"u"&&e instanceof Set?T.set:typeof Date<"u"&&e instanceof Date?T.date:T.object;default:return T.unknown}},A=V.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),Qh=e=>JSON.stringify(e,null,2).replace(/"([^"]+)":/g,"$1:"),Te=class e extends Error{constructor(t){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};let r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=t}get errors(){return this.issues}format(t){let r=t||function(i){return i.message},n={_errors:[]},a=i=>{for(let o of i.issues)if(o.code==="invalid_union")o.unionErrors.map(a);else if(o.code==="invalid_return_type")a(o.returnTypeError);else if(o.code==="invalid_arguments")a(o.argumentsError);else if(o.path.length===0)n._errors.push(r(o));else{let s=n,u=0;for(;u<o.path.length;){let l=o.path[u];u===o.path.length-1?(s[l]=s[l]||{_errors:[]},s[l]._errors.push(r(o))):s[l]=s[l]||{_errors:[]},s=s[l],u++}}};return a(this),n}static assert(t){if(!(t instanceof e))throw new Error(`Not a ZodError: ${t}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,V.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=r=>r.message){let r={},n=[];for(let a of this.issues)a.path.length>0?(r[a.path[0]]=r[a.path[0]]||[],r[a.path[0]].push(t(a))):n.push(t(a));return{formErrors:n,fieldErrors:r}}get formErrors(){return this.flatten()}};Te.create=e=>new Te(e);var dr=(e,t)=>{let r;switch(e.code){case A.invalid_type:e.received===T.undefined?r="Required":r=`Expected ${e.expected}, received ${e.received}`;break;case A.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(e.expected,V.jsonStringifyReplacer)}`;break;case A.unrecognized_keys:r=`Unrecognized key(s) in object: ${V.joinValues(e.keys,", ")}`;break;case A.invalid_union:r="Invalid input";break;case A.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${V.joinValues(e.options)}`;break;case A.invalid_enum_value:r=`Invalid enum value. Expected ${V.joinValues(e.options)}, received '${e.received}'`;break;case A.invalid_arguments:r="Invalid function arguments";break;case A.invalid_return_type:r="Invalid function return type";break;case A.invalid_date:r="Invalid date";break;case A.invalid_string:typeof e.validation=="object"?"includes"in e.validation?(r=`Invalid input: must include "${e.validation.includes}"`,typeof e.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?r=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?r=`Invalid input: must end with "${e.validation.endsWith}"`:V.assertNever(e.validation):e.validation!=="regex"?r=`Invalid ${e.validation}`:r="Invalid";break;case A.too_small:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:r="Invalid input";break;case A.too_big:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="bigint"?r=`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:r="Invalid input";break;case A.custom:r="Invalid input";break;case A.invalid_intersection_types:r="Intersection results could not be merged";break;case A.not_multiple_of:r=`Number must be a multiple of ${e.multipleOf}`;break;case A.not_finite:r="Number must be finite";break;default:r=t.defaultError,V.assertNever(e)}return{message:r}},Ml=dr;function Jh(e){Ml=e}function La(){return Ml}var Fa=e=>{let{data:t,path:r,errorMaps:n,issueData:a}=e,i=[...r,...a.path||[]],o={...a,path:i};if(a.message!==void 0)return{...a,path:i,message:a.message};let s="",u=n.filter(l=>!!l).slice().reverse();for(let l of u)s=l(o,{data:t,defaultError:s}).message;return{...a,path:i,message:s}},em=[];function I(e,t){let r=La(),n=Fa({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,r,r===dr?void 0:dr].filter(a=>!!a)});e.common.issues.push(n)}var pe=class e{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,r){let n=[];for(let a of r){if(a.status==="aborted")return L;a.status==="dirty"&&t.dirty(),n.push(a.value)}return{status:t.value,value:n}}static async mergeObjectAsync(t,r){let n=[];for(let a of r){let i=await a.key,o=await a.value;n.push({key:i,value:o})}return e.mergeObjectSync(t,n)}static mergeObjectSync(t,r){let n={};for(let a of r){let{key:i,value:o}=a;if(i.status==="aborted"||o.status==="aborted")return L;i.status==="dirty"&&t.dirty(),o.status==="dirty"&&t.dirty(),i.value!=="__proto__"&&(typeof o.value<"u"||a.alwaysSet)&&(n[i.value]=o.value)}return{status:t.value,value:n}}},L=Object.freeze({status:"aborted"}),cr=e=>({status:"dirty",value:e}),ve=e=>({status:"valid",value:e}),Go=e=>e.status==="aborted",qo=e=>e.status==="dirty",qr=e=>e.status==="valid",Zr=e=>typeof Promise<"u"&&e instanceof Promise;function Ua(e,t,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(e):n?n.value:t.get(e)}function Pl(e,t,r,n,a){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!a)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!a:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?a.call(e,r):a?a.value=r:t.set(e,r),r}var R;(function(e){e.errToObj=t=>typeof t=="string"?{message:t}:t||{},e.toString=t=>typeof t=="string"?t:t?.message})(R||(R={}));var zr,Gr,De=class{constructor(t,r,n,a){this._cachedPath=[],this.parent=t,this.data=r,this._path=n,this._key=a}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}},kl=(e,t)=>{if(qr(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;let r=new Te(e.common.issues);return this._error=r,this._error}}};function j(e){if(!e)return{};let{errorMap:t,invalid_type_error:r,required_error:n,description:a}=e;if(t&&(r||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return t?{errorMap:t,description:a}:{errorMap:(o,s)=>{var u,l;let{message:c}=e;return o.code==="invalid_enum_value"?{message:c??s.defaultError}:typeof s.data>"u"?{message:(u=c??n)!==null&&u!==void 0?u:s.defaultError}:o.code!=="invalid_type"?{message:s.defaultError}:{message:(l=c??r)!==null&&l!==void 0?l:s.defaultError}},description:a}}var B=class{constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(t){return ht(t.data)}_getOrReturnCtx(t,r){return r||{common:t.parent.common,data:t.data,parsedType:ht(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new pe,ctx:{common:t.parent.common,data:t.data,parsedType:ht(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){let r=this._parse(t);if(Zr(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(t){let r=this._parse(t);return Promise.resolve(r)}parse(t,r){let n=this.safeParse(t,r);if(n.success)return n.data;throw n.error}safeParse(t,r){var n;let a={common:{issues:[],async:(n=r?.async)!==null&&n!==void 0?n:!1,contextualErrorMap:r?.errorMap},path:r?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:ht(t)},i=this._parseSync({data:t,path:a.path,parent:a});return kl(a,i)}async parseAsync(t,r){let n=await this.safeParseAsync(t,r);if(n.success)return n.data;throw n.error}async safeParseAsync(t,r){let n={common:{issues:[],contextualErrorMap:r?.errorMap,async:!0},path:r?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:ht(t)},a=this._parse({data:t,path:n.path,parent:n}),i=await(Zr(a)?a:Promise.resolve(a));return kl(n,i)}refine(t,r){let n=a=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(a):r;return this._refinement((a,i)=>{let o=t(a),s=()=>i.addIssue({code:A.custom,...n(a)});return typeof Promise<"u"&&o instanceof Promise?o.then(u=>u?!0:(s(),!1)):o?!0:(s(),!1)})}refinement(t,r){return this._refinement((n,a)=>t(n)?!0:(a.addIssue(typeof r=="function"?r(n,a):r),!1))}_refinement(t){return new Oe({schema:this,typeName:P.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}optional(){return ke.create(this,this._def)}nullable(){return $e.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Ke.create(this,this._def)}promise(){return yt.create(this,this._def)}or(t){return Ut.create([this,t],this._def)}and(t){return jt.create(this,t,this._def)}transform(t){return new Oe({...j(this._def),schema:this,typeName:P.ZodEffects,effect:{type:"transform",transform:t}})}default(t){let r=typeof t=="function"?t:()=>t;return new Ht({...j(this._def),innerType:this,defaultValue:r,typeName:P.ZodDefault})}brand(){return new Kr({typeName:P.ZodBranded,type:this,...j(this._def)})}catch(t){let r=typeof t=="function"?t:()=>t;return new Yt({...j(this._def),innerType:this,catchValue:r,typeName:P.ZodCatch})}describe(t){let r=this.constructor;return new r({...this._def,description:t})}pipe(t){return Xr.create(this,t)}readonly(){return zt.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}},tm=/^c[^\s-]{8,}$/i,rm=/^[0-9a-z]+$/,nm=/^[0-9A-HJKMNP-TV-Z]{26}$/,am=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,im=/^[a-z0-9_-]{21}$/i,om=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,sm=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,um="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$",Yo,lm=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,cm=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,dm=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,Ll="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",fm=new RegExp(`^${Ll}$`);function Fl(e){let t="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return e.precision?t=`${t}\\.\\d{${e.precision}}`:e.precision==null&&(t=`${t}(\\.\\d+)?`),t}function pm(e){return new RegExp(`^${Fl(e)}$`)}function Ul(e){let t=`${Ll}T${Fl(e)}`,r=[];return r.push(e.local?"Z?":"Z"),e.offset&&r.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${r.join("|")})`,new RegExp(`^${t}$`)}function hm(e,t){return!!((t==="v4"||!t)&&lm.test(e)||(t==="v6"||!t)&&cm.test(e))}var mt=class e extends B{_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==T.string){let i=this._getOrReturnCtx(t);return I(i,{code:A.invalid_type,expected:T.string,received:i.parsedType}),L}let n=new pe,a;for(let i of this._def.checks)if(i.kind==="min")t.data.length<i.value&&(a=this._getOrReturnCtx(t,a),I(a,{code:A.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),n.dirty());else if(i.kind==="max")t.data.length>i.value&&(a=this._getOrReturnCtx(t,a),I(a,{code:A.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),n.dirty());else if(i.kind==="length"){let o=t.data.length>i.value,s=t.data.length<i.value;(o||s)&&(a=this._getOrReturnCtx(t,a),o?I(a,{code:A.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):s&&I(a,{code:A.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),n.dirty())}else if(i.kind==="email")sm.test(t.data)||(a=this._getOrReturnCtx(t,a),I(a,{validation:"email",code:A.invalid_string,message:i.message}),n.dirty());else if(i.kind==="emoji")Yo||(Yo=new RegExp(um,"u")),Yo.test(t.data)||(a=this._getOrReturnCtx(t,a),I(a,{validation:"emoji",code:A.invalid_string,message:i.message}),n.dirty());else if(i.kind==="uuid")am.test(t.data)||(a=this._getOrReturnCtx(t,a),I(a,{validation:"uuid",code:A.invalid_string,message:i.message}),n.dirty());else if(i.kind==="nanoid")im.test(t.data)||(a=this._getOrReturnCtx(t,a),I(a,{validation:"nanoid",code:A.invalid_string,message:i.message}),n.dirty());else if(i.kind==="cuid")tm.test(t.data)||(a=this._getOrReturnCtx(t,a),I(a,{validation:"cuid",code:A.invalid_string,message:i.message}),n.dirty());else if(i.kind==="cuid2")rm.test(t.data)||(a=this._getOrReturnCtx(t,a),I(a,{validation:"cuid2",code:A.invalid_string,message:i.message}),n.dirty());else if(i.kind==="ulid")nm.test(t.data)||(a=this._getOrReturnCtx(t,a),I(a,{validation:"ulid",code:A.invalid_string,message:i.message}),n.dirty());else if(i.kind==="url")try{new URL(t.data)}catch{a=this._getOrReturnCtx(t,a),I(a,{validation:"url",code:A.invalid_string,message:i.message}),n.dirty()}else i.kind==="regex"?(i.regex.lastIndex=0,i.regex.test(t.data)||(a=this._getOrReturnCtx(t,a),I(a,{validation:"regex",code:A.invalid_string,message:i.message}),n.dirty())):i.kind==="trim"?t.data=t.data.trim():i.kind==="includes"?t.data.includes(i.value,i.position)||(a=this._getOrReturnCtx(t,a),I(a,{code:A.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),n.dirty()):i.kind==="toLowerCase"?t.data=t.data.toLowerCase():i.kind==="toUpperCase"?t.data=t.data.toUpperCase():i.kind==="startsWith"?t.data.startsWith(i.value)||(a=this._getOrReturnCtx(t,a),I(a,{code:A.invalid_string,validation:{startsWith:i.value},message:i.message}),n.dirty()):i.kind==="endsWith"?t.data.endsWith(i.value)||(a=this._getOrReturnCtx(t,a),I(a,{code:A.invalid_string,validation:{endsWith:i.value},message:i.message}),n.dirty()):i.kind==="datetime"?Ul(i).test(t.data)||(a=this._getOrReturnCtx(t,a),I(a,{code:A.invalid_string,validation:"datetime",message:i.message}),n.dirty()):i.kind==="date"?fm.test(t.data)||(a=this._getOrReturnCtx(t,a),I(a,{code:A.invalid_string,validation:"date",message:i.message}),n.dirty()):i.kind==="time"?pm(i).test(t.data)||(a=this._getOrReturnCtx(t,a),I(a,{code:A.invalid_string,validation:"time",message:i.message}),n.dirty()):i.kind==="duration"?om.test(t.data)||(a=this._getOrReturnCtx(t,a),I(a,{validation:"duration",code:A.invalid_string,message:i.message}),n.dirty()):i.kind==="ip"?hm(t.data,i.version)||(a=this._getOrReturnCtx(t,a),I(a,{validation:"ip",code:A.invalid_string,message:i.message}),n.dirty()):i.kind==="base64"?dm.test(t.data)||(a=this._getOrReturnCtx(t,a),I(a,{validation:"base64",code:A.invalid_string,message:i.message}),n.dirty()):V.assertNever(i);return{status:n.value,value:t.data}}_regex(t,r,n){return this.refinement(a=>t.test(a),{validation:r,code:A.invalid_string,...R.errToObj(n)})}_addCheck(t){return new e({...this._def,checks:[...this._def.checks,t]})}email(t){return this._addCheck({kind:"email",...R.errToObj(t)})}url(t){return this._addCheck({kind:"url",...R.errToObj(t)})}emoji(t){return this._addCheck({kind:"emoji",...R.errToObj(t)})}uuid(t){return this._addCheck({kind:"uuid",...R.errToObj(t)})}nanoid(t){return this._addCheck({kind:"nanoid",...R.errToObj(t)})}cuid(t){return this._addCheck({kind:"cuid",...R.errToObj(t)})}cuid2(t){return this._addCheck({kind:"cuid2",...R.errToObj(t)})}ulid(t){return this._addCheck({kind:"ulid",...R.errToObj(t)})}base64(t){return this._addCheck({kind:"base64",...R.errToObj(t)})}ip(t){return this._addCheck({kind:"ip",...R.errToObj(t)})}datetime(t){var r,n;return typeof t=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:t}):this._addCheck({kind:"datetime",precision:typeof t?.precision>"u"?null:t?.precision,offset:(r=t?.offset)!==null&&r!==void 0?r:!1,local:(n=t?.local)!==null&&n!==void 0?n:!1,...R.errToObj(t?.message)})}date(t){return this._addCheck({kind:"date",message:t})}time(t){return typeof t=="string"?this._addCheck({kind:"time",precision:null,message:t}):this._addCheck({kind:"time",precision:typeof t?.precision>"u"?null:t?.precision,...R.errToObj(t?.message)})}duration(t){return this._addCheck({kind:"duration",...R.errToObj(t)})}regex(t,r){return this._addCheck({kind:"regex",regex:t,...R.errToObj(r)})}includes(t,r){return this._addCheck({kind:"includes",value:t,position:r?.position,...R.errToObj(r?.message)})}startsWith(t,r){return this._addCheck({kind:"startsWith",value:t,...R.errToObj(r)})}endsWith(t,r){return this._addCheck({kind:"endsWith",value:t,...R.errToObj(r)})}min(t,r){return this._addCheck({kind:"min",value:t,...R.errToObj(r)})}max(t,r){return this._addCheck({kind:"max",value:t,...R.errToObj(r)})}length(t,r){return this._addCheck({kind:"length",value:t,...R.errToObj(r)})}nonempty(t){return this.min(1,R.errToObj(t))}trim(){return new e({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new e({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new e({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(t=>t.kind==="datetime")}get isDate(){return!!this._def.checks.find(t=>t.kind==="date")}get isTime(){return!!this._def.checks.find(t=>t.kind==="time")}get isDuration(){return!!this._def.checks.find(t=>t.kind==="duration")}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isEmoji(){return!!this._def.checks.find(t=>t.kind==="emoji")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(t=>t.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(t=>t.kind==="cuid2")}get isULID(){return!!this._def.checks.find(t=>t.kind==="ulid")}get isIP(){return!!this._def.checks.find(t=>t.kind==="ip")}get isBase64(){return!!this._def.checks.find(t=>t.kind==="base64")}get minLength(){let t=null;for(let r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxLength(){let t=null;for(let r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}};mt.create=e=>{var t;return new mt({checks:[],typeName:P.ZodString,coerce:(t=e?.coerce)!==null&&t!==void 0?t:!1,...j(e)})};function mm(e,t){let r=(e.toString().split(".")[1]||"").length,n=(t.toString().split(".")[1]||"").length,a=r>n?r:n,i=parseInt(e.toFixed(a).replace(".","")),o=parseInt(t.toFixed(a).replace(".",""));return i%o/Math.pow(10,a)}var kt=class e extends B{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==T.number){let i=this._getOrReturnCtx(t);return I(i,{code:A.invalid_type,expected:T.number,received:i.parsedType}),L}let n,a=new pe;for(let i of this._def.checks)i.kind==="int"?V.isInteger(t.data)||(n=this._getOrReturnCtx(t,n),I(n,{code:A.invalid_type,expected:"integer",received:"float",message:i.message}),a.dirty()):i.kind==="min"?(i.inclusive?t.data<i.value:t.data<=i.value)&&(n=this._getOrReturnCtx(t,n),I(n,{code:A.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),a.dirty()):i.kind==="max"?(i.inclusive?t.data>i.value:t.data>=i.value)&&(n=this._getOrReturnCtx(t,n),I(n,{code:A.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),a.dirty()):i.kind==="multipleOf"?mm(t.data,i.value)!==0&&(n=this._getOrReturnCtx(t,n),I(n,{code:A.not_multiple_of,multipleOf:i.value,message:i.message}),a.dirty()):i.kind==="finite"?Number.isFinite(t.data)||(n=this._getOrReturnCtx(t,n),I(n,{code:A.not_finite,message:i.message}),a.dirty()):V.assertNever(i);return{status:a.value,value:t.data}}gte(t,r){return this.setLimit("min",t,!0,R.toString(r))}gt(t,r){return this.setLimit("min",t,!1,R.toString(r))}lte(t,r){return this.setLimit("max",t,!0,R.toString(r))}lt(t,r){return this.setLimit("max",t,!1,R.toString(r))}setLimit(t,r,n,a){return new e({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:n,message:R.toString(a)}]})}_addCheck(t){return new e({...this._def,checks:[...this._def.checks,t]})}int(t){return this._addCheck({kind:"int",message:R.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:R.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:R.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:R.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:R.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:R.toString(r)})}finite(t){return this._addCheck({kind:"finite",message:R.toString(t)})}safe(t){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:R.toString(t)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:R.toString(t)})}get minValue(){let t=null;for(let r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(let r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int"||t.kind==="multipleOf"&&V.isInteger(t.value))}get isFinite(){let t=null,r=null;for(let n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(r===null||n.value>r)&&(r=n.value):n.kind==="max"&&(t===null||n.value<t)&&(t=n.value)}return Number.isFinite(r)&&Number.isFinite(t)}};kt.create=e=>new kt({checks:[],typeName:P.ZodNumber,coerce:e?.coerce||!1,...j(e)});var Dt=class e extends B{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){if(this._def.coerce&&(t.data=BigInt(t.data)),this._getType(t)!==T.bigint){let i=this._getOrReturnCtx(t);return I(i,{code:A.invalid_type,expected:T.bigint,received:i.parsedType}),L}let n,a=new pe;for(let i of this._def.checks)i.kind==="min"?(i.inclusive?t.data<i.value:t.data<=i.value)&&(n=this._getOrReturnCtx(t,n),I(n,{code:A.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),a.dirty()):i.kind==="max"?(i.inclusive?t.data>i.value:t.data>=i.value)&&(n=this._getOrReturnCtx(t,n),I(n,{code:A.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),a.dirty()):i.kind==="multipleOf"?t.data%i.value!==BigInt(0)&&(n=this._getOrReturnCtx(t,n),I(n,{code:A.not_multiple_of,multipleOf:i.value,message:i.message}),a.dirty()):V.assertNever(i);return{status:a.value,value:t.data}}gte(t,r){return this.setLimit("min",t,!0,R.toString(r))}gt(t,r){return this.setLimit("min",t,!1,R.toString(r))}lte(t,r){return this.setLimit("max",t,!0,R.toString(r))}lt(t,r){return this.setLimit("max",t,!1,R.toString(r))}setLimit(t,r,n,a){return new e({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:n,message:R.toString(a)}]})}_addCheck(t){return new e({...this._def,checks:[...this._def.checks,t]})}positive(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:R.toString(t)})}negative(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:R.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:R.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:R.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:R.toString(r)})}get minValue(){let t=null;for(let r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(let r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}};Dt.create=e=>{var t;return new Dt({checks:[],typeName:P.ZodBigInt,coerce:(t=e?.coerce)!==null&&t!==void 0?t:!1,...j(e)})};var Mt=class extends B{_parse(t){if(this._def.coerce&&(t.data=!!t.data),this._getType(t)!==T.boolean){let n=this._getOrReturnCtx(t);return I(n,{code:A.invalid_type,expected:T.boolean,received:n.parsedType}),L}return ve(t.data)}};Mt.create=e=>new Mt({typeName:P.ZodBoolean,coerce:e?.coerce||!1,...j(e)});var Pt=class e extends B{_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==T.date){let i=this._getOrReturnCtx(t);return I(i,{code:A.invalid_type,expected:T.date,received:i.parsedType}),L}if(isNaN(t.data.getTime())){let i=this._getOrReturnCtx(t);return I(i,{code:A.invalid_date}),L}let n=new pe,a;for(let i of this._def.checks)i.kind==="min"?t.data.getTime()<i.value&&(a=this._getOrReturnCtx(t,a),I(a,{code:A.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),n.dirty()):i.kind==="max"?t.data.getTime()>i.value&&(a=this._getOrReturnCtx(t,a),I(a,{code:A.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),n.dirty()):V.assertNever(i);return{status:n.value,value:new Date(t.data.getTime())}}_addCheck(t){return new e({...this._def,checks:[...this._def.checks,t]})}min(t,r){return this._addCheck({kind:"min",value:t.getTime(),message:R.toString(r)})}max(t,r){return this._addCheck({kind:"max",value:t.getTime(),message:R.toString(r)})}get minDate(){let t=null;for(let r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(let r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t!=null?new Date(t):null}};Pt.create=e=>new Pt({checks:[],coerce:e?.coerce||!1,typeName:P.ZodDate,...j(e)});var fr=class extends B{_parse(t){if(this._getType(t)!==T.symbol){let n=this._getOrReturnCtx(t);return I(n,{code:A.invalid_type,expected:T.symbol,received:n.parsedType}),L}return ve(t.data)}};fr.create=e=>new fr({typeName:P.ZodSymbol,...j(e)});var Lt=class extends B{_parse(t){if(this._getType(t)!==T.undefined){let n=this._getOrReturnCtx(t);return I(n,{code:A.invalid_type,expected:T.undefined,received:n.parsedType}),L}return ve(t.data)}};Lt.create=e=>new Lt({typeName:P.ZodUndefined,...j(e)});var Ft=class extends B{_parse(t){if(this._getType(t)!==T.null){let n=this._getOrReturnCtx(t);return I(n,{code:A.invalid_type,expected:T.null,received:n.parsedType}),L}return ve(t.data)}};Ft.create=e=>new Ft({typeName:P.ZodNull,...j(e)});var gt=class extends B{constructor(){super(...arguments),this._any=!0}_parse(t){return ve(t.data)}};gt.create=e=>new gt({typeName:P.ZodAny,...j(e)});var Ze=class extends B{constructor(){super(...arguments),this._unknown=!0}_parse(t){return ve(t.data)}};Ze.create=e=>new Ze({typeName:P.ZodUnknown,...j(e)});var Le=class extends B{_parse(t){let r=this._getOrReturnCtx(t);return I(r,{code:A.invalid_type,expected:T.never,received:r.parsedType}),L}};Le.create=e=>new Le({typeName:P.ZodNever,...j(e)});var pr=class extends B{_parse(t){if(this._getType(t)!==T.undefined){let n=this._getOrReturnCtx(t);return I(n,{code:A.invalid_type,expected:T.void,received:n.parsedType}),L}return ve(t.data)}};pr.create=e=>new pr({typeName:P.ZodVoid,...j(e)});var Ke=class e extends B{_parse(t){let{ctx:r,status:n}=this._processInputParams(t),a=this._def;if(r.parsedType!==T.array)return I(r,{code:A.invalid_type,expected:T.array,received:r.parsedType}),L;if(a.exactLength!==null){let o=r.data.length>a.exactLength.value,s=r.data.length<a.exactLength.value;(o||s)&&(I(r,{code:o?A.too_big:A.too_small,minimum:s?a.exactLength.value:void 0,maximum:o?a.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:a.exactLength.message}),n.dirty())}if(a.minLength!==null&&r.data.length<a.minLength.value&&(I(r,{code:A.too_small,minimum:a.minLength.value,type:"array",inclusive:!0,exact:!1,message:a.minLength.message}),n.dirty()),a.maxLength!==null&&r.data.length>a.maxLength.value&&(I(r,{code:A.too_big,maximum:a.maxLength.value,type:"array",inclusive:!0,exact:!1,message:a.maxLength.message}),n.dirty()),r.common.async)return Promise.all([...r.data].map((o,s)=>a.type._parseAsync(new De(r,o,r.path,s)))).then(o=>pe.mergeArray(n,o));let i=[...r.data].map((o,s)=>a.type._parseSync(new De(r,o,r.path,s)));return pe.mergeArray(n,i)}get element(){return this._def.type}min(t,r){return new e({...this._def,minLength:{value:t,message:R.toString(r)}})}max(t,r){return new e({...this._def,maxLength:{value:t,message:R.toString(r)}})}length(t,r){return new e({...this._def,exactLength:{value:t,message:R.toString(r)}})}nonempty(t){return this.min(1,t)}};Ke.create=(e,t)=>new Ke({type:e,minLength:null,maxLength:null,exactLength:null,typeName:P.ZodArray,...j(t)});function lr(e){if(e instanceof _e){let t={};for(let r in e.shape){let n=e.shape[r];t[r]=ke.create(lr(n))}return new _e({...e._def,shape:()=>t})}else return e instanceof Ke?new Ke({...e._def,type:lr(e.element)}):e instanceof ke?ke.create(lr(e.unwrap())):e instanceof $e?$e.create(lr(e.unwrap())):e instanceof We?We.create(e.items.map(t=>lr(t))):e}var _e=class e extends B{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;let t=this._def.shape(),r=V.objectKeys(t);return this._cached={shape:t,keys:r}}_parse(t){if(this._getType(t)!==T.object){let l=this._getOrReturnCtx(t);return I(l,{code:A.invalid_type,expected:T.object,received:l.parsedType}),L}let{status:n,ctx:a}=this._processInputParams(t),{shape:i,keys:o}=this._getCached(),s=[];if(!(this._def.catchall instanceof Le&&this._def.unknownKeys==="strip"))for(let l in a.data)o.includes(l)||s.push(l);let u=[];for(let l of o){let c=i[l],d=a.data[l];u.push({key:{status:"valid",value:l},value:c._parse(new De(a,d,a.path,l)),alwaysSet:l in a.data})}if(this._def.catchall instanceof Le){let l=this._def.unknownKeys;if(l==="passthrough")for(let c of s)u.push({key:{status:"valid",value:c},value:{status:"valid",value:a.data[c]}});else if(l==="strict")s.length>0&&(I(a,{code:A.unrecognized_keys,keys:s}),n.dirty());else if(l!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{let l=this._def.catchall;for(let c of s){let d=a.data[c];u.push({key:{status:"valid",value:c},value:l._parse(new De(a,d,a.path,c)),alwaysSet:c in a.data})}}return a.common.async?Promise.resolve().then(async()=>{let l=[];for(let c of u){let d=await c.key,f=await c.value;l.push({key:d,value:f,alwaysSet:c.alwaysSet})}return l}).then(l=>pe.mergeObjectSync(n,l)):pe.mergeObjectSync(n,u)}get shape(){return this._def.shape()}strict(t){return R.errToObj,new e({...this._def,unknownKeys:"strict",...t!==void 0?{errorMap:(r,n)=>{var a,i,o,s;let u=(o=(i=(a=this._def).errorMap)===null||i===void 0?void 0:i.call(a,r,n).message)!==null&&o!==void 0?o:n.defaultError;return r.code==="unrecognized_keys"?{message:(s=R.errToObj(t).message)!==null&&s!==void 0?s:u}:{message:u}}}:{}})}strip(){return new e({...this._def,unknownKeys:"strip"})}passthrough(){return new e({...this._def,unknownKeys:"passthrough"})}extend(t){return new e({...this._def,shape:()=>({...this._def.shape(),...t})})}merge(t){return new e({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>({...this._def.shape(),...t._def.shape()}),typeName:P.ZodObject})}setKey(t,r){return this.augment({[t]:r})}catchall(t){return new e({...this._def,catchall:t})}pick(t){let r={};return V.objectKeys(t).forEach(n=>{t[n]&&this.shape[n]&&(r[n]=this.shape[n])}),new e({...this._def,shape:()=>r})}omit(t){let r={};return V.objectKeys(this.shape).forEach(n=>{t[n]||(r[n]=this.shape[n])}),new e({...this._def,shape:()=>r})}deepPartial(){return lr(this)}partial(t){let r={};return V.objectKeys(this.shape).forEach(n=>{let a=this.shape[n];t&&!t[n]?r[n]=a:r[n]=a.optional()}),new e({...this._def,shape:()=>r})}required(t){let r={};return V.objectKeys(this.shape).forEach(n=>{if(t&&!t[n])r[n]=this.shape[n];else{let i=this.shape[n];for(;i instanceof ke;)i=i._def.innerType;r[n]=i}}),new e({...this._def,shape:()=>r})}keyof(){return jl(V.objectKeys(this.shape))}};_e.create=(e,t)=>new _e({shape:()=>e,unknownKeys:"strip",catchall:Le.create(),typeName:P.ZodObject,...j(t)});_e.strictCreate=(e,t)=>new _e({shape:()=>e,unknownKeys:"strict",catchall:Le.create(),typeName:P.ZodObject,...j(t)});_e.lazycreate=(e,t)=>new _e({shape:e,unknownKeys:"strip",catchall:Le.create(),typeName:P.ZodObject,...j(t)});var Ut=class extends B{_parse(t){let{ctx:r}=this._processInputParams(t),n=this._def.options;function a(i){for(let s of i)if(s.result.status==="valid")return s.result;for(let s of i)if(s.result.status==="dirty")return r.common.issues.push(...s.ctx.common.issues),s.result;let o=i.map(s=>new Te(s.ctx.common.issues));return I(r,{code:A.invalid_union,unionErrors:o}),L}if(r.common.async)return Promise.all(n.map(async i=>{let o={...r,common:{...r.common,issues:[]},parent:null};return{result:await i._parseAsync({data:r.data,path:r.path,parent:o}),ctx:o}})).then(a);{let i,o=[];for(let u of n){let l={...r,common:{...r.common,issues:[]},parent:null},c=u._parseSync({data:r.data,path:r.path,parent:l});if(c.status==="valid")return c;c.status==="dirty"&&!i&&(i={result:c,ctx:l}),l.common.issues.length&&o.push(l.common.issues)}if(i)return r.common.issues.push(...i.ctx.common.issues),i.result;let s=o.map(u=>new Te(u));return I(r,{code:A.invalid_union,unionErrors:s}),L}}get options(){return this._def.options}};Ut.create=(e,t)=>new Ut({options:e,typeName:P.ZodUnion,...j(t)});var qe=e=>e instanceof Bt?qe(e.schema):e instanceof Oe?qe(e.innerType()):e instanceof Wt?[e.value]:e instanceof $t?e.options:e instanceof Vt?V.objectValues(e.enum):e instanceof Ht?qe(e._def.innerType):e instanceof Lt?[void 0]:e instanceof Ft?[null]:e instanceof ke?[void 0,...qe(e.unwrap())]:e instanceof $e?[null,...qe(e.unwrap())]:e instanceof Kr||e instanceof zt?qe(e.unwrap()):e instanceof Yt?qe(e._def.innerType):[],ja=class e extends B{_parse(t){let{ctx:r}=this._processInputParams(t);if(r.parsedType!==T.object)return I(r,{code:A.invalid_type,expected:T.object,received:r.parsedType}),L;let n=this.discriminator,a=r.data[n],i=this.optionsMap.get(a);return i?r.common.async?i._parseAsync({data:r.data,path:r.path,parent:r}):i._parseSync({data:r.data,path:r.path,parent:r}):(I(r,{code:A.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[n]}),L)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(t,r,n){let a=new Map;for(let i of r){let o=qe(i.shape[t]);if(!o.length)throw new Error(`A discriminator value for key \`${t}\` could not be extracted from all schema options`);for(let s of o){if(a.has(s))throw new Error(`Discriminator property ${String(t)} has duplicate value ${String(s)}`);a.set(s,i)}}return new e({typeName:P.ZodDiscriminatedUnion,discriminator:t,options:r,optionsMap:a,...j(n)})}};function Zo(e,t){let r=ht(e),n=ht(t);if(e===t)return{valid:!0,data:e};if(r===T.object&&n===T.object){let a=V.objectKeys(t),i=V.objectKeys(e).filter(s=>a.indexOf(s)!==-1),o={...e,...t};for(let s of i){let u=Zo(e[s],t[s]);if(!u.valid)return{valid:!1};o[s]=u.data}return{valid:!0,data:o}}else if(r===T.array&&n===T.array){if(e.length!==t.length)return{valid:!1};let a=[];for(let i=0;i<e.length;i++){let o=e[i],s=t[i],u=Zo(o,s);if(!u.valid)return{valid:!1};a.push(u.data)}return{valid:!0,data:a}}else return r===T.date&&n===T.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}var jt=class extends B{_parse(t){let{status:r,ctx:n}=this._processInputParams(t),a=(i,o)=>{if(Go(i)||Go(o))return L;let s=Zo(i.value,o.value);return s.valid?((qo(i)||qo(o))&&r.dirty(),{status:r.value,value:s.data}):(I(n,{code:A.invalid_intersection_types}),L)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([i,o])=>a(i,o)):a(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}};jt.create=(e,t,r)=>new jt({left:e,right:t,typeName:P.ZodIntersection,...j(r)});var We=class e extends B{_parse(t){let{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==T.array)return I(n,{code:A.invalid_type,expected:T.array,received:n.parsedType}),L;if(n.data.length<this._def.items.length)return I(n,{code:A.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),L;!this._def.rest&&n.data.length>this._def.items.length&&(I(n,{code:A.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());let i=[...n.data].map((o,s)=>{let u=this._def.items[s]||this._def.rest;return u?u._parse(new De(n,o,n.path,s)):null}).filter(o=>!!o);return n.common.async?Promise.all(i).then(o=>pe.mergeArray(r,o)):pe.mergeArray(r,i)}get items(){return this._def.items}rest(t){return new e({...this._def,rest:t})}};We.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new We({items:e,typeName:P.ZodTuple,rest:null,...j(t)})};var Ba=class e extends B{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){let{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==T.object)return I(n,{code:A.invalid_type,expected:T.object,received:n.parsedType}),L;let a=[],i=this._def.keyType,o=this._def.valueType;for(let s in n.data)a.push({key:i._parse(new De(n,s,n.path,s)),value:o._parse(new De(n,n.data[s],n.path,s)),alwaysSet:s in n.data});return n.common.async?pe.mergeObjectAsync(r,a):pe.mergeObjectSync(r,a)}get element(){return this._def.valueType}static create(t,r,n){return r instanceof B?new e({keyType:t,valueType:r,typeName:P.ZodRecord,...j(n)}):new e({keyType:mt.create(),valueType:t,typeName:P.ZodRecord,...j(r)})}},hr=class extends B{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){let{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==T.map)return I(n,{code:A.invalid_type,expected:T.map,received:n.parsedType}),L;let a=this._def.keyType,i=this._def.valueType,o=[...n.data.entries()].map(([s,u],l)=>({key:a._parse(new De(n,s,n.path,[l,"key"])),value:i._parse(new De(n,u,n.path,[l,"value"]))}));if(n.common.async){let s=new Map;return Promise.resolve().then(async()=>{for(let u of o){let l=await u.key,c=await u.value;if(l.status==="aborted"||c.status==="aborted")return L;(l.status==="dirty"||c.status==="dirty")&&r.dirty(),s.set(l.value,c.value)}return{status:r.value,value:s}})}else{let s=new Map;for(let u of o){let l=u.key,c=u.value;if(l.status==="aborted"||c.status==="aborted")return L;(l.status==="dirty"||c.status==="dirty")&&r.dirty(),s.set(l.value,c.value)}return{status:r.value,value:s}}}};hr.create=(e,t,r)=>new hr({valueType:t,keyType:e,typeName:P.ZodMap,...j(r)});var mr=class e extends B{_parse(t){let{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==T.set)return I(n,{code:A.invalid_type,expected:T.set,received:n.parsedType}),L;let a=this._def;a.minSize!==null&&n.data.size<a.minSize.value&&(I(n,{code:A.too_small,minimum:a.minSize.value,type:"set",inclusive:!0,exact:!1,message:a.minSize.message}),r.dirty()),a.maxSize!==null&&n.data.size>a.maxSize.value&&(I(n,{code:A.too_big,maximum:a.maxSize.value,type:"set",inclusive:!0,exact:!1,message:a.maxSize.message}),r.dirty());let i=this._def.valueType;function o(u){let l=new Set;for(let c of u){if(c.status==="aborted")return L;c.status==="dirty"&&r.dirty(),l.add(c.value)}return{status:r.value,value:l}}let s=[...n.data.values()].map((u,l)=>i._parse(new De(n,u,n.path,l)));return n.common.async?Promise.all(s).then(u=>o(u)):o(s)}min(t,r){return new e({...this._def,minSize:{value:t,message:R.toString(r)}})}max(t,r){return new e({...this._def,maxSize:{value:t,message:R.toString(r)}})}size(t,r){return this.min(t,r).max(t,r)}nonempty(t){return this.min(1,t)}};mr.create=(e,t)=>new mr({valueType:e,minSize:null,maxSize:null,typeName:P.ZodSet,...j(t)});var Wa=class e extends B{constructor(){super(...arguments),this.validate=this.implement}_parse(t){let{ctx:r}=this._processInputParams(t);if(r.parsedType!==T.function)return I(r,{code:A.invalid_type,expected:T.function,received:r.parsedType}),L;function n(s,u){return Fa({data:s,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,La(),dr].filter(l=>!!l),issueData:{code:A.invalid_arguments,argumentsError:u}})}function a(s,u){return Fa({data:s,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,La(),dr].filter(l=>!!l),issueData:{code:A.invalid_return_type,returnTypeError:u}})}let i={errorMap:r.common.contextualErrorMap},o=r.data;if(this._def.returns instanceof yt){let s=this;return ve(async function(...u){let l=new Te([]),c=await s._def.args.parseAsync(u,i).catch(p=>{throw l.addIssue(n(u,p)),l}),d=await Reflect.apply(o,this,c);return await s._def.returns._def.type.parseAsync(d,i).catch(p=>{throw l.addIssue(a(d,p)),l})})}else{let s=this;return ve(function(...u){let l=s._def.args.safeParse(u,i);if(!l.success)throw new Te([n(u,l.error)]);let c=Reflect.apply(o,this,l.data),d=s._def.returns.safeParse(c,i);if(!d.success)throw new Te([a(c,d.error)]);return d.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...t){return new e({...this._def,args:We.create(t).rest(Ze.create())})}returns(t){return new e({...this._def,returns:t})}implement(t){return this.parse(t)}strictImplement(t){return this.parse(t)}static create(t,r,n){return new e({args:t||We.create([]).rest(Ze.create()),returns:r||Ze.create(),typeName:P.ZodFunction,...j(n)})}},Bt=class extends B{get schema(){return this._def.getter()}_parse(t){let{ctx:r}=this._processInputParams(t);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}};Bt.create=(e,t)=>new Bt({getter:e,typeName:P.ZodLazy,...j(t)});var Wt=class extends B{_parse(t){if(t.data!==this._def.value){let r=this._getOrReturnCtx(t);return I(r,{received:r.data,code:A.invalid_literal,expected:this._def.value}),L}return{status:"valid",value:t.data}}get value(){return this._def.value}};Wt.create=(e,t)=>new Wt({value:e,typeName:P.ZodLiteral,...j(t)});function jl(e,t){return new $t({values:e,typeName:P.ZodEnum,...j(t)})}var $t=class e extends B{constructor(){super(...arguments),zr.set(this,void 0)}_parse(t){if(typeof t.data!="string"){let r=this._getOrReturnCtx(t),n=this._def.values;return I(r,{expected:V.joinValues(n),received:r.parsedType,code:A.invalid_type}),L}if(Ua(this,zr,"f")||Pl(this,zr,new Set(this._def.values),"f"),!Ua(this,zr,"f").has(t.data)){let r=this._getOrReturnCtx(t),n=this._def.values;return I(r,{received:r.data,code:A.invalid_enum_value,options:n}),L}return ve(t.data)}get options(){return this._def.values}get enum(){let t={};for(let r of this._def.values)t[r]=r;return t}get Values(){let t={};for(let r of this._def.values)t[r]=r;return t}get Enum(){let t={};for(let r of this._def.values)t[r]=r;return t}extract(t,r=this._def){return e.create(t,{...this._def,...r})}exclude(t,r=this._def){return e.create(this.options.filter(n=>!t.includes(n)),{...this._def,...r})}};zr=new WeakMap;$t.create=jl;var Vt=class extends B{constructor(){super(...arguments),Gr.set(this,void 0)}_parse(t){let r=V.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(t);if(n.parsedType!==T.string&&n.parsedType!==T.number){let a=V.objectValues(r);return I(n,{expected:V.joinValues(a),received:n.parsedType,code:A.invalid_type}),L}if(Ua(this,Gr,"f")||Pl(this,Gr,new Set(V.getValidEnumValues(this._def.values)),"f"),!Ua(this,Gr,"f").has(t.data)){let a=V.objectValues(r);return I(n,{received:n.data,code:A.invalid_enum_value,options:a}),L}return ve(t.data)}get enum(){return this._def.values}};Gr=new WeakMap;Vt.create=(e,t)=>new Vt({values:e,typeName:P.ZodNativeEnum,...j(t)});var yt=class extends B{unwrap(){return this._def.type}_parse(t){let{ctx:r}=this._processInputParams(t);if(r.parsedType!==T.promise&&r.common.async===!1)return I(r,{code:A.invalid_type,expected:T.promise,received:r.parsedType}),L;let n=r.parsedType===T.promise?r.data:Promise.resolve(r.data);return ve(n.then(a=>this._def.type.parseAsync(a,{path:r.path,errorMap:r.common.contextualErrorMap})))}};yt.create=(e,t)=>new yt({type:e,typeName:P.ZodPromise,...j(t)});var Oe=class extends B{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===P.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){let{status:r,ctx:n}=this._processInputParams(t),a=this._def.effect||null,i={addIssue:o=>{I(n,o),o.fatal?r.abort():r.dirty()},get path(){return n.path}};if(i.addIssue=i.addIssue.bind(i),a.type==="preprocess"){let o=a.transform(n.data,i);if(n.common.async)return Promise.resolve(o).then(async s=>{if(r.value==="aborted")return L;let u=await this._def.schema._parseAsync({data:s,path:n.path,parent:n});return u.status==="aborted"?L:u.status==="dirty"||r.value==="dirty"?cr(u.value):u});{if(r.value==="aborted")return L;let s=this._def.schema._parseSync({data:o,path:n.path,parent:n});return s.status==="aborted"?L:s.status==="dirty"||r.value==="dirty"?cr(s.value):s}}if(a.type==="refinement"){let o=s=>{let u=a.refinement(s,i);if(n.common.async)return Promise.resolve(u);if(u instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return s};if(n.common.async===!1){let s=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return s.status==="aborted"?L:(s.status==="dirty"&&r.dirty(),o(s.value),{status:r.value,value:s.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(s=>s.status==="aborted"?L:(s.status==="dirty"&&r.dirty(),o(s.value).then(()=>({status:r.value,value:s.value}))))}if(a.type==="transform")if(n.common.async===!1){let o=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!qr(o))return o;let s=a.transform(o.value,i);if(s instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:s}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(o=>qr(o)?Promise.resolve(a.transform(o.value,i)).then(s=>({status:r.value,value:s})):o);V.assertNever(a)}};Oe.create=(e,t,r)=>new Oe({schema:e,typeName:P.ZodEffects,effect:t,...j(r)});Oe.createWithPreprocess=(e,t,r)=>new Oe({schema:t,effect:{type:"preprocess",transform:e},typeName:P.ZodEffects,...j(r)});var ke=class extends B{_parse(t){return this._getType(t)===T.undefined?ve(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}};ke.create=(e,t)=>new ke({innerType:e,typeName:P.ZodOptional,...j(t)});var $e=class extends B{_parse(t){return this._getType(t)===T.null?ve(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}};$e.create=(e,t)=>new $e({innerType:e,typeName:P.ZodNullable,...j(t)});var Ht=class extends B{_parse(t){let{ctx:r}=this._processInputParams(t),n=r.data;return r.parsedType===T.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:r.path,parent:r})}removeDefault(){return this._def.innerType}};Ht.create=(e,t)=>new Ht({innerType:e,typeName:P.ZodDefault,defaultValue:typeof t.default=="function"?t.default:()=>t.default,...j(t)});var Yt=class extends B{_parse(t){let{ctx:r}=this._processInputParams(t),n={...r,common:{...r.common,issues:[]}},a=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return Zr(a)?a.then(i=>({status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new Te(n.common.issues)},input:n.data})})):{status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new Te(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}};Yt.create=(e,t)=>new Yt({innerType:e,typeName:P.ZodCatch,catchValue:typeof t.catch=="function"?t.catch:()=>t.catch,...j(t)});var gr=class extends B{_parse(t){if(this._getType(t)!==T.nan){let n=this._getOrReturnCtx(t);return I(n,{code:A.invalid_type,expected:T.nan,received:n.parsedType}),L}return{status:"valid",value:t.data}}};gr.create=e=>new gr({typeName:P.ZodNaN,...j(e)});var gm=Symbol("zod_brand"),Kr=class extends B{_parse(t){let{ctx:r}=this._processInputParams(t),n=r.data;return this._def.type._parse({data:n,path:r.path,parent:r})}unwrap(){return this._def.type}},Xr=class e extends B{_parse(t){let{status:r,ctx:n}=this._processInputParams(t);if(n.common.async)return(async()=>{let i=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return i.status==="aborted"?L:i.status==="dirty"?(r.dirty(),cr(i.value)):this._def.out._parseAsync({data:i.value,path:n.path,parent:n})})();{let a=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return a.status==="aborted"?L:a.status==="dirty"?(r.dirty(),{status:"dirty",value:a.value}):this._def.out._parseSync({data:a.value,path:n.path,parent:n})}}static create(t,r){return new e({in:t,out:r,typeName:P.ZodPipeline})}},zt=class extends B{_parse(t){let r=this._def.innerType._parse(t),n=a=>(qr(a)&&(a.value=Object.freeze(a.value)),a);return Zr(r)?r.then(a=>n(a)):n(r)}unwrap(){return this._def.innerType}};zt.create=(e,t)=>new zt({innerType:e,typeName:P.ZodReadonly,...j(t)});function Bl(e,t={},r){return e?gt.create().superRefine((n,a)=>{var i,o;if(!e(n)){let s=typeof t=="function"?t(n):typeof t=="string"?{message:t}:t,u=(o=(i=s.fatal)!==null&&i!==void 0?i:r)!==null&&o!==void 0?o:!0,l=typeof s=="string"?{message:s}:s;a.addIssue({code:"custom",...l,fatal:u})}}):gt.create()}var ym={object:_e.lazycreate},P;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"})(P||(P={}));var vm=(e,t={message:`Input not instance of ${e.name}`})=>Bl(r=>r instanceof e,t),Wl=mt.create,$l=kt.create,bm=gr.create,wm=Dt.create,Vl=Mt.create,xm=Pt.create,_m=fr.create,Am=Lt.create,Sm=Ft.create,Em=gt.create,Im=Ze.create,Tm=Le.create,Om=pr.create,Cm=Ke.create,Nm=_e.create,Rm=_e.strictCreate,km=Ut.create,Dm=ja.create,Mm=jt.create,Pm=We.create,Lm=Ba.create,Fm=hr.create,Um=mr.create,jm=Wa.create,Bm=Bt.create,Wm=Wt.create,$m=$t.create,Vm=Vt.create,Hm=yt.create,Dl=Oe.create,Ym=ke.create,zm=$e.create,Gm=Oe.createWithPreprocess,qm=Xr.create,Zm=()=>Wl().optional(),Km=()=>$l().optional(),Xm=()=>Vl().optional(),Qm={string:e=>mt.create({...e,coerce:!0}),number:e=>kt.create({...e,coerce:!0}),boolean:e=>Mt.create({...e,coerce:!0}),bigint:e=>Dt.create({...e,coerce:!0}),date:e=>Pt.create({...e,coerce:!0})},Jm=L,Gt=Object.freeze({__proto__:null,defaultErrorMap:dr,setErrorMap:Jh,getErrorMap:La,makeIssue:Fa,EMPTY_PATH:em,addIssueToContext:I,ParseStatus:pe,INVALID:L,DIRTY:cr,OK:ve,isAborted:Go,isDirty:qo,isValid:qr,isAsync:Zr,get util(){return V},get objectUtil(){return zo},ZodParsedType:T,getParsedType:ht,ZodType:B,datetimeRegex:Ul,ZodString:mt,ZodNumber:kt,ZodBigInt:Dt,ZodBoolean:Mt,ZodDate:Pt,ZodSymbol:fr,ZodUndefined:Lt,ZodNull:Ft,ZodAny:gt,ZodUnknown:Ze,ZodNever:Le,ZodVoid:pr,ZodArray:Ke,ZodObject:_e,ZodUnion:Ut,ZodDiscriminatedUnion:ja,ZodIntersection:jt,ZodTuple:We,ZodRecord:Ba,ZodMap:hr,ZodSet:mr,ZodFunction:Wa,ZodLazy:Bt,ZodLiteral:Wt,ZodEnum:$t,ZodNativeEnum:Vt,ZodPromise:yt,ZodEffects:Oe,ZodTransformer:Oe,ZodOptional:ke,ZodNullable:$e,ZodDefault:Ht,ZodCatch:Yt,ZodNaN:gr,BRAND:gm,ZodBranded:Kr,ZodPipeline:Xr,ZodReadonly:zt,custom:Bl,Schema:B,ZodSchema:B,late:ym,get ZodFirstPartyTypeKind(){return P},coerce:Qm,any:Em,array:Cm,bigint:wm,boolean:Vl,date:xm,discriminatedUnion:Dm,effect:Dl,enum:$m,function:jm,instanceof:vm,intersection:Mm,lazy:Bm,literal:Wm,map:Fm,nan:bm,nativeEnum:Vm,never:Tm,null:Sm,nullable:zm,number:$l,object:Nm,oboolean:Xm,onumber:Km,optional:Ym,ostring:Zm,pipeline:qm,preprocess:Gm,promise:Hm,record:Lm,set:Um,strictObject:Rm,string:Wl,symbol:_m,transformer:Dl,tuple:Pm,undefined:Am,union:km,unknown:Im,void:Om,NEVER:Jm,ZodIssueCode:A,quotelessJson:Qh,ZodError:Te});var Hl;(function(e){e.WINDOW_RESIZED="tauri://resize",e.WINDOW_MOVED="tauri://move",e.WINDOW_CLOSE_REQUESTED="tauri://close-requested",e.WINDOW_DESTROYED="tauri://destroyed",e.WINDOW_FOCUS="tauri://focus",e.WINDOW_BLUR="tauri://blur",e.WINDOW_SCALE_FACTOR_CHANGED="tauri://scale-change",e.WINDOW_THEME_CHANGED="tauri://theme-changed",e.WINDOW_CREATED="tauri://window-created",e.WEBVIEW_CREATED="tauri://webview-created",e.DRAG="tauri://drag",e.DROP="tauri://drop",e.DROP_OVER="tauri://drop-over",e.DROP_CANCELLED="tauri://drag-cancelled"})(Hl||(Hl={}));async function eg(e,t){await W("plugin:event|unlisten",{event:e,eventId:t})}async function Ve(e,t,r){var n;let a=typeof r?.target=="string"?{kind:"AnyLabel",label:r.target}:(n=r?.target)!==null&&n!==void 0?n:{kind:"Any"};return W("plugin:event|listen",{event:e,target:a,handler:Rl(t)}).then(i=>async()=>eg(e,i))}async function Xe(e,t){await W("plugin:event|emit",{event:e,payload:t})}var Yl="plugin:clipboard|start_monitor",zl="plugin:clipboard|stop_monitor",Ko="plugin:clipboard://something-changed",$a="plugin:clipboard://text-changed",Xo="plugin:clipboard://html-changed",Qo="plugin:clipboard://rtf-changed",Jo="plugin:clipboard://files-changed",Va="plugin:clipboard://image-changed",Gl="plugin:clipboard|is_monitor_running",ql="plugin:clipboard|has_text",Zl="plugin:clipboard|has_image",Kl="plugin:clipboard|has_html",Xl="plugin:clipboard|has_rtf",Ql="plugin:clipboard|has_files",Jl="plugin:clipboard|write_text",ec="plugin:clipboard|write_html",tc="plugin:clipboard|write_html_and_text",rc="plugin:clipboard|write_rtf",nc="plugin:clipboard|write_files_uris",ac="plugin:clipboard|write_files",ic="plugin:clipboard|clear",oc="plugin:clipboard|read_text",sc="plugin:clipboard|read_html",uc="plugin:clipboard|read_rtf",lc="plugin:clipboard|read_files",cc="plugin:clipboard|read_files_uris",dc="plugin:clipboard|read_image_binary",fc="plugin:clipboard|read_image_base64",pc="plugin:clipboard|write_image_binary",hc="plugin:clipboard|write_image_base64",mc="plugin:clipboard://clipboard-monitor/status",es="plugin:clipboard://clipboard-monitor/update",Qr=Gt.object({value:Gt.string()}),gc=Gt.object({value:Gt.string().array()});function ts(){return W(ql)}function rs(){return W(Kl)}function ns(){return W(Xl)}function as(){return W(Zl)}function is(){return W(Ql)}function yc(e){return W(Jl,{text:e})}function vc(e){return W(ec,{html:e})}function bc(e,t){return W(tc,{html:e,text:t})}function wc(e){return W(rc,{rtf:e})}function tg(e){return W(nc,{filesUris:e})}function xc(e){return W(ac,{filesPaths:e})}function rg(){return W(ic)}function Ha(){return W(oc)}function os(){return W(sc)}function ss(){return W(uc)}function us(){return W(lc)}function ng(){return W(cc)}function Ya(){return W(fc)}function ls(e){return W(dc).then(t=>{switch(e){case"int_array":return t;case"Uint8Array":return new Uint8Array(t);case"Blob":return new Blob([new Uint8Array(t)]);default:return t}})}function ag(){return ls("Blob").then(e=>URL.createObjectURL(e))}function _c(e){return W(hc,{base64Image:e})}function Ac(e){return W(pc,{bytes:e})}function ig(e=500){let t="",r=!0;return setTimeout(async function n(){try{let a=await Ha();t!==a&&await Xe($a,{value:a}),t=a}catch{}r&&setTimeout(n,e)},e),function(){r=!1}}function og(e=1e3){let t="",r=!0;return setTimeout(async function n(){try{let a=await Ya();t!==a&&await Xe(Va,{value:a}),t=a}catch{}r&&setTimeout(n,e)},e),function(){r=!1}}function Sc(){return Ve(es,async e=>{if(e.payload==="clipboard update"){let t={files:await is(),image:await as(),html:await rs(),rtf:await ns(),text:await ts()};if(await Xe(Ko,t),t.files){let r=await us();r&&r.length>0&&await Xe(Jo,{value:r}),t.files=!0;return}if(t.image){let r=await Ya();r&&await Xe(Va,{value:r}),t.image=!0}t.html&&(await Xe(Xo,{value:await os()}),t.html=!0),t.rtf&&(await Xe(Qo,{value:await ss()}),t.rtf=!0),t.text&&(await Xe($a,{value:await Ha()}),t.text=!0)}})}function sg(e){return Ve(es,e)}async function ug(e){return await Ve($a,t=>{let r=Qr.parse(t.payload).value;e(r)})}async function lg(e){return await Ve(Ko,t=>{e(t.payload)})}async function cg(e){return await Ve(Xo,t=>{let r=Qr.parse(t.payload).value;e(r)})}async function dg(e){return await Ve(Qo,t=>{let r=Qr.parse(t.payload).value;e(r)})}async function fg(e){return await Ve(Jo,t=>{let r=gc.parse(t.payload).value;e(r)})}async function pg(e){return await Ve(Va,t=>{let r=Qr.parse(t.payload).value;e(r)})}function hg(){return W(Gl).then(e=>Gt.boolean().parse(e))}function cs(){return W(Yl)}function Ec(){return W(zl)}async function mg(e){return await Ve(mc,t=>{let r=Gt.boolean().parse(t.payload);e(r)})}function gg(){return cs().then(()=>Sc()).then(e=>async()=>{e(),await Ec()})}var ie=Object.freeze({__proto__:null,CLEAR_COMMAND:ic,CLIPBOARD_MONITOR_STATUS_UPDATE_EVENT:mc,ClipboardChangedFilesPayloadSchema:gc,ClipboardChangedPayloadSchema:Qr,FILES_CHANGED:Jo,HAS_FILES_COMMAND:Ql,HAS_HTML_COMMAND:Kl,HAS_IMAGE_COMMAND:Zl,HAS_RTF_COMMAND:Xl,HAS_TEXT_COMMAND:ql,HTML_CHANGED:Xo,IMAGE_CHANGED:Va,IS_MONITOR_RUNNING_COMMAND:Gl,MONITOR_UPDATE_EVENT:es,READ_FILES_COMMAND:lc,READ_FILES_URIS_COMMAND:cc,READ_HTML_COMMAND:sc,READ_IMAGE_BASE64_COMMAND:fc,READ_IMAGE_BINARY_COMMAND:dc,READ_RTF_COMMAND:uc,READ_TEXT_COMMAND:oc,RTF_CHANGED:Qo,SOMETHING_CHANGED:Ko,START_MONITOR_COMMAND:Yl,STOP_MONITOR_COMMAND:zl,TEXT_CHANGED:$a,WRITE_FILES_COMMAND:ac,WRITE_FILES_URIS_COMMAND:nc,WRITE_HTML_AND_TEXT_COMMAND:tc,WRITE_HTML_COMMAND:ec,WRITE_IMAGE_BASE64_COMMAND:hc,WRITE_IMAGE_BINARY_COMMAND:pc,WRITE_RTF_COMMAND:rc,WRITE_TEXT_COMMAND:Jl,clear:rg,hasFiles:is,hasHTML:rs,hasImage:as,hasRTF:ns,hasText:ts,isMonitorRunning:hg,listenToClipboard:Sc,listenToMonitorStatusUpdate:mg,onClipboardUpdate:sg,onFilesUpdate:fg,onHTMLUpdate:cg,onImageUpdate:pg,onRTFUpdate:dg,onSomethingUpdate:lg,onTextUpdate:ug,readFiles:us,readFilesURIs:ng,readHtml:os,readImageBase64:Ya,readImageBinary:ls,readImageObjectURL:ag,readRtf:ss,readText:Ha,startBruteForceImageMonitor:og,startBruteForceTextMonitor:ig,startListening:gg,startMonitor:cs,stopMonitor:Ec,writeFiles:xc,writeFilesURIs:tg,writeHtml:vc,writeHtmlAndText:bc,writeImageBase64:_c,writeImageBinary:Ac,writeRtf:wc,writeText:yc});var en=class{constructor(t){this.pid=t}async write(t){await x("plugin:shellx|stdin_write",{pid:this.pid,buffer:typeof t=="string"?t:Array.from(t)})}async kill(){await x("plugin:shellx|kill",{cmd:"killChild",pid:this.pid})}},Jr=class{constructor(){this.eventListeners=Object.create(null)}addListener(t,r){return this.on(t,r)}removeListener(t,r){return this.off(t,r)}on(t,r){return t in this.eventListeners?this.eventListeners[t].push(r):this.eventListeners[t]=[r],this}once(t,r){let n=a=>{this.removeListener(t,n),r(a)};return this.addListener(t,n)}off(t,r){return t in this.eventListeners&&(this.eventListeners[t]=this.eventListeners[t].filter(n=>n!==r)),this}removeAllListeners(t){return t?delete this.eventListeners[t]:this.eventListeners=Object.create(null),this}emit(t,r){if(t in this.eventListeners){let n=this.eventListeners[t];for(let a of n)a(r);return!0}return!1}listenerCount(t){return t in this.eventListeners?this.eventListeners[t].length:0}prependListener(t,r){return t in this.eventListeners?this.eventListeners[t].unshift(r):this.eventListeners[t]=[r],this}prependOnceListener(t,r){let n=a=>{this.removeListener(t,n),r(a)};return this.prependListener(t,n)}},Me=class e extends Jr{constructor(t,r=[],n){super(),this.stdout=new Jr,this.stderr=new Jr,this.program=t,this.args=typeof r=="string"?[r]:r,this.options=n??{}}static create(t,r=[],n){return new e(t,r,n)}static sidecar(t,r=[],n){let a=new e(t,r,n);return a.options.sidecar=!0,a}async spawn(){let t=this.program,r=this.args,n=this.options;typeof r=="object"&&Object.freeze(r);let a=new pt;return a.onmessage=i=>{switch(i.event){case"Error":this.emit("error",i.payload);break;case"Terminated":this.emit("close",i.payload);break;case"Stdout":this.stdout.emit("data",i.payload);break;case"Stderr":this.stderr.emit("data",i.payload);break}},await x("plugin:shellx|spawn",{program:t,args:r,options:n,onEvent:a}).then(i=>new en(i))}async execute(){let t=this.program,r=this.args,n=this.options;return typeof r=="object"&&Object.freeze(r),x("plugin:shellx|execute",{program:t,args:r,options:n})}};function Ic(e){return Me.create("bash",["-c",e])}function Tc(e){return Me.create("powershell",["-Command",e])}function Oc(e){return Me.create("osascript",["-e",e])}function Cc(e){return Me.create("python",["-c",e])}function Nc(e){return Me.create("zsh",["-c",e])}function Rc(e){return Me.create("node",["-e",e])}async function ds(e){return Ic(e).execute()}async function fs(e){return Tc(e).execute()}async function ps(e){return Oc(e).execute()}async function hs(e){return Cc(e).execute()}async function ms(e){return Nc(e).execute()}async function gs(e){return Rc(e).execute()}function za(){return Me.create("powershell.exe",["-Command","echo $env:OS"]).execute().then(e=>e.code===0&&e.stdout.toLowerCase().includes("windows")).catch(()=>!1)}async function ys(e){let t=e.split(" ")[0],n=await za()?"where":"which";return(await Me.create(n,[t]).execute()).code===0}function vs(e,t){return x("plugin:shellx|open",{path:e,with:t})}var yg={eventRawListen(e,t,r){return x("plugin:event|listen",{event:e,target:t,handler:Yr(r)})},eventRawUnlisten:(e,t)=>x("plugin:event|unlisten",{event:e,eventId:t}),eventEmit:po,eventEmitTo:ho,eventOnce:fo},vg={clipboardReadText:ie.readText,clipboardWriteText:ie.writeText,clipboardReadImageBase64:ie.readImageBase64,clipboardReadImageBinary:ie.readImageBinary,clipboardWriteImageBase64:ie.writeImageBase64,clipboardWriteImageBinary:ie.writeImageBinary,clipboardReadFiles:ie.readFiles,clipboardWriteFiles:ie.writeFiles,clipboardReadRtf:ie.readRtf,clipboardWriteRtf:ie.writeRtf,clipboardReadHtml:ie.readHtml,clipboardWriteHtml:ie.writeHtml,clipboardWriteHtmlAndText:ie.writeHtmlAndText,clipboardHasText:ie.hasText,clipboardHasRTF:ie.hasRTF,clipboardHasHTML:ie.hasHTML,clipboardHasImage:ie.hasImage,clipboardHasFiles:ie.hasFiles,clipboardStartMonitor:ie.startMonitor},bg={dialogAsk:vo,dialogConfirm:bo,dialogMessage:yo,dialogOpen:mo,dialogSave:go},wg={notificationIsPermissionGranted:_o,notificationRequestPermission:Ao,notificationSendNotification:So,notificationRegisterActionTypes:Eo,notificationPending:Io,notificationCancel:To,notificationCancelAll:Oo,notificationActive:Co,notificationRemoveActive:No,notificationRemoveAllActive:Ro,notificationCreateChannel:ko,notificationRemoveChannel:Do,notificationChannels:Mo,notificationOnNotificationReceived:Po,notificationOnAction:Lo},xg={fsReadDir:Ea,fsReadFile:Ia,fsReadTextFile:Ta,fsStat:Na,fsLstat:Ra,fsExists:Pa,fsMkdir:Sa,fsCreate:_a,fsCopyFile:Aa,fsRemove:Oa,fsRename:Ca,fsTruncate:ka,fsWriteFile:Da,fsWriteTextFile:async(e,t,r)=>{if(typeof e=="string"&&/(\\\.|\/\.)\w+$/.test(e)){await x("create_dot_file",{filePath:e,codeContent:t});return}return Ma(e,t,r)}},_g={osPlatform:Uo,osArch:Wo,osExeExtension:Vo,osFamily:Bo,osHostname:Ho,osEol:()=>Promise.resolve(Fo()),osVersion:jo,osLocale:$o},Ag={shellExecute:(e,t,r)=>x("plugin:shellx|execute",{program:e,args:t,options:r}),shellKill:e=>x("plugin:shellx|kill",{cmd:"killChild",pid:e}),shellStdinWrite:(e,t)=>x("plugin:shellx|stdin_write",{buffer:e,pid:t}),shellOpen:vs,shellRawSpawn:(e,t,r,n)=>{let a=new pt;return a.onmessage=n,x("plugin:shellx|spawn",{program:e,args:t,options:r,onEvent:a})},shellExecuteBashScript:ds,shellExecutePowershellScript:fs,shellExecuteAppleScript:ps,shellExecutePythonScript:hs,shellExecuteZshScript:ms,shellExecuteNodeScript:gs,shellHasCommand:ys,shellLikelyOnWindows:za},Sg={fetchRawFetch:e=>x("plugin:http|fetch",e),fetchFetchCancel:e=>x("plugin:http|fetch_cancel",{rid:e}),fetchFetchSend:e=>x("plugin:http|fetch_send",{rid:e}),fetchFetchReadBody:e=>x("plugin:http|fetch_read_body",{rid:e})},Eg={appCacheDir:zn,appConfigDir:Vn,appDataDir:Hn,appLocalDataDir:Yn,appLogDir:da,audioDir:Gn,basename:wa,cacheDir:qn,configDir:Zn,dataDir:Kn,delimiter:ha,desktopDir:Xn,dirname:va,documentDir:Qn,downloadDir:Jn,executableDir:ea,extname:ba,fontDir:ta,homeDir:ra,isAbsolute:xa,join:ya,localDataDir:na,normalize:ga,pictureDir:aa,publicDir:ia,resolve:ma,resolveResource:sa,resourceDir:oa,runtimeDir:ua,sep:pa,tempDir:fa,templateDir:la,videoDir:ca},Ig={...vg,...bg,...wg,...xg,..._g,...Ag,...Sg,...yg,...Eg};var bs;(function(e){e.HttpRequestInited="HttpRequestInited",e.HttpRequestResult="HttpRequestResult",e.HttpRawFetch="HttpRawFetch",e.HttpFetchCancel="HttpFetchCancel",e.HttpFetchSend="HttpFetchSend",e.HttpFetchReadBody="HttpFetchReadBody",e.ClipboardHasText="ClipboardHasText",e.ClipboardHasImage="ClipboardHasImage",e.ClipboardHasHtml="ClipboardHasHtml",e.ClipboardHasRtf="ClipboardHasRtf",e.ClipboardHasFiles="ClipboardHasFiles",e.ClipboardWriteText="ClipboardWriteText",e.ClipboardWriteHtml="ClipboardWriteHtml",e.ClipboardWriteHtmlAndText="ClipboardWriteHtmlAndText",e.ClipboardWriteRtf="ClipboardWriteRtf",e.ClipboardWriteFilesUris="ClipboardWriteFilesUris",e.ClipboardWriteFiles="ClipboardWriteFiles",e.ClipboardClear="ClipboardClear",e.ClipboardReadText="ClipboardReadText",e.ClipboardReadHtml="ClipboardReadHtml",e.ClipboardReadRtf="ClipboardReadRtf",e.ClipboardReadFiles="ClipboardReadFiles",e.ClipboardReadFilesUris="ClipboardReadFilesUris",e.ClipboardReadImageBinary="ClipboardReadImageBinary",e.ClipboardReadImageBase64="ClipboardReadImageBase64",e.ClipboardWriteImageBinary="ClipboardWriteImageBinary",e.ClipboardWriteImageBase64="ClipboardWriteImageBase64",e.DialogAsk="DialogAsk",e.DialogConfirm="DialogConfirm",e.DialogMessage="DialogMessage",e.DialogOpen="DialogOpen",e.DialogSave="DialogSave",e.FsReadDir="FsReadDir",e.FsReadFile="FsReadFile",e.FsReadTextFile="FsReadTextFile",e.FsStat="FsStat",e.FsLstat="FsLstat",e.FsExists="FsExists",e.FsMkdir="FsMkdir",e.FsCreate="FsCreate",e.FsCopyFile="FsCopyFile",e.FsRemove="FsRemove",e.FsRename="FsRename",e.FsTruncate="FsTruncate",e.FsWriteFile="FsWriteFile",e.FsWriteTextFile="FsWriteTextFile",e.ShellxExecute="ShellxExecute",e.ShellxKill="ShellxKill",e.ShellxStdinWrite="ShellxStdinWrite",e.ShellxOpen="ShellxOpen",e.ShellxSpawn="ShellxSpawn",e.NotificationSendNotification="NotificationSendNotification",e.NotificationRequestPermission="NotificationRequestPermission",e.NotificationIsPermissionGranted="NotificationIsPermissionGranted",e.OsPlatform="OsPlatform",e.OsArch="OsArch",e.OsExeExtension="OsExeExtension",e.OsFamily="OsFamily",e.OsHostname="OsHostname",e.OsEol="OsEol",e.OsVersion="OsVersion",e.OsLocale="OsLocale"})(bs||(bs={}));function Tg(e){return{readText:e.clipboardReadText,writeText:e.clipboardWriteText,readImageBase64:e.clipboardReadImageBase64,readImageBinary:e.clipboardReadImageBinary,writeImageBase64:e.clipboardWriteImageBase64,writeImageBinary:e.clipboardWriteImageBinary,readFiles:e.clipboardReadFiles,writeFiles:e.clipboardWriteFiles,readRtf:e.clipboardReadRtf,writeRtf:e.clipboardWriteRtf,readHtml:e.clipboardReadHtml,writeHtml:e.clipboardWriteHtml,writeHtmlAndText:e.clipboardWriteHtmlAndText,hasText:e.clipboardHasText,hasRTF:e.clipboardHasRTF,hasHTML:e.clipboardHasHTML,hasImage:e.clipboardHasImage,hasFiles:e.clipboardHasFiles,startMonitor:e.clipboardStartMonitor}}var X_=Tg(te);function Og(e){return{ask:e.dialogAsk,confirm:e.dialogConfirm,message:e.dialogMessage,open:e.dialogOpen,save:e.dialogSave}}var rA=Og(te);function Cg(e){return{readDir:e.fsReadDir,readFile:e.fsReadFile,readTextFile:e.fsReadTextFile,stat:e.fsStat,lstat:e.fsLstat,exists:e.fsExists,mkdir:e.fsMkdir,create:e.fsCreate,copyFile:e.fsCopyFile,remove:e.fsRemove,rename:e.fsRename,truncate:e.fsTruncate,writeFile:e.fsWriteFile,writeTextFile:e.fsWriteTextFile}}var Ng=Cg(te),Rg={readDir:Ea,readFile:Ia,readTextFile:Ta,stat:Na,lstat:Ra,exists:Pa,mkdir:Sa,create:_a,copyFile:Aa,remove:Oa,rename:Ca,truncate:ka,writeFile:Da,writeTextFile:Ma},Ae=je?Rg:Ng;function kg(e){return{sendNotification:e.notificationSendNotification,requestPermission:e.notificationRequestPermission,isPermissionGranted:e.notificationIsPermissionGranted,registerActionTypes:e.notificationRegisterActionTypes,pending:e.notificationPending,cancel:e.notificationCancel,cancelAll:e.notificationCancelAll,active:e.notificationActive,removeActive:e.notificationRemoveActive,removeAllActive:e.notificationRemoveAllActive,createChannel:e.notificationCreateChannel,removeChannel:e.notificationRemoveChannel,channels:e.notificationChannels,onNotificationReceived:t=>e.notificationOnNotificationReceived(ft(t)),onAction:t=>e.notificationOnAction(ft(t))}}var pA=kg(te);function Dg(e){return{platform:e.osPlatform,arch:e.osArch,exeExtension:e.osExeExtension,family:e.osFamily,hostname:e.osHostname,eol:e.osEol,version:e.osVersion,locale:e.osLocale}}var yA=Dg(te);function Mg(e){return{execute:e.shellExecute,kill:e.shellKill,stdinWrite:e.shellStdinWrite,open:e.shellOpen,rawSpawn:e.shellRawSpawn,makeBashScript:Pg,makePowershellScript:Lg,makeAppleScript:Fg,makePythonScript:Ug,makeZshScript:jg,makeNodeScript:Bg,executeBashScript:e.shellExecuteBashScript,executePowershellScript:e.shellExecutePowershellScript,executeAppleScript:e.shellExecuteAppleScript,executePythonScript:e.shellExecutePythonScript,executeZshScript:e.shellExecuteZshScript,executeNodeScript:e.shellExecuteNodeScript,hasCommand:e.shellHasCommand,likelyOnWindows:e.shellLikelyOnWindows}}var yr=Mg(te),Ga=class extends en{write(t){return yr.stdinWrite(typeof t=="string"?t:Array.from(t),this.pid)}kill(){return yr.kill(this.pid)}},Qe=class e extends Me{static create(t,r=[],n){return new e(t,r,n)}async spawn(){let t=this.args;return typeof t=="object"&&Object.freeze(t),yr.rawSpawn(this.program,t,this.options,ft(r=>{switch(r.event){case"Error":this.emit("error",r.payload);break;case"Terminated":this.emit("close",r.payload);break;case"Stdout":this.stdout.emit("data",r.payload);break;case"Stderr":this.stderr.emit("data",r.payload);break}})).then(r=>new Ga(r))}async execute(){let t=this.program,r=this.args,n=this.options;return typeof r=="object"&&Object.freeze(r),yr.execute(t,r,n)}};function Pg(e){return Qe.create("bash",["-c",e])}function Lg(e){return Qe.create("powershell",["-Command",e])}function Fg(e){return Qe.create("osascript",["-e",e])}function Ug(e){return Qe.create("python",["-c",e])}function jg(e){return Qe.create("zsh",["-c",e])}function Bg(e){return Qe.create("node",["-e",e])}yr.open;var _A={...yr,Command:Qe,Child:Ga};function Wg(e){return{appCacheDir:e.appCacheDir,appConfigDir:e.appConfigDir,appDataDir:e.appDataDir,appLocalDataDir:e.appLocalDataDir,appLogDir:e.appLogDir,audioDir:e.audioDir,basename:e.basename,cacheDir:e.cacheDir,configDir:e.configDir,dataDir:e.dataDir,delimiter:e.delimiter,desktopDir:e.desktopDir,dirname:e.dirname,documentDir:e.documentDir,downloadDir:e.downloadDir,executableDir:e.downloadDir,extname:e.extname,fontDir:e.fontDir,homeDir:e.homeDir,isAbsolute:e.isAbsolute,join:e.join,localDataDir:e.localDataDir,normalize:e.normalize,pictureDir:e.pictureDir,publicDir:e.publicDir,resolve:e.resolve,resolveResource:e.resolveResource,resourceDir:e.resourceDir,runtimeDir:e.runtimeDir,sep:e.sep,tempDir:e.tempDir,templateDir:e.templateDir,videoDir:e.videoDir}}var $g=Wg(te),Vg={appCacheDir:zn,appConfigDir:Vn,appDataDir:Hn,appLocalDataDir:Yn,appLogDir:da,audioDir:Gn,basename:wa,cacheDir:qn,configDir:Zn,dataDir:Kn,delimiter:ha,desktopDir:Xn,dirname:va,documentDir:Qn,downloadDir:Jn,executableDir:ea,extname:ba,fontDir:ta,homeDir:ra,isAbsolute:xa,join:ya,localDataDir:na,normalize:ga,pictureDir:aa,publicDir:ia,resolve:ma,resolveResource:sa,resourceDir:oa,runtimeDir:ua,sep:pa,tempDir:fa,templateDir:la,videoDir:ca},Fe=je?Vg:$g;var NA={rawFetch:te.fetchRawFetch,fetchCancel:te.fetchFetchCancel,fetchSend:te.fetchFetchSend,fetchReadBody:te.fetchFetchReadBody};function Hg(e){return{rawListen:(t,r,n)=>e.eventRawListen(t,r,ft(n)),rawUnlisten:(t,r)=>e.eventRawUnlisten(t,r),emit:(t,r)=>e.eventEmit(t,r),emitTo:(t,r,n)=>e.eventEmitTo(t,r,n),once:(t,r,n)=>e.eventOnce(t,r,n)}}var tn=Hg(te),kc=async function(t,r,n){let a=typeof n?.target=="string"?{kind:"AnyLabel",label:n.target}:n?.target??{kind:"Any"};return tn.rawListen(t,a,r).then(i=>async()=>{tn.rawUnlisten(t,i)})},Yg={emit:tn.emit,emitTo:tn.emitTo,once:tn.once,listen:kc};function qa(e=""){return e.trim().replace(/\s+/g,"-").toLowerCase()}function ws(e=""){return e.replace(/^[a-z]/,t=>t.toUpperCase())}var Dc=`node_modules
.DS_Store
dist
*.log
.penx`,Mc=`{
  "semi": false,
  "tabWidth": 2,
  "singleQuote": true,
  "trailingComma": "all",
  "printWidth": 80
}`,Pc=`{
  "compilerOptions": {
    "target": "es2020",
    "module": "esnext",
    "strict": true,
    "lib": ["ESNext", "DOM"],
    "esModuleInterop": true,
    "moduleResolution": "node",
    "skipLibCheck": true,
    "noUnusedLocals": true,
    "noImplicitAny": true,
    "jsx": "react-jsx",
    "allowJs": true,
    "noEmit": true,
    "outDir": "dist",
    "resolveJsonModule": true
  }
}`;var zg=`import { IListItem, ListApp } from '@penxio/preset-ui'

export async function main() {
  const app = new ListApp({
    items: [],
  }).run()

  const items: IListItem[] = Array(10)
    .fill('')
    .map((_, index) => ({
      icon: index + 1,
      title: 100 + index.toString(),
      actions: [{ type: 'CopyToClipboard', content: index.toString() }],
    }))

  setTimeout(() => {
    app.setState({
      items,
    })
  }, 1)
}`,Gg=`import { IListItem, ListApp } from '@penxio/preset-ui'

export async function main() {
  const app = new ListApp({
    items: [],
  }).run()

  const items: IListItem[] = Array(10)
    .fill('')
    .map((_, index) => ({
      icon: index + 1,
      title: 100 + index.toString(),
      actions: [{ type: 'CopyToClipboard', content: index.toString() }],
    }))

  setTimeout(() => {
    app.setState({
      items,
    })
  }, 1)
}`,qg=`import { MarkdownApp } from '@penxio/preset-ui'

export async function main() {
  new MarkdownApp({ content: '# Hello world' }).run()
}`,Lc={markdown:qg,list:zg,form:Gg};function Fc(e){return`{
  "name": "${e}",
  "private": true,
  "scripts": {
    "dev": "penx dev",
    "release": "penx release"
  },
  "devDependencies": {
    "@penxio/preset-ui": "latest",
    "@penxio/api": "latest",
    "penx-cli": "latest",
    "prettier": "^3.2.5",
    "typescript": "^5.3.2"
  }
}`}function Uc(e,t=""){return`{
  "name": "${qa(t)}",
  "title": "${ws(t)}",
  "description": "This is a ${e} demo.",
  "icon": {
    "name": "lucide--moon",
    "className": "bg-gradient-to-r from-violet-500 to-fuchsia-500"
  },
  "commands": [
    {
      "name": "${e}",
      "title": "${ws(e)} App",
      "icon": {
        "name": "lucide--pilcrow",
        "className": "bg-gradient-to-r from-rose-500 to-purple-500"
      },
      "mode": "preset-ui"
    }
  ]
}`}function Zg(e,t,r){let n=t<0?e.length+t:t;if(n>=0&&n<e.length){let a=r<0?e.length+r:r,[i]=e.splice(t,1);e.splice(a,0,i)}}function jc(e,t,r){return e=[...e],Zg(e,t,r),e}var Wc={},he=typeof process<"u"?process.env:typeof Wc.env<"u"?Wc?.env:{},_S=he.NEXT_PUBLIC_DEFAULT_THEME||"dark";var Kg=typeof window>"u";var AS=he.NODE_ENV==="production";var $c="PENX_SESSION_DATA";var vr="__TODO__",br="__FILE__";var Za="acee1a5c-8e36-4a5f-846d-860566086e23";var SS=he.NEXT_PUBLIC_DEPLOY_MODE!=="PLATFORM",ES=he.NEXT_PUBLIC_IS_SYNC_ENABLED==="true",IS=he.NEXT_PUBLIC_NEXTAUTH_PROVIDERS,TS=he.NEXT_PUBLIC_PLATFORM||he.PLASMO_PUBLIC_PLATFORM,Bc=he.NEXT_PUBLIC_API_BASE_URL||he.NEXT_PUBLIC_NEXTAUTH_URL||he.VITE_API_URL||he.PLASMO_PUBLIC_BASE_URL,OS=Bc||(Kg?"":`${location.protocol}//${location.host}`);var CS=he.NEXT_PUBLIC_NETWORK,NS={LOCAL:he.NEXT_PUBLIC_LOCAL_RPC_URL,DEVELOP:he.NEXT_PUBLIC_DEVELOP_RPC_URL,SEPOLIA:he.NEXT_PUBLIC_SEPOLIA_RPC_URL,MAINNET:he.NEXT_PUBLIC_DEVELOP_RPC_URL};var Vc="p";var Ka,Xg=new Uint8Array(16);function xs(){if(!Ka&&(Ka=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!Ka))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Ka(Xg)}var fe=[];for(let e=0;e<256;++e)fe.push((e+256).toString(16).slice(1));function Hc(e,t=0){return fe[e[t+0]]+fe[e[t+1]]+fe[e[t+2]]+fe[e[t+3]]+"-"+fe[e[t+4]]+fe[e[t+5]]+"-"+fe[e[t+6]]+fe[e[t+7]]+"-"+fe[e[t+8]]+fe[e[t+9]]+"-"+fe[e[t+10]]+fe[e[t+11]]+fe[e[t+12]]+fe[e[t+13]]+fe[e[t+14]]+fe[e[t+15]]}var Qg=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),_s={randomUUID:Qg};function Jg(e,t,r){if(_s.randomUUID&&!t&&!e)return _s.randomUUID();e=e||{};let n=e.random||(e.rng||xs)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,t){r=r||0;for(let a=0;a<16;++a)t[r+a]=n[a];return t}return Hc(n)}var As=Jg;function me(){return As()}function Yc(e=""){return e.trim().replace(/\s+/g,"-").toLowerCase()}var qt=Nt(Cs());var Us=Nt(ud());var dd=Nt(ei()),Rs=Nt(ei());var cd,an=typeof window=="object"&&typeof document=="object"&&document.nodeType===9&&!!((cd=document.head)!=null&&cd.append);function _r(e){return e===void 0&&(e=""),e.replace(/^[a-z]/,function(t){return t.toUpperCase()})}function ue(e){return e===void 0&&(e=""),e.replace(/^[A-Z]/,function(t){return t.toLowerCase()})}function ce(e){return ue(e).replace(/[A-Z]/g,function(t){return"-"+t.toLowerCase()}).replace(/-+/g,"-")}function fd(e){return e.replace(/(?:^\w|[A-Z]|\b\w)/g,function(t,r){return r===0?t.toLowerCase():t.toUpperCase()}).replace(/(\s+|-|_)/g,"")}function on(e){return/^-?[0-9.]+$/.test(e)}function pd(e){return/^-?\d+p$/.test(e)}function ti(e){return!e||!Object.keys(e).length}function Ar(e){return/^[A-Z].+$/.test(e)?"-"+ce(e):ce(e)}function Ns(e,t){t===void 0&&(t="css-");var r=(0,dd.default)(JSON.stringify(e));return t+r}function ks(){return ks=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ks.apply(this,arguments)}function hd(e){return/^::?.+/.test(e)}function Ds(e,t,r){for(var n=[],a=Object.keys(e),i=function(){var c=u[s],d=e[c];if(typeof d!="object"){var f,p,g=r?[r,(f={},f[c]=d,f)]:[(p={},p[c]=d,p)];return n.push(g),0}if(Array.isArray(d)){var h;if(t){var y=Object.keys(t),m=d.reduce(function(b,S,v){var _,w=""+c+(v===0?"":"--"+y[v-1]);return ks({},b,(_={},_[w]=S,_))},{});return n=[].concat(n,Ds(m,t,r)),0}return n.push([(h={},h[c]=d,h)]),0}n=[].concat(n,Ds(d,t,c))},o,s=0,u=a;s<u.length;s++)o=i();return n}function md(e,t){var r=Ds(e,t,null),n=r.reduce(function(a,i){var o=i.pop(),s=i.reduce(function(l,c){return hd(c)?""+l+c:l+" "+c},"").trim(),u="child";return hd(s)&&(u="pseudo"),s===""&&(u="void"),s.startsWith("&")&&(u="sibling",s=s.replace(/^&/,"")),[].concat(a,[{selector:s,style:o,selectorType:u}])},[]);return n}var Ms;(function(e){e.transparent="rgba(0,0,0,0)",e.black="#000000",e.silver="#C0C0C0",e.gray="#808080",e.white="#FFFFFF",e.maroon="#800000",e.red="#FF0000",e.purple="#800080",e.fuchsia="#FF00FF",e.green="#008000",e.lime="#00FF00",e.olive="#808000",e.yellow="#FFFF00",e.navy="#000080",e.blue="#0000FF",e.teal="#008080",e.aqua="#00FFFF",e.aliceblue="#f0f8ff",e.antiquewhite="#faebd7",e.aquamarine="#7fffd4",e.azure="#f0ffff",e.beige="#f5f5dc",e.bisque="#ffe4c4",e.blanchedalmond="#ffebcd",e.blueviolet="#8a2be2",e.brown="#a52a2a",e.burlywood="#deb887",e.cadetblue="#5f9ea0",e.chartreuse="#7fff00",e.chocolate="#d2691e",e.coral="#ff7f50",e.cornflowerblue="#6495ed",e.cornsilk="#fff8dc",e.crimson="#dc143c",e.cyan="#00ffff",e.darkblue="#00008b",e.darkcyan="#008b8b",e.darkgoldenrod="#b8860b",e.darkgray="#a9a9a9",e.darkgreen="#006400",e.darkgrey="#a9a9a9",e.darkkhaki="#bdb76b",e.darkmagenta="#8b008b",e.darkolivegreen="#556b2f",e.darkorange="#ff8c00",e.darkorchid="#9932cc",e.darkred="#8b0000",e.darksalmon="#e9967a",e.darkseagreen="#8fbc8f",e.darkslateblue="#483d8b",e.darkslategray="#2f4f4f",e.darkslategrey="#2f4f4f",e.darkturquoise="#00ced1",e.darkviolet="#9400d3",e.deeppink="#ff1493",e.deepskyblue="#00bfff",e.dimgray="#696969",e.dimgrey="#696969",e.dodgerblue="#1e90ff",e.firebrick="#b22222",e.floralwhite="#fffaf0",e.forestgreen="#228b22",e.gainsboro="#dcdcdc",e.ghostwhite="#f8f8ff",e.gold="#ffd700",e.goldenrod="#daa520",e.greenyellow="#adff2f",e.grey="#808080",e.honeydew="#f0fff0",e.hotpink="#ff69b4",e.indianred="#cd5c5c",e.indigo="#4b0082",e.ivory="#fffff0",e.khaki="#f0e68c",e.lavender="#e6e6fa",e.lavenderblush="#fff0f5",e.lawngreen="#7cfc00",e.lemonchiffon="#fffacd",e.lightblue="#add8e6",e.lightcoral="#f08080",e.lightcyan="#e0ffff",e.lightgoldenrodyellow="#fafad2",e.lightgray="#d3d3d3",e.lightgreen="#90ee90",e.lightgrey="#d3d3d3",e.lightpink="#ffb6c1",e.lightsalmon="#ffa07a",e.lightseagreen="#20b2aa",e.lightskyblue="#87cefa",e.lightslategray="#778899",e.lightslategrey="#778899",e.lightsteelblue="#b0c4de",e.lightyellow="#ffffe0",e.limegreen="#32cd32",e.linen="#faf0e6",e.magenta="#ff00ff",e.mediumaquamarine="#66cdaa",e.mediumblue="#0000cd",e.mediumorchid="#ba55d3",e.mediumpurple="#9370db",e.mediumseagreen="#3cb371",e.mediumslateblue="#7b68ee",e.mediumspringgreen="#00fa9a",e.mediumturquoise="#48d1cc",e.mediumvioletred="#c71585",e.midnightblue="#191970",e.mintcream="#f5fffa",e.mistyrose="#ffe4e1",e.moccasin="#ffe4b5",e.navajowhite="#ffdead",e.oldlace="#fdf5e6",e.olivedrab="#6b8e23",e.orange="#ffa500",e.orangered="#ff4500",e.orchid="#da70d6",e.palegoldenrod="#eee8aa",e.palegreen="#98fb98",e.paleturquoise="#afeeee",e.palevioletred="#db7093",e.papayawhip="#ffefd5",e.peachpuff="#ffdab9",e.peru="#cd853f",e.pink="#ffc0cb",e.plum="#dda0dd",e.powderblue="#b0e0e6",e.rosybrown="#bc8f8f",e.royalblue="#4169e1",e.saddlebrown="#8b4513",e.salmon="#fa8072",e.sandybrown="#f4a460",e.seagreen="#2e8b57",e.seashell="#fff5ee",e.sienna="#a0522d",e.skyblue="#87ceeb",e.slateblue="#6a5acd",e.slategray="#708090",e.snow="#fffafa",e.springgreen="#00ff7f",e.steelblue="#4682b4",e.tan="#d2b48c",e.thistle="#d8bfd8",e.tomato="#ff6347",e.turquoise="#40e0d0",e.violet="#ee82ee",e.wheat="#f5deb3",e.whitesmoke="#f5f5f5",e.yellowgreen="#9acd32"})(Ms||(Ms={}));function Ls(e){return typeof e!="string"?!1:(e=e.toLowerCase(),/^#([0-9a-fA-f]{3}|[0-9a-fA-f]{6})$/.test(e))}function Cy(e){return typeof e!="string"?!1:(e=e.toLowerCase(),/^(rgba|RGBA)/.test(e))}function Ny(e){return/^(rgb|rgba|RGB|RGBA)/.test(e)}function Ry(e){return Ms[e]}function gd(e){if(Ls(e)||Ny(e))return e;var t=Ry(e);if(!t)throw new Error("Color: Invalid Input of "+e);return t}function ky(e){e=e.replace("#",""),e.length===3&&(e=Array.from(e).map(function(r){return r+r}).join(""));var t=e.split("");return new Array(3).fill(0).map(function(r,n){return parseInt("0x"+t[n*2]+t[n*2+1])})}function Dy(e){return e.replace(/rgb\(|rgba\(|\)/g,"").split(",").slice(0,3).map(function(t){return parseInt(t)})}function yd(e){var t=gd(e),r=t.toLowerCase();return Ls(r)?ky(r):Dy(r)}function My(e){var t=gd(e);return Cy(t)?Number(t.toLowerCase().split(",").slice(-1)[0].replace(/[)|\s]/g,"")):1}function Fs(e){var t=yd(e);return t&&[].concat(t,[My(e)])}function Ps(e){if(Ls(e))return e;var t=yd(e),r=function(a){return Number(a).toString(16).padStart(2,"0")};return"#"+t.map(r).join("")}function vd(e){if(!Array.isArray(e))throw new Error("getColorFromRgbValue: "+e+" is not an array");var t=e.length;if(t!==3&&t!==4)throw new Error("getColorFromRgbValue: value length should be 3 or 4");return(t===3?"rgb(":"rgba(")+e.join(",")+")"}function Py(e,t){t===void 0&&(t=0);var r=Fs(e);return r=r.map(function(n,a){return a===3?n:n-Math.ceil(2.55*t)}).map(function(n){return n<0?0:n}),vd(r)}function Ly(e,t){t===void 0&&(t=0);var r=Fs(e);return r=r.map(function(n,a){return a===3?n:n+Math.ceil(2.55*t)}).map(function(n){return n>255?255:n}),vd(r)}function bd(e,t){t===void 0&&(t=0);var r=Fs(e),n=r[0],a=r[1],i=r[2],o=r[3],s=o===void 0?0:o,u=s+t/100,l=[n,a,i];return u>=1?Ps("rgb("+l.join(",")+")"):typeof u=="number"?"rgba("+l.join(",")+","+u+")":"rgb("+l.join(",")+")"}function Fy(e,t){return t===void 0&&(t=0),bd(e,t)}function Uy(e,t){return t===void 0&&(t=0),bd(e,-t)}function jy(e,t){var r=e,n="",a="",i=t.match(/^([TOLD])?(\d{0,3})?$/i)||[];return n=i[1],a=i[2],{color:r,type:n,amount:Number(a)}}function ri(e,t){var r=/^rgba?\(.*\)|^#([A-F0-9]{3}){1,2}$/i.test(e);if(!r)return e;var n=jy(e,t),a=n.color,i=n.type,o=n.amount;return/^t$/i.test(i)?Uy(a,o):/^o$/i.test(i)?Fy(a,o):/^d$/i.test(i)?Ps(Py(a,o)):/^l$/i.test(i)?Ps(Ly(a,o)):a}var js=Nt(ei());function wd(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Vy(n.key),n)}}function Bs(e,t,r){return t&&wd(e.prototype,t),r&&wd(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Pe(){return Pe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Pe.apply(this,arguments)}function xd(e,t){if(e==null)return{};var r={},n=Object.keys(e),a,i;for(i=0;i<n.length;i++)a=n[i],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function Wy(e,t){if(e){if(typeof e=="string")return _d(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _d(e,t)}}function _d(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function vt(e,t){var r=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r)return(r=r.call(e)).next.bind(r);if(Array.isArray(e)||(r=Wy(e))||t&&e&&typeof e.length=="number"){r&&(e=r);var n=0;return function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $y(e,t){if(typeof e!="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Vy(e){var t=$y(e,"string");return typeof t=="symbol"?t:String(t)}var Hy="fower-mode",Yy=function(){function e(){var t=this;this.config={unit:"px",objectPropKeys:["css"],inline:!1,important:!1,mode:{currentMode:"light",autoDarkMode:{enabled:!1,mappings:{white:"black",black:"white",50:"900",100:"800",200:"700",300:"600",400:"500",500:"400",600:"300",700:"200",800:"100",900:"50"}},modeList:["light","dark"],classPrefix:""},prefix:"",pseudos:["active","checked","disabled","enabled","default","empty","focus","focus-within","invalid","hover","link","visited","first-child","last-child","after","before","placeholder","selection"],theme:{breakpoints:{},colors:{},spacings:{}},plugins:[]},this.atomCache=new Map,this.getAtomIds=function(){return Array.from(t.atomCache.keys())},this.compositions=new Map,this.getConfig=function(){return t.config},this.setConfig=function(r,n){n===void 0&&(n="deepmerge"),n==="replace"?t.config=r:n==="merge"?t.config=Pe({},t.config,r):(t.config=(0,Us.default)(t.config,r),r.objectPropKeys&&(t.config.objectPropKeys=r.objectPropKeys))},this.getTheme=function(){return t.config.theme},this.setTheme=function(r){t.config.theme=(0,Us.default)(t.config.theme||{},r)},this.getMode=function(){var r;return((r=t.config.mode)==null?void 0:r.currentMode)||""},this.setMode=function(r){if(an){var n=t.config.mode.currentMode;n&&document.documentElement.classList.remove(n),r&&document.documentElement.classList.add(r),localStorage.setItem(Hy,r),t.setConfig({mode:{currentMode:r}})}},this.use=function(){var r;(r=t.config.plugins).push.apply(r,arguments)},this.addAtom=function(r,n){var a={isMatch:function(o){return typeof r=="string"?o===r:r instanceof RegExp?r.test(o):!1},handleAtom:typeof n=="function"?n:function(i){return i.style=n,i}};return t.use(a),a},this.composeAtom=function(r,n){t.compositions.set(r,n)}}return Bs(e,[{key:"theme",get:function(){return this.config.theme}}]),e}(),Z=new Yy,zy=["pseudoPrefix","childSelector","important"],Gy=["colorPostfix"],Ad=["excludedProps"],qy=/^(m[xytrbl]?-?|p[xytrbl]?|gap[xy]?|space[xy]?|top-?|right-?|bottom-?|left-?|[wh]|square|circle|min[hw]|max[hw]|opacity|delay|duration|translate[xyz]|scale[xy]?|rotate[xy]?|skew[xy]?|text|zIndex-?|leading|stroke|fontWeight|outlineOffset|order|flex(Grow|Shrink|Basis)?|(row|column)?Gap|gridTemplateColumns|border(Top|Right|Bottom|Left)?|rounded(Top(Left|Right)?|Right|Bottom(Left|Right)?|Left)?)(-?\d+[a-z]*?|-auto)$/i,Se=function(){function e(r,n){var a=this;n===void 0&&(n=!0),this.options=r,this.autoSetId=n,this.props={},this.propKeys=[],this.value="",this.id="",this.type="",this.setId=function(){var i=a.meta,o=a.key,s=a.value,u=i.important,l=xd(i,zy),c=Object.values(l).sort();u&&c.push("i");var d="";if(i.global)return d=(0,js.default)(JSON.stringify(s)).toString(),a.id=d,d;if(typeof s=="boolean"&&s===!0)d=o;else if(Array.isArray(s)){var f=s.join("-");d=o+"-"+f}else typeof s=="function"?d=o+"-"+s(a.props):d=o+"-"+String(s);c.length&&(d=d+"--"+c.join("--")),d=d.replace(/[#()"']/g,"").replace(".","_").replace(/\%/g,"p").replace(/\s+/g,"-"),a.isFalsyPropValue&&(d=d+"--false"),i.childSelector&&(d=i.childSelector+"-"+d);var p=/^[a-zA-Z0-9-_]+$/.test(d);return d=p?d:"css-"+(0,js.default)(d),a.id=d,d},this.propKey=r.propKey,this.propValue=r.propValue,this.propKeys=[this.propKey],this.key=r.key||this.propKey,this.value=r.value||this.propValue,this.style=r.style||{},this.props=r.props||{},this.handled=this.getInitialHandled(),this.isValid=this.getIsValid(),this.inserted=!1,this.meta=Pe({},r.meta)||{},this.type=r.type||"",this.preprocessAtom()}var t=e.prototype;return t.preprocessAtom=function(){var n=this.postfixPreprocessor();return this.autoSetId&&this.setId(),n},t.postfixPreprocessor=function(){var n="--",a=["after","before","placeholder","selection"],i=Z.config,o=i.pseudos,s=o===void 0?[]:o,u=i.theme,l=i.mode,c=l.modeList,d=u.breakpoints,f=this.propKey,p=this.propValue,g=Object.keys(d),h=c||[],y=s,m=n+"("+g.join("|")+")",b=n+"("+h.join("|")+")",S=n+"("+y.join("|")+")",v=new RegExp(b),_=new RegExp(S),w=new RegExp(m),E=/--i/i,C=/--[told](\d{1,2}|100)($|--)/i,k=/--\$\w+/i;if(C.test(p)){var U=p.split("--"),N=U[0],q=U[1];this.value=N,this.meta.colorPostfix=q}var M=v.test(f),re=_.test(f),H=w.test(f),Q=E.test(f),ae=C.test(f),se=k.test(f),Ot=M||re||H||Q||ae;if(!Ot)return this.digitPreprocessor();var Ge=f.split(n);if(this.key=Ge[0],M&&(this.meta.mode=Ge.find(function(Ie){return h.includes(Ie)})),re){var ir=Ge.find(function(Ie){return y.includes(Ie)});this.meta.pseudoPrefix=a.includes(ir)?"::":":",this.meta.pseudo=ir}if(H){var dt=Ge.find(function(Ie){return g.includes(Ie)});this.meta.breakpoint=dt}if(Q&&(this.meta.important=!!Ge.find(function(Ie){return Ie==="i"})),ae&&(this.meta.colorPostfix=Ge.find(function(Ie){return C.test("--"+Ie)})),se){var $r;this.meta.parentClass=($r=Ge.find(function(Ie){return Ie.startsWith("$")}))==null?void 0:$r.replace(/^\$/,"")}return this.digitPreprocessor(),this},t.digitPreprocessor=function(){if(!qy.test(this.key))return this;var n=Z.config.theme.spacings,a=/^([a-z]+)(\d+)$/i.test(this.key),i=this.key.toString(),o=i.match(/^([a-z]+)(\d+)$/i)||i.match(/^([a-z]*)-(-?\d+[a-z]*?)$/i)||i.match(/^([a-z]+)-(auto)$/i);if(!o)return this;var s=o[1],u=o[2];return this.key=s,this.value=a?n[""+u.toLowerCase()]:u,this},t.getInitialHandled=function(){return this.options.handled?this.options.handled:!!(this.isFalsyPropValue||Ad.includes(this.propKey))},t.getIsValid=function(){return!(this.isFalsyPropValue||Ad.includes(this.propKey))},Bs(e,[{key:"isValueProp",get:function(){return typeof this.propValue=="string"||typeof this.propValue=="number"}},{key:"styleKeys",get:function(){return Object.keys(this.style||{}).join("-")}},{key:"styleKeysHash",get:function(){var n=this.meta,a=xd(n,Gy);return Object.keys(this.style||{}).join("-")+JSON.stringify(a)}},{key:"isFalsyPropValue",get:function(){return this.propValue===void 0||this.propValue===null?!0:typeof this.propValue=="boolean"&&!this.propValue}},{key:"isTruePropValue",get:function(){return typeof this.propValue=="boolean"&&this.propValue}}]),e}(),Zy=function(){function e(){if(this.$style=null,this.cssString="",this.ssrAtomIds=null,an){var r;this.$style=(r=globalThis.document)==null||r.querySelector==null?void 0:r.querySelector("[data-fower]")}}var t=e.prototype;return t.createStyleElement=function(){var n=document.createElement("style");return n.dataset.fower="",document.head.append(n),n},t.getSsrAtomIds=function(){var n;return this.$style?this.ssrAtomIds?this.ssrAtomIds:((n=this.$style)==null||(n=n.dataset.fower)==null?void 0:n.split(","))||[]:[]},t.insertStyleToHtml=function(n){if(an){this.$style||(this.$style=this.createStyleElement());for(var a=vt(n),i;!(i=a()).done;){var o=i.value;try{this.$style.sheet.insertRule(o)}catch(s){console.warn(s)}}}},t.insertStyles=function(n){if(n===void 0&&(n=[]),!!n.length){if(an)return this.insertStyleToHtml(n);this.cssString=this.cssString+" "+n.join(" ")}},t.getStyle=function(){return this.cssString},e}(),ni=new Zy,Ky=/(-columns|(^|[^e]-)padding|[^t]-spacing|l-align|rows|(^|(^border|[dkmnptx]|le|ne)-)width|^border|tom|[ek]-start|(o|[^e]-du)ration|us|(^|[^tv]-)left|(^|-)top|tance|rgin|e-offset|(er|g|n|t)-block|(^|[^tv]-)right|basis|[gnt]-inline|gap|(^|[^e]-)height|ness|(^|[^p]-)inset|[ek]-end|elay|tline|ve|dent|-rotate|n-rule|(c|ck|d|ne|t)-size)$/;function Xy(e){return Ky.test(e)}var Sd=["color","backgroundColor","borderColor"],Qy=["children","onClick","onChange","onBlur","id","className","style","title","tabIndex","placeholder","href","src","contentEditable","defaultChecked","defaultValue"],ai=function(){function e(r){var n;r===void 0&&(r={}),this.props=r,this.atoms=[],this.data={},this.getClassNameById=function(a){return Z.config.prefix+a},this.traverseProps(r),(n=Z.config.mode)!=null&&(n=n.autoDarkMode)!=null&&n.enabled&&this.createAutoDarkModeAtom()}var t=e.prototype;return t.traverseProps=function(n){if(!ti(n)){for(var a=n.excludedProps,i=a===void 0?[]:a,o=Object.entries(n),s=vt(this.plugins),u;!(u=s()).done;){var l=u.value;l.init&&l.init(n)}for(var c=0,d=o;c<d.length;c++){var f,p=d[c],g=p[0],h=p[1];if(!i.includes(g)&&!Qy.includes(g)&&this.isValidProp(g,h)){if((f=this.config.objectPropKeys)!=null&&f.includes(g)){this.parseObjectProp(h,{});continue}if(Array.isArray(h)&&!(/^bgGradient[XY].*/i.test(g)&&!Array.isArray(h[0]))){this.parseResponsiveValue(g,h);continue}var y=Z.compositions.get(g);if(y){this.parseObjectProp(y,{});var m=new Se({propKey:g,propValue:h,props:this.props});m.handled=!0,m.style={},this.addAtom(m);continue}var b=new Se({propKey:g,propValue:h,props:this.props},!1);try{this.mutateAtom(b),b.handled&&this.addAtom(b)}catch{continue}}}for(var S=vt(this.plugins),v;!(v=S()).done;){var _=v.value;_.afterAtomStyleCreate&&_.afterAtomStyleCreate(this)}}},t.getAutoDarkModeAtom=function(n){var a;if(n.meta.mode||!n.style)return null;var i=Object.entries(n.style);if(!(i!=null&&i.length))return null;var o={},s="",u=Z.config,l=u.mode.autoDarkMode.mappings,c=u.theme.colors,d=i[0],f=d[0],p=d[1];if(!Sd.includes(f)||!c[p])return null;var g=p.match(/^([a-z]+)(\d+)$/i)||[],h=g[2];if(l[p]===!1)return null;l[n.propKey]?s=l[n.propKey]:l[p]?s=l[p]:s=p.replace(h,l[h]);var y=f==="color",m=f==="backgroundColor",b=f==="borderColor";return c[s]?(y?(o.propKey=s,o.type="color"):m?(o.propKey="bg"+_r(s),o.type="backgroundColor"):b&&(o.propKey="border"+_r(s),o.type="borderColor"),o.propValue=!0):y?(o.propKey="color",o.propValue=s):m?(o.propKey="bg",o.propValue=s):b&&(o.propKey="borderColor",o.propValue=s),o.style=(a={},a[f]=s,a),new Se(Pe({},o,{props:this.props,meta:Pe({},n.meta,{mode:"dark"})}))},t.createAutoDarkModeAtom=function(){for(var n=this,a=function(){var l,c=s.value;if(!c.isValid||((l=c.meta)==null?void 0:l.mode)==="dark"||!Sd.includes(c.type))return 0;var d=n.atoms.find(function(g){return c.type===g.type&&g.meta.mode==="dark"&&!Reflect.has(g.meta,"pseudo")&&!Reflect.has(g.meta,"childSelector")});if(d)return 0;var f=n.getAutoDarkModeAtom(c);if(!f)return 0;var p=Z.atomCache.get(f.id);p?n.addAtom(p):n.addAtom(f)},i,o=vt(this.atoms),s;!(s=o()).done;)i=a()},t.formatCssValue=function(n,a){if(!Xy(n))return a;var i=a;if(pd(String(a)))return String(a).replace("p","%");if(!on(a))return a;if(i=Number(a),i<1&&i>0)return i*100+"%";var o=Z.config;return o.unit!=="none"?o.transformUnit?o.transformUnit(i):a+Z.config.unit:i},t.styleToString=function(n,a){var i=this,o=a.important,s=a.colorPostfix;return Object.entries(n).reduce(function(u,l){var c=l[0],d=l[1];c=c.replace(/\-\-.+/,"");var f=Ar(c),p=o?" !important":"",g=Z.theme.colors;try{return s?d=ri(g?.[d]||d,s):d=i.formatCssValue(f,g?.[d]||d),u+(f+": "+d+p+";")}catch{return""}},"")},t.addAtom=function(n){var a,i;n.props=this.props,n.id||n.setId(),Z.atomCache.get(n.id)||Z.atomCache.set(n.id,n);for(var o=ni.getSsrAtomIds(),s=((a=this.config.theme)==null?void 0:a.colors)||{},u=s.modes,l=u===void 0?{}:u,c=Object.entries(l),d=0,f=c;d<f.length;d++){var p=f[d],g=p[0],h=p[1];if(n.style){var y=Object.entries(n.style);if(y.length){var m=y[0],b=m[0],S=m[1],v=h[S];if(v){var _="--"+g,w=JSON.parse(JSON.stringify(n));w.key=n.key+_,w.id=n.id+_,w.meta=Pe({mode:g},n.meta),w.style[b]=v,o.includes(w.id)&&(w.inserted=!0),this.atoms.push(w)}}}}if(o.includes(n.id)&&(n.inserted=!0),(i=Z.config.mode)!=null&&(i=i.autoDarkMode)!=null&&i.enabled){var E;if(n.type==="color"&&((E=n.meta)==null?void 0:E.mode)!=="dark"&&!Reflect.has(n.meta,"pseudo")){var C=this.atoms.findIndex(function(k){var U;return k.type==="color"&&((U=k.meta)==null?void 0:U.mode)!=="dark"&&!Reflect.has(n.meta,"childSelector")&&!Reflect.has(n.meta,"pseudo")});C>-1&&(this.atoms[C]=Pe({},this.atoms[C],{isValid:!1}))}}this.atoms.push(n)},t.isValidProp=function(n,a){var i,o=["string","boolean","number","undefined","function"];if((i=this.config.objectPropKeys)!=null&&i.includes(n)||n.startsWith("_")||Array.isArray(a))return!0;var s=typeof a;return!!o.includes(s)},t.mutateAtom=function(n){for(var a=vt(this.plugins),i;!(i=a()).done;){var o=i.value;o.isMatch!=null&&o.isMatch(n.key,this)&&(n.id||n.setId(),typeof n.value=="function"&&(n.value=n.value(this.props)),o.beforeHandleAtom&&(n=o.beforeHandleAtom(n,this)))}(Object.values(n.meta||{}).length||Object.values(n.style||{}).length)&&(n.id||n.setId());var s=Z.atomCache.get(n.id);if(s)throw s.propKeys.includes(n.propKey)||s.propKeys.push(n.propKey),this.addAtom(s),new Error("atom is cached, add to this.atoms directly, no need to mutate");if(n.handled)throw this.addAtom(n),new Error("atom is handled, add to this.atoms directly ,no need to mutate");for(var u=vt(this.plugins),l;!(l=u()).done;){var c=l.value;if(c.isMatch!=null&&c.isMatch(n.key,this)){c.handleAtom&&(n=c.handleAtom==null?void 0:c.handleAtom(n,this)),n.handled=!0;break}}},t.parseResponsiveValue=function(n,a){var i=this.config.theme.breakpoints,o=Object.keys(i),s=a.reduce(function(u,l,c){var d,f=""+n+(c===0?"":"--"+o[c-1]);return Pe({},u,(d={},d[f]=l,d))},{});this.parseObjectProp(s)},t.parseObjectProp=function(n,a){a===void 0&&(a={}),n=typeof n=="function"?n(this.props):n;for(var i=this.config.theme.breakpoints,o=md(n,i),s=vt(o),u;!(u=s()).done;){var l=u.value,c=l.selector,d=l.selectorType,f=l.style,p=Object.entries(f);if(p.length){var g=p[0],h=g[0],y=g[1],m={propKey:h,propValue:y,props:this.props,meta:Pe({},a)};if(f&&Object.keys(f).length&&(m.style=f),d==="pseudo"&&m.meta){var b=c.match(/(:+)(.+)/)||[],S=b[1],v=b[2];m.meta.pseudoPrefix=S,m.meta.pseudo=v}d==="child"&&m.meta&&(m.meta.childSelector=c),d==="sibling"&&m.meta&&(m.meta.siblingSelector=c);var _=new Se(m,!1);try{this.mutateAtom(_)}catch{continue}(!_.style||!Object.keys(_.style).length)&&(_.handled=!0);var w=Z.atomCache.get(_.id);w?this.addAtom(w):this.addAtom(_)}}},t.makeResponsiveStyle=function(n,a){var i=this.config.theme.breakpoints;return"@media (min-width: "+i[n]+") {"+a+"}"},t.getClassNames=function(){var n=this,a=[];this.atoms.reduce(function(c,d){if(!d.style||!Object.keys(d.style).length)return c;var f=c.findIndex(function(g){return g.styleKeysHash===d.styleKeysHash});if(!d.isValid)return c;var p=n.getClassNameById(d.id);return f===-1?(a.push(p),c=[].concat(c,[d])):(c.splice(f,1,d),a.splice(f,1,p)),c},[]);var i=this.props.className,o=i===void 0?"":i,s=o.split(/\s+/).filter(function(c){return!a.includes(c)&&!!c});if(a=a.concat(s),this.hasResponsive){var u,l=this.config.theme.breakpoints;(u=a).push.apply(u,Object.keys(l).map(function(c){return"r-"+c}))}return a},t.toStyle=function(){var n=this,a=this.atoms.reduce(function(i,o){if(!o.isValid)return i;var s=Z.theme.colors,u=Object.entries(o.style).reduce(function(l,c){var d,f=c[0],p=c[1],g=n.formatCssValue(Ar(f),s[p]||p);return Pe({},l,(d={},d[f]=g,d))},{});return Pe({},i,u)},{});return a},t.toRules=function(n){n===void 0&&(n=!1);for(var a=this.config.mode.classPrefix,i=a===void 0?"":a,o=[],s=this.config.theme.breakpoints,u=Object.keys(s),l=vt(this.atoms),c;!(c=l()).done;){var d=c.value,f="",p=d.id,g=d.isValid,h=d.style,y=h===void 0?{}:h,m=d.meta;if(g&&!ti(y)){var b=m.pseudo,S=m.pseudoPrefix,v=m.mode,_=m.breakpoint,w=_===void 0?"":_,E=m.childSelector,C=m.siblingSelector,k=m.parentClass;if(!(!n&&d.inserted)){d.inserted=!0;var U=this.getClassNameById(p),N=m.global?m.global:"."+U;if(v&&(N="."+i+v+" "+N),C&&(N=""+N+C),b){var q=S+b;k?N="."+k+q+" "+N:N=N+q}if(E)if(w){var M=u.slice(0,u.indexOf(w)+1);N=N+"."+M.map(function(H){return"r-"+H}).join(".")+(" "+E)}else N=N+" "+E;else if(w){var re=u.slice(0,u.indexOf(w)+1);N=N+"."+re.map(function(H){return"r-"+H}).join(".")}f=N+" { "+this.styleToString(y,d.meta)+" }",w&&(f=this.makeResponsiveStyle(w,f)),o.push(f)}}}return o},t.getParsedProps=function(){var n=this,a=this.props,i=this.atoms;if(ti(a))return{};var o=Object.entries(a),s=o.reduce(function(u,l){var c=l[0],d=l[1];if(/.*--(\d+)?[a-z]+$/i.test(c))return u;var f=i.find(function(p){return[p.propKey,p.key,p.id].concat(n.config.objectPropKeys||[]).includes(c)||p.propKeys.includes(c)});return f||(u[c]=d),u},{});return s},t.insertRules=function(){var n=this.toRules();ni.insertStyles(n)},Bs(e,[{key:"uniqueClassName",get:function(){return Ns(Object.keys(this.props))}},{key:"hasResponsive",get:function(){return this.atoms.some(function(n){return!!n.meta.breakpoint})}},{key:"store",get:function(){return Z}},{key:"config",get:function(){return Z.config}},{key:"plugins",get:function(){return Z.config.plugins}}]),e}();function sn(e,t){var r=Object.entries(e).reduce(function(i,o){var s=o[0],u=o[1],l=Object.entries(u).reduce(function(c,d){var f=d[0],p=d[1];return c+(Ar(f)+": "+p+";")},"");return i+(Ar(s)+" {"+l+"}")},""),n=t||"keyframes-"+(0,Rs.default)(JSON.stringify(e)),a=`
    @keyframes `+n+` {
      `+r+`
    }
  `;return ni.insertStyles([a]),n}function Jy(e){for(var t=Object.entries(e),r=new ai({}),n=0,a=t;n<a.length;n++){var i=a[n],o=i[0],s=i[1],u=new Se({propKey:o,propValue:s,value:s,meta:{global:o},style:s});r.addAtom(u)}r.insertRules()}Jy({"*, ::before, ::after":{borderWidth:0,borderStyle:"solid",borderColor:"#e5e5e5",boxSizing:"border-box"}});var Ed=Z.setConfig,wE=Z.getConfig,xE=Z.setTheme,_E=Z.getTheme,AE=Z.setMode,SE=Z.getMode,EE=Z.addAtom,IE=Z.composeAtom,Sr=Z;function ev(e){return/^appearanceNone$/i.test(e)}var tv=function(){return{isMatch:ev,handleAtom:function(t){return t.style={appearance:"none"},t}}},Id=tv;function Ws(e){return/^bg?$/.test(e)}function Td(e){return/^bg.+$/i.test(e)}function Od(e){return/^bgClip.*$/i.test(e)}function Cd(e){return/^backgroundRepeat$/i.test(e)}function Nd(e){return/^backgroundImage$/i.test(e)}function Rd(e){return/^backgroundSize$/i.test(e)}function kd(e){return/^backgroundPosition$/i.test(e)}function rv(e){return[Ws,Od,Td,Cd,Nd,Rd,kd].some(function(t){return t(e)})}function nv(e,t){if(Nd(e))return{backgroundImage:t};if(Od(e)){var r=e.replace(/^bgClip/i,"").toLowerCase();return r==="text"?{"-webkit-background-clip":"text"}:/^bgClip$/i.test(e)?{backgroundClip:t}:{backgroundClip:r+"-box"}}return kd(e)?{backgroundPosition:t}:Rd(e)?{backgroundSize:t}:Cd(e)?{backgroundRepeat:t}:Ws(e)?{backgroundColor:t}:{backgroundColor:ue(e.replace(/^bg/i,""))}}var av=function(){return{isMatch:rv,handleAtom:function(t){return t.style=nv(t.key,t.value),(Ws(t.key)||Td(t.key))&&(t.type="backgroundColor"),t}}},Dd=av;var Ld="border(Top|Left|Right|Bottom)",iv=new RegExp("^"+Ld+"$","i"),Md=new RegExp("^("+Ld+")([a-z]+\\d{2,3})$","i");function ov(e){return e.startsWith("border")}function Pd(e){return/^\d(px|rem|em|vh|vw)?$/.test(String(e))}function sv(e){return/^border.+\d+$/i.test(e)}function uv(e,t){var r,n=e.key,a=e.value;if(n==="border")return typeof a=="boolean"?{borderWidth:1}:a==="none"?{border:"none"}:Pd(a)?{borderWidth:a}:{border:a};var i=t.config.theme.colors,o=n.replace(/^border/,"");if(/^(Solid|Dashed|Dotted|Double|None)$/i.test(o))return{borderStyle:o.toLowerCase()};if(iv.test(n)){var s,u,l="border"+_r(o)+"Width";if(typeof a=="boolean"&&a===!0){var c;return c={},c[l]=1,c}return Pd(a)?(s={},s[l]=a,s):(u={},u[n]=a,u)}if(Md.test(n)){var d,f=n.match(Md),p=f[1],g=f[3],h=ue(g);return d={},d[fd(p+"Color")]=i[h],d}var y=ue(o);return i[y]?{borderColor:y}:(r={},r[n]=i[a]||a,r)}var lv=function(){return{isMatch:ov,handleAtom:function(t,r){t.style=uv(t,r);var n=sv(t.key);if(t.style.borderColor){var a=t.style.borderColor,i=r.config.theme.colors;i[a]&&(n=!0)}return n&&(t.type="borderColor"),t}}},Fd=lv;function cv(e,t){if(e==="color")return!0;var r=t.config.theme.colors;return!!r[e]}var dv=function(){return{isMatch:cv,handleAtom:function(t){var r=t.key,n=t.value;return t.style={color:r==="color"?n:r},t.type="color",t}}},Ud=dv;function fv(e){var t=/^(hidden|inline|inlineBlock|inlineGrid|inlineFlex|block|grid|table)$|^display$/gi;return t.test(e)}function pv(e,t){return e==="hidden"?{display:"none"}:e==="inline"?{display:"inline"}:e==="display"?{display:t}:{display:ce(e.replace("inline","inline-"))}}var hv=function(){return{isMatch:fv,handleAtom:function(t){return t.style=pv(t.key,t.value),t}}},jd=hv;var mv={auto:"1 1 auto",initial:"0 1 auto",none:"none"},Bd=/^flex(Auto|Initial|None)$/i,Wd=/^flex(Wrap(Reverse)?|Nowrap)$/i,$d=function(t){return/^order$|^flex(Grow|Shrink|Basis|Wrap)?$/i.test(t)};function gv(e){return $d(e)||Bd.test(e)||Wd.test(e)}function yv(e){var t=e.key,r=e.value,n={};if(t==="flex"&&/^\d+/.test(r))return{flex:Number(r)};if(Wd.test(t)&&e.isTruePropValue){var a=t.replace(/^flex/,"");return n.flexWrap=ce(a).toLowerCase(),n}if($d(t)){var i=/^flex(Grow|Shrink|Basis|Wrap)$/i.test(t),o=i?ce(t.replace(/^flex/,"flex-")):t;n[o]=r}if(Bd.test(t)){var s=t.replace(/^flex/,"").toLowerCase();n.flex=mv[s]}return n}var vv=function(){return{isMatch:gv,handleAtom:function(t){return t.propKey==="flex"&&t.isTruePropValue?t.style={display:"flex"}:t.style=yv(t),t}}},Vd=vv;var bv={gap:"gap",x:"columnGap",y:"rowGap"};function wv(e){return/^gap[xy]?-?$|^gridTemplateColumns$/i.test(e)}function xv(e,t){var r={};if(e.startsWith("gridTemplateColumns")&&(r.gridTemplateColumns="repeat("+t+", minmax(0px, 1fr))"),/^gap[xy]?-?$/i.test(e)){var n=e.replace(/^gap/i,"")||"gap";r[bv[n.toLocaleLowerCase()]]=t}return r}var _v=function(){return{isMatch:wv,handleAtom:function(t){return t.style=xv(t.key,t.value),t}}},Hd=_v;function Av(e){return/^gridTemplateColumns$/i.test(e)}function Sv(e,t){var r={};return e.startsWith("gridTemplateColumns")&&(r.gridTemplateColumns="repeat("+t+", minmax(0px, 1fr))"),r}var Ev=function(){return{isMatch:Av,handleAtom:function(t){return t.style=Sv(t.key,t.value),t}}},Yd=Ev;function Iv(e,t){if(e){if(typeof e=="string")return zd(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return zd(e,t)}}function zd(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Gd(e,t){var r=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r)return(r=r.call(e)).next.bind(r);if(Array.isArray(e)||(r=Iv(e))||t&&e&&typeof e.length=="number"){r&&(e=r);var n=0;return function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var oi="totop",si="toleft",ui="toright",li="tobottom",ci="tobetween",di="toaround",fi="toevenly",qd="tocenter",pi="tocenterx",hi="tocentery",Zd="selftop",Kd="selfright",Xd="selfbottom",Qd="selfleft",Jd="selfcenter",Tv="selfcenter",Ov="selfauto",un="flex-start",ln="flex-end",Cv="space-between",Nv="space-around",Rv="space-evenly",ii="center",kv=[si,ui,oi,li,qd,pi,hi,ci,di,fi,Zd,Kd,Xd,Qd,Jd,Tv];function Dv(e,t){var r={},n="";e=e.toLowerCase(),t.startsWith("row")?([si,ui,pi,ci,di,fi].includes(e)&&(n="justifyContent"),[oi,li,hi].includes(e)&&(n="alignItems")):([oi,li,hi,ci,di,fi].includes(e)&&(n="justifyContent"),[si,ui,pi].includes(e)&&(n="alignItems"));var a=/^rowReverse$/i.test(t),i=/^columnReverse$/i.test(t);return e===oi?r[n]=i?ln:un:e===li?r[n]=i?un:ln:e===si?r[n]=a?ln:un:e===ui?r[n]=a?un:ln:[pi,hi].includes(e)?r[n]=ii:e===ci?r[n]=Cv:e===di?r[n]=Nv:e===fi?r[n]=Rv:e===qd&&(r.justifyContent=ii,r.alignItems=ii),[Zd,Qd].includes(e)?r.alignSelf=un:[Xd,Kd].includes(e)?r.alignSelf=ln:e===Jd?r.alignSelf=ii:e===Ov&&(r.alignSelf="auto"),r}var Mv=new RegExp(""+kv.join("|"),"i");function ef(e){return/^flexDirection$/.test(e)}function Vs(e){return/^(row|column)(Reverse)?$/i.test(e)}function tf(e){return Mv.test(e)}function $s(e){return Vs(e)||ef(e)||tf(e)}var Pv=function(){return{isMatch:$s,beforeHandleAtom:function(t){return Vs(t.key)&&(t.id="flexDirection-"+t.id,t.style={flexDirection:ce(t.key)}),ef(t.key)&&(t.style={flexDirection:ce(t.value)}),t},handleAtom:function(t){return t},afterAtomStyleCreate:function(t){if(t.atoms.length){var r=t.atoms.find(function(q){return $s(q.key)});if(r){for(var n=[],a=[],i=Gd(t.atoms),o;!(o=i()).done;){var s=o.value;$s(s.key)&&(tf(s.key)?a.push(s):n.push(s))}if(!n.length){var u="row",l="flexDirection-"+u,c=t.store.atomCache.get(l);if(c)t.addAtom(c),n.push(c);else{var d=new Se({propKey:l,propValue:!0,key:u,handled:!0,style:{flexDirection:u}});d.setId(),d.id="flexDirection-"+d.id,t.addAtom(d),n.push(d)}}for(var f=0,p=n;f<p.length;f++)for(var g=p[f],h=g.key,y=g.value,m=g.meta.breakpoint,b=Vs(h)?h:y,S=Gd(a),v;!(v=S()).done;){var _=v.value,w=new Se(_);m&&(w.meta.breakpoint=_.meta.breakpoint||m),w.setId(),w.id=b+"-"+w.id;var E=t.store.atomCache.get(w.id);E?t.addAtom(E):(w.style=Dv(w.key,b),t.addAtom(w))}var C=t.atoms.find(function(q){var M,re;return!!(q!=null&&(M=q.style)!=null&&M.display)&&!((re=q.meta)!=null&&re.pseudo)});if(!C){var k="flex",U=t.store.atomCache.get(k);if(U)t.addAtom(U);else{var N=new Se({propKey:k,propValue:!0,handled:!0,style:{display:"flex"}});t.addAtom(N)}}}}}}},rf=Pv;function Lv(e){return/^leading(None|Tight|Snug|Normal|Relaxed|Loose)?$/i.test(e)}function Fv(e,t){var r=e.key,n=e.value,a=e.isValueProp;if(a)return/^\d+$/.test(n)?{lineHeight:Number(n)}:{lineHeight:n};var i=t.store.getTheme().lineHeights,o=r.replace(/^leading/,""),s=i[ue(o)];return s?{lineHeight:s}:/^\d+$/.test(n)?{lineHeight:Number(n)}:{lineHeight:n}}var Uv=function(){return{isMatch:Lv,handleAtom:function(t,r){return t.style=Fv(t,r),t}}},nf=Uv;var jv=function(){return{isMatch:function(t){return/^list(Inside|Outside|disc|circle|square|decimal|none|TradChineseInformal|LowerRoman|LowerAlpha|UpperAlpha|UpperRoman)$/i.test(t)},handleAtom:function(t){var r,n=t.key,a=n.replace(/^list/,""),i=/^(in|out)side$/i.test(a)?"Position":"Type";return t.style=(r={},r["listStyle"+i]=ce(a).toLowerCase(),r),t}}},af=jv;function Hs(){return Hs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Hs.apply(this,arguments)}var Je="margin",of="Top",sf="Left",uf="Right",lf="Bottom",Bv={m:[Je],ml:[Je+sf],mt:[Je+of],mr:[Je+uf],mb:[Je+lf],mx:[Je+sf,Je+uf],my:[Je+of,Je+lf]};function Wv(e){return/^m[ltrbxy]?$/i.test(e)}var $v=function(){return{isMatch:Wv,handleAtom:function(t){var r=t.key,n=t.value;return t.style=Bv[r].reduce(function(a,i){var o;return Hs({},a,(o={},o[i]=n,o))},{}),t}}},cf=$v;function Vv(e){return/^opacity$/.test(e)}var Hv=function(){return{isMatch:Vv,handleAtom:function(t){return t.style={opacity:Number(t.value)/100},t}}},df=Hv;function Yv(e){return/^overflow[XY]?(Auto|Hidden|Visible|Scroll)?$/i.test(e)}function zv(e){var t,r,n=e.key,a=e.value,i=e.isValueProp;if(i)return t={},t[n]=a,t;var o=n.match(/^(overflow[XY]?)(Auto|Hidden|Visible|Scroll)?$/i),s=o[1],u=o[2];return s=s.replace(/[xy]$/i,function(l){return l.toUpperCase()}),u=u.toLowerCase(),r={},r[s]=u,r}var Gv=function(){return{isMatch:Yv,handleAtom:function(t){return t.style=zv(t),t}}},ff=Gv;function Ys(){return Ys=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ys.apply(this,arguments)}var et="padding",pf="Top",hf="Left",mf="Right",gf="Bottom",qv={p:[et],pl:[et+hf],pt:[et+pf],pr:[et+mf],pb:[et+gf],px:[et+hf,et+mf],py:[et+pf,et+gf]};function Zv(e){return/^p[ltrbxy]?(--?[\da-z]+)?$/i.test(e)}var Kv=function(){return{isMatch:Zv,handleAtom:function(t){var r=t.key,n=t.value;return t.style=qv[r].reduce(function(a,i){var o;return Ys({},a,(o={},o[i]=n,o))},{}),t}}},yf=Kv;var vf=["static","fixed","absolute","relative","sticky"];function Xv(e){return/^(top|right|bottom|left)$/i.test(e)||vf.includes(e)||e==="position"}function Qv(e,t){var r;return e==="position"?{position:t}:vf.includes(e)?{position:e}:(r={},r[e]=t,r)}var Jv=function(){return{isMatch:Xv,handleAtom:function(t){return t.style=Qv(t.key,t.value),t}}},bf=Jv;function eb(e,t){if(e){if(typeof e=="string")return wf(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return wf(e,t)}}function wf(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function xf(e,t){var r=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r)return(r=r.call(e)).next.bind(r);if(Array.isArray(e)||(r=eb(e))||t&&e&&typeof e.length=="number"){r&&(e=r);var n=0;return function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Er="Top",Ir="Left",Tr="Right",Or="Bottom",_f={roundedTop:[Er+Ir,Er+Tr],roundedRight:[Er+Tr,Or+Tr],roundedBottom:[Or+Ir,Or+Tr],roundedLeft:[Er+Ir,Or+Ir],roundedTopLeft:[Er+Ir],roundedTopRight:[Er+Tr],roundedBottomLeft:[Or+Ir],roundedBottomRight:[Or+Tr]};function tb(e){return/^rounded(Top(Left|Right)?|Right|Bottom(Left|Right)?|Left)?/i.test(e)}function rb(e,t,r){var n={},a=r.config.theme.radii||{},i=Object.keys(a)||[],o=new RegExp("("+i.join("|")+")$","i");if(e==="rounded"){var s=typeof t=="boolean";return{borderRadius:s?a.md:t}}if(o.test(e)){var u=e.match(o)||[],l=u[0],c=l===void 0?"":l,d=a[c.toLowerCase()];if(c&&typeof d=="number"){var f=e.replace(c,"");if(f==="rounded")return{borderRadius:d};for(var p=xf(_f[f]),g;!(g=p()).done;){var h=g.value;n["border"+h+"Radius"]=d}return n}}for(var y=xf(_f[e]||[]),m;!(m=y()).done;){var b=m.value;n["border"+b+"Radius"]=t}return n}var nb=function(){return{isMatch:tb,handleAtom:function(t,r){return t.style=rb(t.key,t.value,r),t}}},Af=nb;function ab(e){return/^shadow/i.test(e)}function ib(e,t){var r=e.key,n=e.value,a=e.isValueProp;if(a)return{boxShadow:n};var i=r.replace("shadow",""),o=i.toLowerCase(),s=t.config.theme.shadows,u=s[o||"md"];return{boxShadow:u}}var ob=function(){return{isMatch:ab,handleAtom:function(t,r){return t.style=ib(t,r),t}}},Sf=ob;function zs(){return zs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},zs.apply(this,arguments)}var sb={w:["width"],h:["height"],square:["width","height"],circle:["width","height","borderRadius"],minw:["minWidth"],maxw:["maxWidth"],minh:["minHeight"],maxh:["maxHeight"]};function ub(e){return/^([wh]|square|circle|min[hw]|max[hw])$/i.test(e)}var lb=function(){return{isMatch:ub,handleAtom:function(t){var r=t.key,n=t.value;return t.style=sb[r.toLowerCase()].reduce(function(a,i){var o;return zs({},a,(o={},o[i]=n,o))},{}),t}}},Ef=lb;function cb(e){return/^text(Left|Center|Right|Justify|Align)$/i.test(e)}function db(e){var t=e.key,r=e.value,n=e.isValueProp;return n?{textAlign:r}:{textAlign:t.replace(/^text/i,"").toLowerCase()}}var fb=function(){return{isMatch:cb,handleAtom:function(t){return t.style=db(t),t}}},If=fb;var pb=function(){return{isMatch:function(t){var r=["textDecoration","underline","lineThrough","noUnderline"];return r.includes(t)},handleAtom:function(t){var r=t.key,n=r==="textDecoration"?t.value:r==="noUnderline"?"none":ce(r);return t.style={textDecoration:n},t}}},Tf=pb;var hb=function(){return{isMatch:function(t){var r=/^overflow(ellipsis|clip)$/i.test(t);return r||t==="truncate"},handleAtom:function(t){var r=t.key;if(r==="truncate")t.style={overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"};else{var n=r.replace(/^overflow/,"");t.style={textOverflow:n.toLowerCase()}}return t}}},Of=hb;function Cf(e,t){var r=t.config.theme.fontSizes,n=r===void 0?{}:r,a=Object.keys(n)||[];if(!a.length)return!1;var i=new RegExp("^text("+a.join("|")+")$","i");return i.test(e)}function mb(e,t){return/^text$/.test(e)||Cf(e,t)}function gb(e,t,r){if(Cf(e,r)){var n=r.config.theme.fontSizes||{},a=e.replace(/^text/,"").toLowerCase();return{fontSize:n[a]}}return{fontSize:t}}var yb=function(){return{isMatch:mb,handleAtom:function(t,r){return t.style=gb(t.key,t.value,r),t}}},Nf=yb;var vb=function(){return{isMatch:function(t){var r=["normalcase","uppercase","lowercase","capitalize"];return r.includes(t)},handleAtom:function(t){var r=t.key,n=r==="normalcase"?"none":r;return t.style={textTransform:n},t}}},Rf=vb;function bb(e){return/^font(Sans|Serif|Mono)?$/i.test(e)}var wb=function(){return{isMatch:bb,handleAtom:function(t,r){var n=t.key,a=r.config.theme.fontFamilies,i=n.replace(/^font/i,""),o=a[ue(i)];return t.style={fontFamily:o},t}}},kf=wb;function xb(e){return/^(not)?Italic$/i.test(e)}var _b=function(){return{isMatch:xb,handleAtom:function(t){var r=t.key;return t.style={fontStyle:r==="italic"?"italic":"normal"},t}}},Df=_b;function Ab(e){return/^font(Hairline|Thin|Light|Normal|Medium|Semibold|Bold|Extrabold|Black)?$|^fontWeight$/i.test(e)}var Sb=function(){return{isMatch:Ab,handleAtom:function(t,r){var n=t.key,a=t.value,i=r.config.theme.fontWeights,o=n.replace(/^font/i,""),s=/^weight$/i.test(o)?a:i[ue(o)];return t.style={fontWeight:s},t}}},Mf=Sb;function Eb(e){return/^zIndex$/i.test(e)}var Ib=function(){return{isMatch:Eb,handleAtom:function(t){return t.style={zIndex:t.value},t}}},Pf=Ib;function Tb(e){return e==="outline"||Lf(e)||Ff(e)}function Lf(e){return/^outlineNone$/i.test(e)}function Ff(e){return/^outlineOffset$/i.test(e)}function Ob(e){var t=e.key,r=e.value;return Lf(t)?{outline:"none"}:Ff(t)?{outlineOffset:r}:{outline:r}}var Cb=function(){return{isMatch:Tb,handleAtom:function(t){return t.style=Ob(t),t}}},Uf=Cb;function Nb(e){return/^cursor[a-z]*?$/i.test(e)}function Rb(e,t){if(e==="cursor")return{cursor:t};var r=e.replace("cursor","");return{cursor:ce(r)}}var kb=function(){return{isMatch:Nb,handleAtom:function(t){return t.style=Rb(t.key,t.value),t}}},jf=kb;function qs(){return qs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},qs.apply(this,arguments)}function Db(e,t){if(e){if(typeof e=="string")return Bf(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Bf(e,t)}}function Bf(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Wf(e,t){var r=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r)return(r=r.call(e)).next.bind(r);if(Array.isArray(e)||(r=Db(e))||t&&e&&typeof e.length=="number"){r&&(e=r);var n=0;return function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Gs(e){return/^(scale[xy]?|rotate[xy]?|translate[xy]|skew[xy]?|origin)-?.*/i.test(e)}var Mb=function(){return{isMatch:Gs,handleAtom:function(t){return t},afterAtomStyleCreate:function(t){if(!t.atoms.length)return;var r=t.atoms.find(function(c){return Gs(c.key)});if(!r)return;for(var n={},a=Wf(t.atoms),i;!(i=a()).done;){var o=i.value;if(Gs(o.key)){var s=o.meta.pseudo;s?n[s]=[].concat(n[s]||[],[o]):n.common=[].concat(n.common||[],[o])}}for(var u in n)l(n[u]);function l(c){for(var d=[],f=[],p={},g=Wf(c),h;!(h=g()).done;){var y=h.value,m=y.value,b=y.key;if(p=qs({},p,y.meta),/translate[xy]?/i.test(b)){var S=on(m)?m+t.config.unit:m,v=b.replace(/translate/,"");f.push("translate"+v.toUpperCase()+"("+S+")")}if(/scale[xy]?/i.test(b)){var _=on(m)?Number(m)/100:m,w=b.replace(/scale/,"");f.push("scale"+w.toUpperCase()+"("+_+")")}if(/rotate[xy]?/i.test(b)&&f.push("rotate("+m+"deg)"),/skew[xy]?/i.test(b)){var E=b.replace(/skew/,"");f.push("skew"+E.toUpperCase()+"("+m+"deg)")}d.push(y.id)}if(f.length){var C=f.sort(),k=d.sort().join("-"),U="transform-"+k,N=t.store.atomCache.get(U);if(N)return t.addAtom(N);var q=new Se({propKey:"transform",propValue:k,handled:!0,meta:p,style:{transform:C.join(" ")}});t.addAtom(q)}}}}},$f=Mb;var Zs=/^ease(linear|In|Out|InOut)/i,mi=/^transition(None|All|Common|Colors|Opacity|Shadow|Transform)?$/i,Pb=["duration","delay"],Lb={none:"none",all:"all",common:"background-color, border-color, color, fill, stroke, opacity, box-shadow, transform, filter, backdrop-filter",colors:"background-color, border-color, color, fill, stroke",opacity:"opacity",shadow:"box-shadow",transform:"transform"},Hf={easelinear:"linear",easein:"cubic-bezier(0.4, 0, 1, 1)",easeout:"cubic-bezier(0, 0, 0.2, 1)",easeinout:"cubic-bezier(0.4, 0, 0.2, 1)"};function Vf(e){return Zs.test(e)||mi.test(e)||Pb.includes(e)}function Fb(e,t){var r,n,a=e.key,i=e.value,o=Object.keys(t.props).some(function(l){return mi.test(l)}),s=o?"transition":"animation";if(a==="delay")return r={},r[s+"Delay"]=i+"ms !important",r;if(a==="duration")return n={},n[s+"Duration"]=i+"ms !important",n;if(a==="transition")return{transition:i};if(mi.test(a))return{transitionProperty:Lb[a.replace(/^transition/,"").toLowerCase()]};if(Zs.test(a)){var u;return u={},u[s+"TimingFunction"]=Hf[a.toLowerCase()],u}}var Ub=function(){return{isMatch:Vf,handleAtom:function(t,r){return t.style=Fb(t,r),t},afterAtomStyleCreate:function(t){if(t.atoms.length){var r=t.atoms.find(function(f){return Vf(f.key)});if(r){var n=t.atoms.find(function(f){return mi.test(f.key)});if(n){var a=t.atoms.find(function(f){return f.key==="duration"});if(!a){var i="transition-duration-200",o=t.store.atomCache.get(i);if(o)t.addAtom(o);else{var s=new Se({propKey:i,propValue:!0,handled:!0,style:{transitionDuration:"200ms"}});t.addAtom(s)}}var u=t.atoms.find(function(f){return Zs.test(f.key)});if(!u){var l="easeInOut",c=t.store.atomCache.get(l);if(c)t.addAtom(c);else{var d=new Se({propKey:l,propValue:!0,handled:!0,style:{transitionTimingFunction:Hf[l.toLowerCase()]}});t.addAtom(d)}}}}}}}},Yf=Ub;function jb(e){return/^select(none|text|all|auto)$/i.test(e)}var Bb=function(){return{isMatch:jb,handleAtom:function(t){var r=t.key.replace("select","").toLowerCase();return t.style={userSelect:r},t}}},zf=Bb;var Wb=/^(in)?visible$/,Gf=function(t){return t==="visibility"};function $b(e){return Gf(e)||Wb.test(e)}var Vb=function(){return{isMatch:$b,handleAtom:function(t){var r=t.key;return Gf(r)&&(t.style={visibility:t.value}),r==="visible"&&(t.style={visibility:"visible"}),r==="invisible"&&(t.style={visibility:"hidden"}),t}}},qf=Vb;function Hb(e){return/^box(Sizing|Content|Border)$/i.test(e)}var Yb=function(){return{isMatch:Hb,handleAtom:function(t){var r="",n=t.key,a=t.value;return n==="boxSizing"&&(r=a),n==="boxBorder"&&(r="border-box"),n==="boxContent"&&(r="content-box"),t.style={boxSizing:ce(r)},t}}},Zf=Yb;function zb(e){return/^placeholder.+/i.test(e)}function Gb(e,t){var r=e.key,n=t.store.theme.colors,a=r.replace(/^placeholder/,""),i=ue(a);if(n[i])return{color:i}}var qb=function(){return{isMatch:zb,handleAtom:function(t,r){return t.meta.pseudo="placeholder",t.meta.pseudoPrefix="::",t.style=Gb(t,r),t}}},Kf=qb;function Zb(e){return/^bgGradient[XY]?$/i.test(e)}var Kb=function(){return{isMatch:Zb,handleAtom:function(t,r){var n=t.key,a=t.value,i=r.config.theme.colors,o=n.replace(/^bgGradient/i,"").toLowerCase(),s=o==="x"?"right":"bottom";if(o==="")return t.style={backgroundImage:a},t;if(!Array.isArray(a))return t;var u=a.map(function(l){return i[l]||l}).join(", ");return t.style={backgroundImage:"linear-gradient(to "+s+", "+u+")"},t}}},Xf=Kb;var Qf=/^ring(.+)?(\d{2,3})?-?(\d+)?$/i;function Xb(e){return Qf.test(e)}function Qb(e,t){var r=t.store.theme.colors,n="1",a="brand500",i=r[a],o=e.meta.colorPostfix,s=e.key.match(Qf),u=s[1];if(u){var l=u.split("-"),c=l[0],d=l[1];if(d&&(n=d),c)if(a=ue(c),r[a])i=r[a];else return}return i=o?ri(i,o):i,{boxShadow:"0 0 0 "+n+"px "+i}}var Jb=function(){return{isMatch:Xb,handleAtom:function(t,r){return t.style=Qb(t,r),t}}},Jf=Jb;function ep(e,t){if(e===void 0&&(e=""),!e.startsWith("fill"))return!1;var r=t.store.theme.colors,n=ue(e.replace(/^fill/,""));return!!r[n]}function ew(e,t){return/^stroke$|^(stroke|fill)?(Current|None)$/i.test(e)||ep(e,t)}function tw(e,t,r){if(/Current$/i.test(e)){var n,a=e.replace(/current$/i,"");return n={},n[a]="currentColor",n}if(/None$/i.test(e)){var i,o=e.replace(/none$/i,"");return i={},i[o]="none",i}if(e==="stroke")return/^\d+/.test(t)?{strokeWidth:t}:{stroke:t};if(ep(e,r)){var s=ue(e.replace(/^fill/,""));return{fill:s}}}var rw=function(){return{isMatch:ew,handleAtom:function(t,r){var n=t.key,a=t.value;return t.style=tw(n,a,r),t}}},tp=rw;var nw=function(t){return/^animate(None|Spin|Ping|Pulse|Bounce)/i.test(t)};function aw(e){return nw(e)}function iw(e){var t=e.key;if(/^animateNone$/i.test(t))return{animation:"none"};if(/^animateSpin$/i.test(t))return{animation:"spin 1s linear infinite"};if(/^animatePing$/i.test(t))return{animation:"ping 1s cubic-bezier(0, 0, 0.2, 1) infinite"};if(/^animatePulse$/i.test(t))return{animation:"pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite"};if(/^animateBounce$/i.test(t))return{animation:"bounce 1s infinite"}}var ow=function(){var e=!1;return{isMatch:aw,init:function(){e||(e=!0,sn({from:{transform:"rotate(0deg)"},to:{transform:"rotate(360deg)"}},"spin"),sn({"75%, 100%":{transform:"scale(2)",opacity:0}},"ping"),sn({"0%, 100%":{opacity:1},"50%":{opacity:"0.5"}},"pulse"),sn({"0%, 100%":{transform:"translateY(-25%)",animationTimingFunction:"cubic-bezier(0.8, 0, 1, 1)"},"50%":{transform:"translateY(0)",animationTimingFunction:"cubic-bezier(0, 0, 0.2, 1)"}},"bounce"))},handleAtom:function(r){return r.style=iw(r),r}}},rp=ow;var sw={breaknormal:{overflowWrap:"normal",wordBreak:"normal"},breakwords:{overflowWrap:"break-word"},breakall:{wordBreak:"break-all"}},uw=function(){return{isMatch:function(t){return/^break(normal|words|all)$/i.test(t)},handleAtom:function(t){return t.style=sw[t.key.toLowerCase()],t}}},np=uw;var ap={transparent:"transparent",white:"#ffffff",black:"#000",brand50:"#eff6ff",brand100:"#dbeafe",brand200:"#bfdbfe",brand300:"#93c5fd",brand400:"#60a5fa",brand500:"#3b82f6",brand600:"#2563eb",brand700:"#1d4ed8",brand800:"#1e40af",brand900:"#1e3a8a",brand950:"#11118a",slate50:"#f8fafc",slate100:"#f1f5f9",slate200:"#e2e8f0",slate300:"#cbd5e1",slate400:"#94a3b8",slate500:"#64748b",slate600:"#475569",slate700:"#334155",slate800:"#1e293b",slate900:"#0f172a",slate950:"#020617",gray50:"#f9fafb",gray100:"#f3f4f6",gray200:"#e5e7eb",gray300:"#d1d5db",gray400:"#9ca3af",gray500:"#6b7280",gray600:"#4b5563",gray700:"#374151",gray800:"#1f2937",gray900:"#111827",gray950:"#030712",zinc50:"#fafafa",zinc100:"#f4f4f5",zinc200:"#e4e4e7",zinc300:"#d4d4d8",zinc400:"#a1a1aa",zinc500:"#71717a",zinc600:"#52525b",zinc700:"#3f3f46",zinc800:"#27272a",zinc900:"#18181b",zinc950:"#09090b",neutral50:"#fafafa",neutral100:"#f5f5f5",neutral200:"#e5e5e5",neutral300:"#d4d4d4",neutral400:"#a3a3a3",neutral500:"#737373",neutral600:"#525252",neutral700:"#404040",neutral800:"#262626",neutral900:"#171717",neutral950:"#0a0a0a",stone50:"#fafaf9",stone100:"#f5f5f4",stone200:"#e7e5e4",stone300:"#d6d3d1",stone400:"#a8a29e",stone500:"#78716c",stone600:"#57534e",stone700:"#44403c",stone800:"#292524",stone900:"#1c1917",stone950:"#0c0a09",red50:"#fef2f2",red100:"#fee2e2",red200:"#fecaca",red300:"#fca5a5",red400:"#f87171",red500:"#ef4444",red600:"#dc2626",red700:"#b91c1c",red800:"#991b1b",red900:"#7f1d1d",red950:"#450a0a",orange50:"#fff7ed",orange100:"#ffedd5",orange200:"#fed7aa",orange300:"#fdba74",orange400:"#fb923c",orange500:"#f97316",orange600:"#ea580c",orange700:"#c2410c",orange800:"#9a3412",orange900:"#7c2d12",orange950:"#431407",amber50:"#fffbeb",amber100:"#fef3c7",amber200:"#fde68a",amber300:"#fcd34d",amber400:"#fbbf24",amber500:"#f59e0b",amber600:"#d97706",amber700:"#b45309",amber800:"#92400e",amber900:"#78350f",amber950:"#451a03",yellow50:"#fefce8",yellow100:"#fef9c3",yellow200:"#fef08a",yellow300:"#fde047",yellow400:"#facc15",yellow500:"#eab308",yellow600:"#ca8a04",yellow700:"#a16207",yellow800:"#854d0e",yellow900:"#713f12",yellow950:"#422006",lime50:"#f7fee7",lime100:"#ecfccb",lime200:"#d9f99d",lime300:"#bef264",lime400:"#a3e635",lime500:"#84cc16",lime600:"#65a30d",lime700:"#4d7c0f",lime800:"#3f6212",lime900:"#365314",lime950:"#1a2e05",green50:"#f0fdf4",green100:"#dcfce7",green200:"#bbf7d0",green300:"#86efac",green400:"#4ade80",green500:"#22c55e",green600:"#16a34a",green700:"#15803d",green800:"#166534",green900:"#14532d",green950:"#052e16",emerald50:"#ecfdf5",emerald100:"#d1fae5",emerald200:"#a7f3d0",emerald300:"#6ee7b7",emerald400:"#34d399",emerald500:"#10b981",emerald600:"#059669",emerald700:"#047857",emerald800:"#065f46",emerald900:"#064e3b",emerald950:"#022c22",teal50:"#f0fdfa",teal100:"#ccfbf1",teal200:"#99f6e4",teal300:"#5eead4",teal400:"#2dd4bf",teal500:"#14b8a6",teal600:"#0d9488",teal700:"#0f766e",teal800:"#115e59",teal900:"#134e4a",teal950:"#042f2e",cyan50:"#ecfeff",cyan100:"#cffafe",cyan200:"#a5f3fc",cyan300:"#67e8f9",cyan400:"#22d3ee",cyan500:"#06b6d4",cyan600:"#0891b2",cyan700:"#0e7490",cyan800:"#155e75",cyan900:"#164e63",cyan950:"#083344",sky50:"#f0f9ff",sky100:"#e0f2fe",sky200:"#bae6fd",sky300:"#7dd3fc",sky400:"#38bdf8",sky500:"#0ea5e9",sky600:"#0284c7",sky700:"#0369a1",sky800:"#075985",sky900:"#0c4a6e",sky950:"#082f49",blue50:"#eff6ff",blue100:"#dbeafe",blue200:"#bfdbfe",blue300:"#93c5fd",blue400:"#60a5fa",blue500:"#3b82f6",blue600:"#2563eb",blue700:"#1d4ed8",blue800:"#1e40af",blue900:"#1e3a8a",blue950:"#172554",indigo50:"#eef2ff",indigo100:"#e0e7ff",indigo200:"#c7d2fe",indigo300:"#a5b4fc",indigo400:"#818cf8",indigo500:"#6366f1",indigo600:"#4f46e5",indigo700:"#4338ca",indigo800:"#3730a3",indigo900:"#312e81",indigo950:"#1e1b4b",violet50:"#f5f3ff",violet100:"#ede9fe",violet200:"#ddd6fe",violet300:"#c4b5fd",violet400:"#a78bfa",violet500:"#8b5cf6",violet600:"#7c3aed",violet700:"#6d28d9",violet800:"#5b21b6",violet900:"#4c1d95",violet950:"#2e1065",purple50:"#faf5ff",purple100:"#f3e8ff",purple200:"#e9d5ff",purple300:"#d8b4fe",purple400:"#c084fc",purple500:"#a855f7",purple600:"#9333ea",purple700:"#7e22ce",purple800:"#6b21a8",purple900:"#581c87",purple950:"#3b0764",fuchsia50:"#fdf4ff",fuchsia100:"#fae8ff",fuchsia200:"#f5d0fe",fuchsia300:"#f0abfc",fuchsia400:"#e879f9",fuchsia500:"#d946ef",fuchsia600:"#c026d3",fuchsia700:"#a21caf",fuchsia800:"#86198f",fuchsia900:"#701a75",fuchsia950:"#4a044e",pink50:"#fdf2f8",pink100:"#fce7f3",pink200:"#fbcfe8",pink300:"#f9a8d4",pink400:"#f472b6",pink500:"#ec4899",pink600:"#db2777",pink700:"#be185d",pink800:"#9d174d",pink900:"#831843",pink950:"#500724",rose50:"#fff1f2",rose100:"#ffe4e6",rose200:"#fecdd3",rose300:"#fda4af",rose400:"#fb7185",rose500:"#f43f5e",rose600:"#e11d48",rose700:"#be123c",rose800:"#9f1239",rose900:"#881337",rose950:"#4c0519"};var lw=[Id(),Xf(),Dd(),Fd(),Ud(),jd(),Vd(),Hd(),Yd(),rf(),nf(),af(),cf(),df(),ff(),yf(),bf(),Af(),Sf(),Ef(),If(),Tf(),Of(),Nf(),Rf(),kf(),Df(),Mf(),Pf(),jf(),Uf(),$f(),Yf(),zf(),qf(),Zf(),Kf(),Jf(),tp(),rp(),np()],cw={breakpoints:{sm:"640px",md:"768px",lg:"1024px",xl:"1280px","2xl":"1536px"},colors:ap,spacings:{0:0,1:4,2:8,3:12,4:16,5:20,6:24,7:28,8:32,9:36,10:40,11:44,12:48,14:56,16:64,20:80,24:96,28:112,32:128,36:144,40:160,44:176,48:192,52:208,56:224,60:240,64:256,72:288,80:320,96:384},fontFamilies:{sans:'ui-sans-serif, system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji"',serif:'ui-serif, Georgia, Cambria, "Times New Roman", Times, serif',mono:'ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace'},fontSizes:{xs:12,sm:14,base:16,lg:18,xl:20,"2xl":24,"3xl":30,"4xl":36,"5xl":48,"6xl":60,"7xl":72,"8xl":96,"9xl":128},lineHeights:{none:1,tight:1.25,snug:1.375,normal:1.5,relaxed:1.625,loose:2},letterSpacings:{tighter:"-0.9px",tight:"-0.45px",normal:"0px",wide:"0.45px",wider:"0.9px",widest:"1.8px"},radii:{none:0,sm:2,md:4,lg:6,xl:8,"2xl":12,"3xl":16,full:9999},shadows:{sm:"0 1px 2px 0 rgb(0 0 0 / 0.05)",md:"0 1px 3px 0 rgb(0 0 0 / 0.1), 0 1px 2px -1px rgb(0 0 0 / 0.1)",lg:"0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1)",xl:"0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1)","2xl":"0 20px 25px -5px rgb(0 0 0 / 0.1), 0 8px 10px -6px rgb(0 0 0 / 0.1)","3xl":"0 25px 50px -12px rgb(0 0 0 / 0.25)",inner:"inset 0 2px 4px 0 rgba(0, 0, 0, 0.06)",outline:"0 0 0 3px rgba(66, 153, 225, 0.5)",none:"none"},fontWeights:{hairline:100,thin:200,light:300,normal:400,medium:500,semibold:600,bold:700,extrabold:800,black:900}},dw={unit:"px",prefix:"",theme:cw,plugins:lw},ip=dw;var yp=Nt(Cs()),Sw=Nt(gp());function Ii(){return Ii=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ii.apply(this,arguments)}function Ew(e,t){if(e==null)return{};var r={},n=Object.keys(e),a,i;for(i=0;i<n.length;i++)a=n[i],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}var Iw=["as"],Tw=(0,qt.forwardRef)(function(e,t){var r=e.as,n=r===void 0?"div":r,a=Ew(e,Iw),i=new ai(a),o=i.getParsedProps(),s=Sr.config.inline;if(s)Array.isArray(a.style)?o.style=[i.toStyle(),a.style]:o.style=Ii({},i.toStyle(),a.style);else{var u=i.getClassNames().join(" ").trim();u&&(i.insertRules(),o.className=u)}return(0,qt.createElement)(n,Ii({ref:t},o))});Tw.displayName="Box";Ed(ip);var MT=Sr.getAtomIds;function Ow(e="500"){let{colors:t}=Sr.theme;return Object.keys(t).filter(n=>n.endsWith(e)&&!/gray|slate|zinc|neutral|stone/i.test(n.toLowerCase()))}function cn(e="500"){let t=Ow(e),r=Math.floor(Math.random()*t.length);return t[r]}var J=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,oe=Object.keys,ye=Array.isArray;typeof Promise<"u"&&!J.Promise&&(J.Promise=Promise);function xe(e,t){return typeof t!="object"||oe(t).forEach(function(r){e[r]=t[r]}),e}var gn=Object.getPrototypeOf,Cw={}.hasOwnProperty;function Re(e,t){return Cw.call(e,t)}function Dr(e,t){typeof t=="function"&&(t=t(gn(e))),(typeof Reflect>"u"?oe:Reflect.ownKeys)(t).forEach(r=>{ot(e,r,t[r])})}var Np=Object.defineProperty;function ot(e,t,r,n){Np(e,t,xe(r&&Re(r,"get")&&typeof r.get=="function"?{get:r.get,set:r.set,configurable:!0}:{value:r,configurable:!0,writable:!0},n))}function Pr(e){return{from:function(t){return e.prototype=Object.create(t.prototype),ot(e.prototype,"constructor",e),{extend:Dr.bind(null,e.prototype)}}}}var Nw=Object.getOwnPropertyDescriptor;function Pu(e,t){let r=Nw(e,t),n;return r||(n=gn(e))&&Pu(n,t)}var Rw=[].slice;function qi(e,t,r){return Rw.call(e,t,r)}function Rp(e,t){return t(e)}function dn(e){if(!e)throw new Error("Assertion Failed")}function kp(e){J.setImmediate?setImmediate(e):setTimeout(e,0)}function Dp(e,t){return e.reduce((r,n,a)=>{var i=t(n,a);return i&&(r[i[0]]=i[1]),r},{})}function kw(e,t,r){try{e.apply(null,r)}catch(n){t&&t(n)}}function it(e,t){if(typeof t=="string"&&Re(e,t))return e[t];if(!t)return e;if(typeof t!="string"){for(var r=[],n=0,a=t.length;n<a;++n){var i=it(e,t[n]);r.push(i)}return r}var o=t.indexOf(".");if(o!==-1){var s=e[t.substr(0,o)];return s==null?void 0:it(s,t.substr(o+1))}}function Ue(e,t,r){if(!(!e||t===void 0)&&!("isFrozen"in Object&&Object.isFrozen(e)))if(typeof t!="string"&&"length"in t){dn(typeof r!="string"&&"length"in r);for(var n=0,a=t.length;n<a;++n)Ue(e,t[n],r[n])}else{var i=t.indexOf(".");if(i!==-1){var o=t.substr(0,i),s=t.substr(i+1);if(s==="")r===void 0?ye(e)&&!isNaN(parseInt(o))?e.splice(o,1):delete e[o]:e[o]=r;else{var u=e[o];(!u||!Re(e,o))&&(u=e[o]={}),Ue(u,s,r)}}else r===void 0?ye(e)&&!isNaN(parseInt(t))?e.splice(t,1):delete e[t]:e[t]=r}}function Dw(e,t){typeof t=="string"?Ue(e,t,void 0):"length"in t&&[].map.call(t,function(r){Ue(e,r,void 0)})}function Mp(e){var t={};for(var r in e)Re(e,r)&&(t[r]=e[r]);return t}var Mw=[].concat;function Pp(e){return Mw.apply([],e)}var Lp="BigUint64Array,BigInt64Array,Array,Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,FileSystemDirectoryHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(Pp([8,16,32,64].map(e=>["Int","Uint","Float"].map(t=>t+e+"Array")))).filter(e=>J[e]),Pw=Lp.map(e=>J[e]);Dp(Lp,e=>[e,!0]);var wt=null;function An(e){wt=typeof WeakMap<"u"&&new WeakMap;let t=su(e);return wt=null,t}function su(e){if(!e||typeof e!="object")return e;let t=wt&&wt.get(e);if(t)return t;if(ye(e)){t=[],wt&&wt.set(e,t);for(var r=0,n=e.length;r<n;++r)t.push(su(e[r]))}else if(Pw.indexOf(e.constructor)>=0)t=e;else{let i=gn(e);t=i===Object.prototype?{}:Object.create(i),wt&&wt.set(e,t);for(var a in e)Re(e,a)&&(t[a]=su(e[a]))}return t}var{toString:Lw}={};function uu(e){return Lw.call(e).slice(8,-1)}var lu=typeof Symbol<"u"?Symbol.iterator:"@@iterator",Fw=typeof lu=="symbol"?function(e){var t;return e!=null&&(t=e[lu])&&t.apply(e)}:function(){return null},Rr={};function nt(e){var t,r,n,a;if(arguments.length===1){if(ye(e))return e.slice();if(this===Rr&&typeof e=="string")return[e];if(a=Fw(e)){for(r=[];n=a.next(),!n.done;)r.push(n.value);return r}if(e==null)return[e];if(t=e.length,typeof t=="number"){for(r=new Array(t);t--;)r[t]=e[t];return r}return[e]}for(t=arguments.length,r=new Array(t);t--;)r[t]=arguments[t];return r}var Lu=typeof Symbol<"u"?e=>e[Symbol.toStringTag]==="AsyncFunction":()=>!1,Ye=typeof location<"u"&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function Fp(e,t){Ye=e,Up=t}var Up=()=>!0,Uw=!new Error("").stack;function tr(){if(Uw)try{throw tr.arguments,new Error}catch(e){return e}return new Error}function cu(e,t){var r=e.stack;return r?(t=t||0,r.indexOf(e.name)===0&&(t+=(e.name+e.message).split(`
`).length),r.split(`
`).slice(t).filter(Up).map(n=>`
`+n).join("")):""}var jw=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"],jp=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],Fu=jw.concat(jp),Bw={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function Lr(e,t){this._e=tr(),this.name=e,this.message=t}Pr(Lr).from(Error).extend({stack:{get:function(){return this._stack||(this._stack=this.name+": "+this.message+cu(this._e,2))}},toString:function(){return this.name+": "+this.message}});function Bp(e,t){return e+". Errors: "+Object.keys(t).map(r=>t[r].toString()).filter((r,n,a)=>a.indexOf(r)===n).join(`
`)}function Ui(e,t,r,n){this._e=tr(),this.failures=t,this.failedKeys=n,this.successCount=r,this.message=Bp(e,t)}Pr(Ui).from(Lr);function pn(e,t){this._e=tr(),this.name="BulkError",this.failures=Object.keys(t).map(r=>t[r]),this.failuresByPos=t,this.message=Bp(e,t)}Pr(pn).from(Lr);var Uu=Fu.reduce((e,t)=>(e[t]=t+"Error",e),{}),Ww=Lr,F=Fu.reduce((e,t)=>{var r=t+"Error";function n(a,i){this._e=tr(),this.name=r,a?typeof a=="string"?(this.message=`${a}${i?`
 `+i:""}`,this.inner=i||null):typeof a=="object"&&(this.message=`${a.name} ${a.message}`,this.inner=a):(this.message=Bw[t]||r,this.inner=null)}return Pr(n).from(Ww),e[t]=n,e},{});F.Syntax=SyntaxError;F.Type=TypeError;F.Range=RangeError;var vp=jp.reduce((e,t)=>(e[t+"Error"]=F[t],e),{});function $w(e,t){if(!e||e instanceof Lr||e instanceof TypeError||e instanceof SyntaxError||!e.name||!vp[e.name])return e;var r=new vp[e.name](t||e.message,e);return"stack"in e&&ot(r,"stack",{get:function(){return this.inner.stack}}),r}var Zi=Fu.reduce((e,t)=>(["Syntax","Type","Range"].indexOf(t)===-1&&(e[t+"Error"]=F[t]),e),{});Zi.ModifyError=Ui;Zi.DexieError=Lr;Zi.BulkError=pn;function X(){}function Sn(e){return e}function Vw(e,t){return e==null||e===Sn?t:function(r){return t(e(r))}}function Jt(e,t){return function(){e.apply(this,arguments),t.apply(this,arguments)}}function Hw(e,t){return e===X?t:function(){var r=e.apply(this,arguments);r!==void 0&&(arguments[0]=r);var n=this.onsuccess,a=this.onerror;this.onsuccess=null,this.onerror=null;var i=t.apply(this,arguments);return n&&(this.onsuccess=this.onsuccess?Jt(n,this.onsuccess):n),a&&(this.onerror=this.onerror?Jt(a,this.onerror):a),i!==void 0?i:r}}function Yw(e,t){return e===X?t:function(){e.apply(this,arguments);var r=this.onsuccess,n=this.onerror;this.onsuccess=this.onerror=null,t.apply(this,arguments),r&&(this.onsuccess=this.onsuccess?Jt(r,this.onsuccess):r),n&&(this.onerror=this.onerror?Jt(n,this.onerror):n)}}function zw(e,t){return e===X?t:function(r){var n=e.apply(this,arguments);xe(r,n);var a=this.onsuccess,i=this.onerror;this.onsuccess=null,this.onerror=null;var o=t.apply(this,arguments);return a&&(this.onsuccess=this.onsuccess?Jt(a,this.onsuccess):a),i&&(this.onerror=this.onerror?Jt(i,this.onerror):i),n===void 0?o===void 0?void 0:o:xe(n,o)}}function Gw(e,t){return e===X?t:function(){return t.apply(this,arguments)===!1?!1:e.apply(this,arguments)}}function ju(e,t){return e===X?t:function(){var r=e.apply(this,arguments);if(r&&typeof r.then=="function"){for(var n=this,a=arguments.length,i=new Array(a);a--;)i[a]=arguments[a];return r.then(function(){return t.apply(n,i)})}return t.apply(this,arguments)}}var yn={},qw=100,Zw=20,Wp=100,[du,ji,fu]=typeof Promise>"u"?[]:(()=>{let e=Promise.resolve();if(typeof crypto>"u"||!crypto.subtle)return[e,gn(e),e];let t=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[t,gn(t),e]})(),$p=ji&&ji.then,ki=du&&du.constructor,Bu=!!fu,pu=!1,Kw=fu?()=>{fu.then(Ti)}:J.setImmediate?setImmediate.bind(null,Ti):J.MutationObserver?()=>{var e=document.createElement("div");new MutationObserver(()=>{Ti(),e=null}).observe(e,{attributes:!0}),e.setAttribute("i","1")}:()=>{setTimeout(Ti,0)},vn=function(e,t){fn.push([e,t]),Bi&&(Kw(),Bi=!1)},hu=!0,Bi=!0,Xt=[],Di=[],mu=null,gu=Sn,kr={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:xp,pgp:!1,env:{},finalize:function(){this.unhandleds.forEach(e=>{try{xp(e[0],e[1])}catch{}})}},D=kr,fn=[],Qt=0,Mi=[];function O(e){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");this._listeners=[],this.onuncatched=X,this._lib=!1;var t=this._PSD=D;if(Ye&&(this._stackHolder=tr(),this._prev=null,this._numPrev=0),typeof e!="function"){if(e!==yn)throw new TypeError("Not a function");this._state=arguments[1],this._value=arguments[2],this._state===!1&&vu(this,this._value);return}this._state=null,this._value=null,++t.ref,Hp(this,e)}var yu={get:function(){var e=D,t=Wi;function r(n,a){var i=!e.global&&(e!==D||t!==Wi);let o=i&&!st();var s=new O((u,l)=>{Wu(this,new Vp(Vi(n,e,i,o),Vi(a,e,i,o),u,l,e))});return Ye&&Gp(s,this),s}return r.prototype=yn,r},set:function(e){ot(this,"then",e&&e.prototype===yn?yu:{get:function(){return e},set:yu.set})}};Dr(O.prototype,{then:yu,_then:function(e,t){Wu(this,new Vp(null,null,e,t,D))},catch:function(e){if(arguments.length===1)return this.then(null,e);var t=arguments[0],r=arguments[1];return typeof t=="function"?this.then(null,n=>n instanceof t?r(n):Pi(n)):this.then(null,n=>n&&n.name===t?r(n):Pi(n))},finally:function(e){return this.then(t=>(e(),t),t=>(e(),Pi(t)))},stack:{get:function(){if(this._stack)return this._stack;try{pu=!0;var e=zp(this,[],Zw),t=e.join(`
From previous: `);return this._state!==null&&(this._stack=t),t}finally{pu=!1}}},timeout:function(e,t){return e<1/0?new O((r,n)=>{var a=setTimeout(()=>n(new F.Timeout(t)),e);this.then(r,n).finally(clearTimeout.bind(null,a))}):this}});typeof Symbol<"u"&&Symbol.toStringTag&&ot(O.prototype,Symbol.toStringTag,"Dexie.Promise");kr.env=qp();function Vp(e,t,r,n,a){this.onFulfilled=typeof e=="function"?e:null,this.onRejected=typeof t=="function"?t:null,this.resolve=r,this.reject=n,this.psd=a}Dr(O,{all:function(){var e=nt.apply(null,arguments).map($i);return new O(function(t,r){e.length===0&&t([]);var n=e.length;e.forEach((a,i)=>O.resolve(a).then(o=>{e[i]=o,--n||t(e)},r))})},resolve:e=>{if(e instanceof O)return e;if(e&&typeof e.then=="function")return new O((r,n)=>{e.then(r,n)});var t=new O(yn,!0,e);return Gp(t,mu),t},reject:Pi,race:function(){var e=nt.apply(null,arguments).map($i);return new O((t,r)=>{e.map(n=>O.resolve(n).then(t,r))})},PSD:{get:()=>D,set:e=>D=e},totalEchoes:{get:()=>Wi},newPSD:_t,usePSD:Ur,scheduler:{get:()=>vn,set:e=>{vn=e}},rejectionMapper:{get:()=>gu,set:e=>{gu=e}},follow:(e,t)=>new O((r,n)=>_t((a,i)=>{var o=D;o.unhandleds=[],o.onunhandled=i,o.finalize=Jt(function(){Qw(()=>{this.unhandleds.length===0?a():i(this.unhandleds[0])})},o.finalize),e()},t,r,n))});ki&&(ki.allSettled&&ot(O,"allSettled",function(){let e=nt.apply(null,arguments).map($i);return new O(t=>{e.length===0&&t([]);let r=e.length,n=new Array(r);e.forEach((a,i)=>O.resolve(a).then(o=>n[i]={status:"fulfilled",value:o},o=>n[i]={status:"rejected",reason:o}).then(()=>--r||t(n)))})}),ki.any&&typeof AggregateError<"u"&&ot(O,"any",function(){let e=nt.apply(null,arguments).map($i);return new O((t,r)=>{e.length===0&&r(new AggregateError([]));let n=e.length,a=new Array(n);e.forEach((i,o)=>O.resolve(i).then(s=>t(s),s=>{a[o]=s,--n||r(new AggregateError(a))}))})}));function Hp(e,t){try{t(r=>{if(e._state===null){if(r===e)throw new TypeError("A promise cannot be resolved with itself.");var n=e._lib&&En();r&&typeof r.then=="function"?Hp(e,(a,i)=>{r instanceof O?r._then(a,i):r.then(a,i)}):(e._state=!0,e._value=r,Yp(e)),n&&In()}},vu.bind(null,e))}catch(r){vu(e,r)}}function vu(e,t){if(Di.push(t),e._state===null){var r=e._lib&&En();t=gu(t),e._state=!1,e._value=t,Ye&&t!==null&&typeof t=="object"&&!t._promise&&kw(()=>{var n=Pu(t,"stack");t._promise=e,ot(t,"stack",{get:()=>pu?n&&(n.get?n.get.apply(t):n.value):e.stack})}),Jw(e),Yp(e),r&&In()}}function Yp(e){var t=e._listeners;e._listeners=[];for(var r=0,n=t.length;r<n;++r)Wu(e,t[r]);var a=e._PSD;--a.ref||a.finalize(),Qt===0&&(++Qt,vn(()=>{--Qt===0&&$u()},[]))}function Wu(e,t){if(e._state===null){e._listeners.push(t);return}var r=e._state?t.onFulfilled:t.onRejected;if(r===null)return(e._state?t.resolve:t.reject)(e._value);++t.psd.ref,++Qt,vn(Xw,[r,e,t])}function Xw(e,t,r){try{mu=t;var n,a=t._value;t._state?n=e(a):(Di.length&&(Di=[]),n=e(a),Di.indexOf(a)===-1&&ex(t)),r.resolve(n)}catch(i){r.reject(i)}finally{mu=null,--Qt===0&&$u(),--r.psd.ref||r.psd.finalize()}}function zp(e,t,r){if(t.length===r)return t;var n="";if(e._state===!1){var a=e._value,i,o;a!=null?(i=a.name||"Error",o=a.message||a,n=cu(a,0)):(i=a,o=""),t.push(i+(o?": "+o:"")+n)}return Ye&&(n=cu(e._stackHolder,2),n&&t.indexOf(n)===-1&&t.push(n),e._prev&&zp(e._prev,t,r)),t}function Gp(e,t){var r=t?t._numPrev+1:0;r<qw&&(e._prev=t,e._numPrev=r)}function Ti(){En()&&In()}function En(){var e=hu;return hu=!1,Bi=!1,e}function In(){var e,t,r;do for(;fn.length>0;)for(e=fn,fn=[],r=e.length,t=0;t<r;++t){var n=e[t];n[0].apply(null,n[1])}while(fn.length>0);hu=!0,Bi=!0}function $u(){var e=Xt;Xt=[],e.forEach(n=>{n._PSD.onunhandled.call(null,n._value,n)});for(var t=Mi.slice(0),r=t.length;r;)t[--r]()}function Qw(e){function t(){e(),Mi.splice(Mi.indexOf(t),1)}Mi.push(t),++Qt,vn(()=>{--Qt===0&&$u()},[])}function Jw(e){Xt.some(t=>t._value===e._value)||Xt.push(e)}function ex(e){for(var t=Xt.length;t;)if(Xt[--t]._value===e._value){Xt.splice(t,1);return}}function Pi(e){return new O(yn,!1,e)}function ee(e,t){var r=D;return function(){var n=En(),a=D;try{return At(r,!0),e.apply(this,arguments)}catch(i){t&&t(i)}finally{At(a,!1),n&&In()}}}var ge={awaits:0,echoes:0,id:0},tx=0,Li=[],tu=0,Wi=0,rx=0;function _t(e,t,r,n){var a=D,i=Object.create(a);i.parent=a,i.ref=0,i.global=!1,i.id=++rx;var o=kr.env;i.env=Bu?{Promise:O,PromiseProp:{value:O,configurable:!0,writable:!0},all:O.all,race:O.race,allSettled:O.allSettled,any:O.any,resolve:O.resolve,reject:O.reject,nthen:bp(o.nthen,i),gthen:bp(o.gthen,i)}:{},t&&xe(i,t),++a.ref,i.finalize=function(){--this.parent.ref||this.parent.finalize()};var s=Ur(i,e,r,n);return i.ref===0&&i.finalize(),s}function Fr(){return ge.id||(ge.id=++tx),++ge.awaits,ge.echoes+=Wp,ge.id}function st(){return ge.awaits?(--ge.awaits===0&&(ge.id=0),ge.echoes=ge.awaits*Wp,!0):!1}(""+$p).indexOf("[native code]")===-1&&(Fr=st=X);function $i(e){return ge.echoes&&e&&e.constructor===ki?(Fr(),e.then(t=>(st(),t),t=>(st(),le(t)))):e}function nx(e){++Wi,(!ge.echoes||--ge.echoes===0)&&(ge.echoes=ge.id=0),Li.push(D),At(e,!0)}function ax(){var e=Li[Li.length-1];Li.pop(),At(e,!1)}function At(e,t){var r=D;if((t?ge.echoes&&(!tu++||e!==D):tu&&(!--tu||e!==D))&&Zp(t?nx.bind(null,e):ax),e!==D&&(D=e,r===kr&&(kr.env=qp()),Bu)){var n=kr.env.Promise,a=e.env;ji.then=a.nthen,n.prototype.then=a.gthen,(r.global||e.global)&&(Object.defineProperty(J,"Promise",a.PromiseProp),n.all=a.all,n.race=a.race,n.resolve=a.resolve,n.reject=a.reject,a.allSettled&&(n.allSettled=a.allSettled),a.any&&(n.any=a.any))}}function qp(){var e=J.Promise;return Bu?{Promise:e,PromiseProp:Object.getOwnPropertyDescriptor(J,"Promise"),all:e.all,race:e.race,allSettled:e.allSettled,any:e.any,resolve:e.resolve,reject:e.reject,nthen:ji.then,gthen:e.prototype.then}:{}}function Ur(e,t,r,n,a){var i=D;try{return At(e,!0),t(r,n,a)}finally{At(i,!1)}}function Zp(e){$p.call(du,e)}function Vi(e,t,r,n){return typeof e!="function"?e:function(){var a=D;r&&Fr(),At(t,!0);try{return e.apply(this,arguments)}finally{At(a,!1),n&&Zp(st)}}}function bp(e,t){return function(r,n){return e.call(this,Vi(r,t),Vi(n,t))}}var wp="unhandledrejection";function xp(e,t){var r;try{r=t.onuncatched(e)}catch{}if(r!==!1)try{var n,a={promise:t,reason:e};if(J.document&&document.createEvent?(n=document.createEvent("Event"),n.initEvent(wp,!0,!0),xe(n,a)):J.CustomEvent&&(n=new CustomEvent(wp,{detail:a}),xe(n,a)),n&&J.dispatchEvent&&(dispatchEvent(n),!J.PromiseRejectionEvent&&J.onunhandledrejection))try{J.onunhandledrejection(n)}catch{}Ye&&n&&!n.defaultPrevented&&console.warn(`Unhandled rejection: ${e.stack||e}`)}catch{}}var le=O.reject;function bu(e,t,r,n){if(!e.idbdb||!e._state.openComplete&&!D.letThrough&&!e._vip){if(e._state.openComplete)return le(new F.DatabaseClosed(e._state.dbOpenError));if(!e._state.isBeingOpened){if(!e._options.autoOpen)return le(new F.DatabaseClosed);e.open().catch(X)}return e._state.dbReadyPromise.then(()=>bu(e,t,r,n))}else{var a=e._createTransaction(t,r,e._dbSchema);try{a.create(),e._state.PR1398_maxLoop=3}catch(i){return i.name===Uu.InvalidState&&e.isOpen()&&--e._state.PR1398_maxLoop>0?(console.warn("Dexie: Need to reopen db"),e._close(),e.open().then(()=>bu(e,t,r,n))):le(i)}return a._promise(t,(i,o)=>_t(()=>(D.trans=a,n(i,o,a)))).then(i=>a._completion.then(()=>i))}}var _p="3.2.7",Kt="\uFFFF",wu=-1/0,tt="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",Kp="String expected.",hn=[],Ki=typeof navigator<"u"&&/(MSIE|Trident|Edge)/.test(navigator.userAgent),ix=Ki,ox=Ki,Xp=e=>!/(dexie\.js|dexie\.min\.js)/.test(e),Xi="__dbnames",ru="readonly",nu="readwrite";function er(e,t){return e?t?function(){return e.apply(this,arguments)&&t.apply(this,arguments)}:e:t}var Qp={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function Oi(e){return typeof e=="string"&&!/\./.test(e)?t=>(t[e]===void 0&&e in t&&(t=An(t),delete t[e]),t):t=>t}var xu=class{_trans(t,r,n){let a=this._tx||D.trans,i=this.name;function o(u,l,c){if(!c.schema[i])throw new F.NotFound("Table "+i+" not part of transaction");return r(c.idbtrans,c)}let s=En();try{return a&&a.db===this.db?a===D.trans?a._promise(t,o,n):_t(()=>a._promise(t,o,n),{trans:a,transless:D.transless||D}):bu(this.db,t,[this.name],o)}finally{s&&In()}}get(t,r){return t&&t.constructor===Object?this.where(t).first(r):this._trans("readonly",n=>this.core.get({trans:n,key:t}).then(a=>this.hook.reading.fire(a))).then(r)}where(t){if(typeof t=="string")return new this.db.WhereClause(this,t);if(ye(t))return new this.db.WhereClause(this,`[${t.join("+")}]`);let r=oe(t);if(r.length===1)return this.where(r[0]).equals(t[r[0]]);let n=this.schema.indexes.concat(this.schema.primKey).filter(l=>{if(l.compound&&r.every(c=>l.keyPath.indexOf(c)>=0)){for(let c=0;c<r.length;++c)if(r.indexOf(l.keyPath[c])===-1)return!1;return!0}return!1}).sort((l,c)=>l.keyPath.length-c.keyPath.length)[0];if(n&&this.db._maxKey!==Kt){let l=n.keyPath.slice(0,r.length);return this.where(l).equals(l.map(c=>t[c]))}!n&&Ye&&console.warn(`The query ${JSON.stringify(t)} on ${this.name} would benefit of a compound index [${r.join("+")}]`);let{idxByName:a}=this.schema,i=this.db._deps.indexedDB;function o(l,c){try{return i.cmp(l,c)===0}catch{return!1}}let[s,u]=r.reduce(([l,c],d)=>{let f=a[d],p=t[d];return[l||f,l||!f?er(c,f&&f.multi?g=>{let h=it(g,d);return ye(h)&&h.some(y=>o(p,y))}:g=>o(p,it(g,d))):c]},[null,null]);return s?this.where(s.name).equals(t[s.keyPath]).filter(u):n?this.filter(u):this.where(r).equals("")}filter(t){return this.toCollection().and(t)}count(t){return this.toCollection().count(t)}offset(t){return this.toCollection().offset(t)}limit(t){return this.toCollection().limit(t)}each(t){return this.toCollection().each(t)}toArray(t){return this.toCollection().toArray(t)}toCollection(){return new this.db.Collection(new this.db.WhereClause(this))}orderBy(t){return new this.db.Collection(new this.db.WhereClause(this,ye(t)?`[${t.join("+")}]`:t))}reverse(){return this.toCollection().reverse()}mapToClass(t){this.schema.mappedClass=t;let r=n=>{if(!n)return n;let a=Object.create(t.prototype);for(var i in n)if(Re(n,i))try{a[i]=n[i]}catch{}return a};return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=r,this.hook("reading",r),t}defineClass(){function t(r){xe(this,r)}return this.mapToClass(t)}add(t,r){let{auto:n,keyPath:a}=this.schema.primKey,i=t;return a&&n&&(i=Oi(a)(t)),this._trans("readwrite",o=>this.core.mutate({trans:o,type:"add",keys:r!=null?[r]:null,values:[i]})).then(o=>o.numFailures?O.reject(o.failures[0]):o.lastResult).then(o=>{if(a)try{Ue(t,a,o)}catch{}return o})}update(t,r){if(typeof t=="object"&&!ye(t)){let n=it(t,this.schema.primKey.keyPath);if(n===void 0)return le(new F.InvalidArgument("Given object does not contain its primary key"));try{typeof r!="function"?oe(r).forEach(a=>{Ue(t,a,r[a])}):r(t,{value:t,primKey:n})}catch{}return this.where(":id").equals(n).modify(r)}else return this.where(":id").equals(t).modify(r)}put(t,r){let{auto:n,keyPath:a}=this.schema.primKey,i=t;return a&&n&&(i=Oi(a)(t)),this._trans("readwrite",o=>this.core.mutate({trans:o,type:"put",values:[i],keys:r!=null?[r]:null})).then(o=>o.numFailures?O.reject(o.failures[0]):o.lastResult).then(o=>{if(a)try{Ue(t,a,o)}catch{}return o})}delete(t){return this._trans("readwrite",r=>this.core.mutate({trans:r,type:"delete",keys:[t]})).then(r=>r.numFailures?O.reject(r.failures[0]):void 0)}clear(){return this._trans("readwrite",t=>this.core.mutate({trans:t,type:"deleteRange",range:Qp})).then(t=>t.numFailures?O.reject(t.failures[0]):void 0)}bulkGet(t){return this._trans("readonly",r=>this.core.getMany({keys:t,trans:r}).then(n=>n.map(a=>this.hook.reading.fire(a))))}bulkAdd(t,r,n){let a=Array.isArray(r)?r:void 0;n=n||(a?void 0:r);let i=n?n.allKeys:void 0;return this._trans("readwrite",o=>{let{auto:s,keyPath:u}=this.schema.primKey;if(u&&a)throw new F.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(a&&a.length!==t.length)throw new F.InvalidArgument("Arguments objects and keys must have the same length");let l=t.length,c=u&&s?t.map(Oi(u)):t;return this.core.mutate({trans:o,type:"add",keys:a,values:c,wantResults:i}).then(({numFailures:d,results:f,lastResult:p,failures:g})=>{let h=i?f:p;if(d===0)return h;throw new pn(`${this.name}.bulkAdd(): ${d} of ${l} operations failed`,g)})})}bulkPut(t,r,n){let a=Array.isArray(r)?r:void 0;n=n||(a?void 0:r);let i=n?n.allKeys:void 0;return this._trans("readwrite",o=>{let{auto:s,keyPath:u}=this.schema.primKey;if(u&&a)throw new F.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(a&&a.length!==t.length)throw new F.InvalidArgument("Arguments objects and keys must have the same length");let l=t.length,c=u&&s?t.map(Oi(u)):t;return this.core.mutate({trans:o,type:"put",keys:a,values:c,wantResults:i}).then(({numFailures:d,results:f,lastResult:p,failures:g})=>{let h=i?f:p;if(d===0)return h;throw new pn(`${this.name}.bulkPut(): ${d} of ${l} operations failed`,g)})})}bulkDelete(t){let r=t.length;return this._trans("readwrite",n=>this.core.mutate({trans:n,type:"delete",keys:t})).then(({numFailures:n,lastResult:a,failures:i})=>{if(n===0)return a;throw new pn(`${this.name}.bulkDelete(): ${n} of ${r} operations failed`,i)})}};function Tn(e){var t={},r=function(s,u){if(u){for(var l=arguments.length,c=new Array(l-1);--l;)c[l-1]=arguments[l];return t[s].subscribe.apply(null,c),e}else if(typeof s=="string")return t[s]};r.addEventType=i;for(var n=1,a=arguments.length;n<a;++n)i(arguments[n]);return r;function i(s,u,l){if(typeof s=="object")return o(s);u||(u=Gw),l||(l=X);var c={subscribers:[],fire:l,subscribe:function(d){c.subscribers.indexOf(d)===-1&&(c.subscribers.push(d),c.fire=u(c.fire,d))},unsubscribe:function(d){c.subscribers=c.subscribers.filter(function(f){return f!==d}),c.fire=c.subscribers.reduce(u,l)}};return t[s]=r[s]=c,c}function o(s){oe(s).forEach(function(u){var l=s[u];if(ye(l))i(u,s[u][0],s[u][1]);else if(l==="asap")var c=i(u,Sn,function(){for(var f=arguments.length,p=new Array(f);f--;)p[f]=arguments[f];c.subscribers.forEach(function(g){kp(function(){g.apply(null,p)})})});else throw new F.InvalidArgument("Invalid event config")})}}function On(e,t){return Pr(t).from({prototype:e}),t}function sx(e){return On(xu.prototype,function(r,n,a){this.db=e,this._tx=a,this.name=r,this.schema=n,this.hook=e._allTables[r]?e._allTables[r].hook:Tn(null,{creating:[Hw,X],reading:[Vw,Sn],updating:[zw,X],deleting:[Yw,X]})})}function Cr(e,t){return!(e.filter||e.algorithm||e.or)&&(t?e.justLimit:!e.replayFilter)}function au(e,t){e.filter=er(e.filter,t)}function iu(e,t,r){var n=e.replayFilter;e.replayFilter=n?()=>er(n(),t()):t,e.justLimit=r&&!n}function ux(e,t){e.isMatch=er(e.isMatch,t)}function Fi(e,t){if(e.isPrimKey)return t.primaryKey;let r=t.getIndexByKeyPath(e.index);if(!r)throw new F.Schema("KeyPath "+e.index+" on object store "+t.name+" is not indexed");return r}function Ap(e,t,r){let n=Fi(e,t.schema);return t.openCursor({trans:r,values:!e.keysOnly,reverse:e.dir==="prev",unique:!!e.unique,query:{index:n,range:e.range}})}function Ci(e,t,r,n){let a=e.replayFilter?er(e.filter,e.replayFilter()):e.filter;if(e.or){let i={},o=(s,u,l)=>{if(!a||a(u,l,f=>u.stop(f),f=>u.fail(f))){var c=u.primaryKey,d=""+c;d==="[object ArrayBuffer]"&&(d=""+new Uint8Array(c)),Re(i,d)||(i[d]=!0,t(s,u,l))}};return Promise.all([e.or._iterate(o,r),Sp(Ap(e,n,r),e.algorithm,o,!e.keysOnly&&e.valueMapper)])}else return Sp(Ap(e,n,r),er(e.algorithm,a),t,!e.keysOnly&&e.valueMapper)}function Sp(e,t,r,n){var a=n?(o,s,u)=>r(n(o),s,u):r,i=ee(a);return e.then(o=>{if(o)return o.start(()=>{var s=()=>o.continue();(!t||t(o,u=>s=u,u=>{o.stop(u),s=X},u=>{o.fail(u),s=X}))&&i(o.value,o,u=>s=u),s()})})}function we(e,t){try{let r=Ep(e),n=Ep(t);if(r!==n)return r==="Array"?1:n==="Array"?-1:r==="binary"?1:n==="binary"?-1:r==="string"?1:n==="string"?-1:r==="Date"?1:n!=="Date"?NaN:-1;switch(r){case"number":case"Date":case"string":return e>t?1:e<t?-1:0;case"binary":return cx(Ip(e),Ip(t));case"Array":return lx(e,t)}}catch{}return NaN}function lx(e,t){let r=e.length,n=t.length,a=r<n?r:n;for(let i=0;i<a;++i){let o=we(e[i],t[i]);if(o!==0)return o}return r===n?0:r<n?-1:1}function cx(e,t){let r=e.length,n=t.length,a=r<n?r:n;for(let i=0;i<a;++i)if(e[i]!==t[i])return e[i]<t[i]?-1:1;return r===n?0:r<n?-1:1}function Ep(e){let t=typeof e;if(t!=="object")return t;if(ArrayBuffer.isView(e))return"binary";let r=uu(e);return r==="ArrayBuffer"?"binary":r}function Ip(e){return e instanceof Uint8Array?e:ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):new Uint8Array(e)}var _u=class{_read(t,r){var n=this._ctx;return n.error?n.table._trans(null,le.bind(null,n.error)):n.table._trans("readonly",t).then(r)}_write(t){var r=this._ctx;return r.error?r.table._trans(null,le.bind(null,r.error)):r.table._trans("readwrite",t,"locked")}_addAlgorithm(t){var r=this._ctx;r.algorithm=er(r.algorithm,t)}_iterate(t,r){return Ci(this._ctx,t,r,this._ctx.table.core)}clone(t){var r=Object.create(this.constructor.prototype),n=Object.create(this._ctx);return t&&xe(n,t),r._ctx=n,r}raw(){return this._ctx.valueMapper=null,this}each(t){var r=this._ctx;return this._read(n=>Ci(r,t,n,r.table.core))}count(t){return this._read(r=>{let n=this._ctx,a=n.table.core;if(Cr(n,!0))return a.count({trans:r,query:{index:Fi(n,a.schema),range:n.range}}).then(o=>Math.min(o,n.limit));var i=0;return Ci(n,()=>(++i,!1),r,a).then(()=>i)}).then(t)}sortBy(t,r){let n=t.split(".").reverse(),a=n[0],i=n.length-1;function o(l,c){return c?o(l[n[c]],c-1):l[a]}var s=this._ctx.dir==="next"?1:-1;function u(l,c){var d=o(l,i),f=o(c,i);return d<f?-s:d>f?s:0}return this.toArray(function(l){return l.sort(u)}).then(r)}toArray(t){return this._read(r=>{var n=this._ctx;if(n.dir==="next"&&Cr(n,!0)&&n.limit>0){let{valueMapper:a}=n,i=Fi(n,n.table.core.schema);return n.table.core.query({trans:r,limit:n.limit,values:!0,query:{index:i,range:n.range}}).then(({result:o})=>a?o.map(a):o)}else{let a=[];return Ci(n,i=>a.push(i),r,n.table.core).then(()=>a)}},t)}offset(t){var r=this._ctx;return t<=0?this:(r.offset+=t,Cr(r)?iu(r,()=>{var n=t;return(a,i)=>n===0?!0:n===1?(--n,!1):(i(()=>{a.advance(n),n=0}),!1)}):iu(r,()=>{var n=t;return()=>--n<0}),this)}limit(t){return this._ctx.limit=Math.min(this._ctx.limit,t),iu(this._ctx,()=>{var r=t;return function(n,a,i){return--r<=0&&a(i),r>=0}},!0),this}until(t,r){return au(this._ctx,function(n,a,i){return t(n.value)?(a(i),r):!0}),this}first(t){return this.limit(1).toArray(function(r){return r[0]}).then(t)}last(t){return this.reverse().first(t)}filter(t){return au(this._ctx,function(r){return t(r.value)}),ux(this._ctx,t),this}and(t){return this.filter(t)}or(t){return new this.db.WhereClause(this._ctx.table,t,this)}reverse(){return this._ctx.dir=this._ctx.dir==="prev"?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this}desc(){return this.reverse()}eachKey(t){var r=this._ctx;return r.keysOnly=!r.isMatch,this.each(function(n,a){t(a.key,a)})}eachUniqueKey(t){return this._ctx.unique="unique",this.eachKey(t)}eachPrimaryKey(t){var r=this._ctx;return r.keysOnly=!r.isMatch,this.each(function(n,a){t(a.primaryKey,a)})}keys(t){var r=this._ctx;r.keysOnly=!r.isMatch;var n=[];return this.each(function(a,i){n.push(i.key)}).then(function(){return n}).then(t)}primaryKeys(t){var r=this._ctx;if(r.dir==="next"&&Cr(r,!0)&&r.limit>0)return this._read(a=>{var i=Fi(r,r.table.core.schema);return r.table.core.query({trans:a,values:!1,limit:r.limit,query:{index:i,range:r.range}})}).then(({result:a})=>a).then(t);r.keysOnly=!r.isMatch;var n=[];return this.each(function(a,i){n.push(i.primaryKey)}).then(function(){return n}).then(t)}uniqueKeys(t){return this._ctx.unique="unique",this.keys(t)}firstKey(t){return this.limit(1).keys(function(r){return r[0]}).then(t)}lastKey(t){return this.reverse().firstKey(t)}distinct(){var t=this._ctx,r=t.index&&t.table.schema.idxByName[t.index];if(!r||!r.multi)return this;var n={};return au(this._ctx,function(a){var i=a.primaryKey.toString(),o=Re(n,i);return n[i]=!0,!o}),this}modify(t){var r=this._ctx;return this._write(n=>{var a;if(typeof t=="function")a=t;else{var i=oe(t),o=i.length;a=function(h){for(var y=!1,m=0;m<o;++m){var b=i[m],S=t[b];it(h,b)!==S&&(Ue(h,b,S),y=!0)}return y}}let s=r.table.core,{outbound:u,extractKey:l}=s.schema.primaryKey,c=this.db._options.modifyChunkSize||200,d=[],f=0,p=[],g=(h,y)=>{let{failures:m,numFailures:b}=y;f+=h-b;for(let S of oe(m))d.push(m[S])};return this.clone().primaryKeys().then(h=>{let y=m=>{let b=Math.min(c,h.length-m);return s.getMany({trans:n,keys:h.slice(m,m+b),cache:"immutable"}).then(S=>{let v=[],_=[],w=u?[]:null,E=[];for(let k=0;k<b;++k){let U=S[k],N={value:An(U),primKey:h[m+k]};a.call(N,N.value,N)!==!1&&(N.value==null?E.push(h[m+k]):!u&&we(l(U),l(N.value))!==0?(E.push(h[m+k]),v.push(N.value)):(_.push(N.value),u&&w.push(h[m+k])))}let C=Cr(r)&&r.limit===1/0&&(typeof t!="function"||t===ou)&&{index:r.index,range:r.range};return Promise.resolve(v.length>0&&s.mutate({trans:n,type:"add",values:v}).then(k=>{for(let U in k.failures)E.splice(parseInt(U),1);g(v.length,k)})).then(()=>(_.length>0||C&&typeof t=="object")&&s.mutate({trans:n,type:"put",keys:w,values:_,criteria:C,changeSpec:typeof t!="function"&&t}).then(k=>g(_.length,k))).then(()=>(E.length>0||C&&t===ou)&&s.mutate({trans:n,type:"delete",keys:E,criteria:C}).then(k=>g(E.length,k))).then(()=>h.length>m+b&&y(m+c))})};return y(0).then(()=>{if(d.length>0)throw new Ui("Error modifying one or more objects",d,f,p);return h.length})})})}delete(){var t=this._ctx,r=t.range;return Cr(t)&&(t.isPrimKey&&!ox||r.type===3)?this._write(n=>{let{primaryKey:a}=t.table.core.schema,i=r;return t.table.core.count({trans:n,query:{index:a,range:i}}).then(o=>t.table.core.mutate({trans:n,type:"deleteRange",range:i}).then(({failures:s,lastResult:u,results:l,numFailures:c})=>{if(c)throw new Ui("Could not delete some values",Object.keys(s).map(d=>s[d]),o-c);return o-c}))}):this.modify(ou)}},ou=(e,t)=>t.value=null;function dx(e){return On(_u.prototype,function(r,n){this.db=e;let a=Qp,i=null;if(n)try{a=n()}catch(l){i=l}let o=r._ctx,s=o.table,u=s.hook.reading.fire;this._ctx={table:s,index:o.index,isPrimKey:!o.index||s.schema.primKey.keyPath&&o.index===s.schema.primKey.name,range:a,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:i,or:o.or,valueMapper:u!==Sn?u:null}})}function fx(e,t){return e<t?-1:e===t?0:1}function px(e,t){return e>t?-1:e===t?0:1}function Ne(e,t,r){var n=e instanceof Hi?new e.Collection(e):e;return n._ctx.error=r?new r(t):new TypeError(t),n}function Nr(e){return new e.Collection(e,()=>Jp("")).limit(0)}function hx(e){return e==="next"?t=>t.toUpperCase():t=>t.toLowerCase()}function mx(e){return e==="next"?t=>t.toLowerCase():t=>t.toUpperCase()}function gx(e,t,r,n,a,i){for(var o=Math.min(e.length,n.length),s=-1,u=0;u<o;++u){var l=t[u];if(l!==n[u])return a(e[u],r[u])<0?e.substr(0,u)+r[u]+r.substr(u+1):a(e[u],n[u])<0?e.substr(0,u)+n[u]+r.substr(u+1):s>=0?e.substr(0,s)+t[s]+r.substr(s+1):null;a(e[u],l)<0&&(s=u)}return o<n.length&&i==="next"?e+r.substr(e.length):o<e.length&&i==="prev"?e.substr(0,r.length):s<0?null:e.substr(0,s)+n[s]+r.substr(s+1)}function Ni(e,t,r,n){var a,i,o,s,u,l,c,d=r.length;if(!r.every(h=>typeof h=="string"))return Ne(e,Kp);function f(h){a=hx(h),i=mx(h),o=h==="next"?fx:px;var y=r.map(function(m){return{lower:i(m),upper:a(m)}}).sort(function(m,b){return o(m.lower,b.lower)});s=y.map(function(m){return m.upper}),u=y.map(function(m){return m.lower}),l=h,c=h==="next"?"":n}f("next");var p=new e.Collection(e,()=>bt(s[0],u[d-1]+n));p._ondirectionchange=function(h){f(h)};var g=0;return p._addAlgorithm(function(h,y,m){var b=h.key;if(typeof b!="string")return!1;var S=i(b);if(t(S,u,g))return!0;for(var v=null,_=g;_<d;++_){var w=gx(b,S,s[_],u[_],o,l);w===null&&v===null?g=_+1:(v===null||o(v,w)>0)&&(v=w)}return y(v!==null?function(){h.continue(v+c)}:m),!1}),p}function bt(e,t,r,n){return{type:2,lower:e,upper:t,lowerOpen:r,upperOpen:n}}function Jp(e){return{type:1,lower:e,upper:e}}var Hi=class{get Collection(){return this._ctx.table.db.Collection}between(t,r,n,a){n=n!==!1,a=a===!0;try{return this._cmp(t,r)>0||this._cmp(t,r)===0&&(n||a)&&!(n&&a)?Nr(this):new this.Collection(this,()=>bt(t,r,!n,!a))}catch{return Ne(this,tt)}}equals(t){return t==null?Ne(this,tt):new this.Collection(this,()=>Jp(t))}above(t){return t==null?Ne(this,tt):new this.Collection(this,()=>bt(t,void 0,!0))}aboveOrEqual(t){return t==null?Ne(this,tt):new this.Collection(this,()=>bt(t,void 0,!1))}below(t){return t==null?Ne(this,tt):new this.Collection(this,()=>bt(void 0,t,!1,!0))}belowOrEqual(t){return t==null?Ne(this,tt):new this.Collection(this,()=>bt(void 0,t))}startsWith(t){return typeof t!="string"?Ne(this,Kp):this.between(t,t+Kt,!0,!0)}startsWithIgnoreCase(t){return t===""?this.startsWith(t):Ni(this,(r,n)=>r.indexOf(n[0])===0,[t],Kt)}equalsIgnoreCase(t){return Ni(this,(r,n)=>r===n[0],[t],"")}anyOfIgnoreCase(){var t=nt.apply(Rr,arguments);return t.length===0?Nr(this):Ni(this,(r,n)=>n.indexOf(r)!==-1,t,"")}startsWithAnyOfIgnoreCase(){var t=nt.apply(Rr,arguments);return t.length===0?Nr(this):Ni(this,(r,n)=>n.some(a=>r.indexOf(a)===0),t,Kt)}anyOf(){let t=nt.apply(Rr,arguments),r=this._cmp;try{t.sort(r)}catch{return Ne(this,tt)}if(t.length===0)return Nr(this);let n=new this.Collection(this,()=>bt(t[0],t[t.length-1]));n._ondirectionchange=i=>{r=i==="next"?this._ascending:this._descending,t.sort(r)};let a=0;return n._addAlgorithm((i,o,s)=>{let u=i.key;for(;r(u,t[a])>0;)if(++a,a===t.length)return o(s),!1;return r(u,t[a])===0?!0:(o(()=>{i.continue(t[a])}),!1)}),n}notEqual(t){return this.inAnyRange([[wu,t],[t,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})}noneOf(){let t=nt.apply(Rr,arguments);if(t.length===0)return new this.Collection(this);try{t.sort(this._ascending)}catch{return Ne(this,tt)}let r=t.reduce((n,a)=>n?n.concat([[n[n.length-1][1],a]]):[[wu,a]],null);return r.push([t[t.length-1],this.db._maxKey]),this.inAnyRange(r,{includeLowers:!1,includeUppers:!1})}inAnyRange(t,r){let n=this._cmp,a=this._ascending,i=this._descending,o=this._min,s=this._max;if(t.length===0)return Nr(this);if(!t.every(v=>v[0]!==void 0&&v[1]!==void 0&&a(v[0],v[1])<=0))return Ne(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",F.InvalidArgument);let u=!r||r.includeLowers!==!1,l=r&&r.includeUppers===!0;function c(v,_){let w=0,E=v.length;for(;w<E;++w){let C=v[w];if(n(_[0],C[1])<0&&n(_[1],C[0])>0){C[0]=o(C[0],_[0]),C[1]=s(C[1],_[1]);break}}return w===E&&v.push(_),v}let d=a;function f(v,_){return d(v[0],_[0])}let p;try{p=t.reduce(c,[]),p.sort(f)}catch{return Ne(this,tt)}let g=0,h=l?v=>a(v,p[g][1])>0:v=>a(v,p[g][1])>=0,y=u?v=>i(v,p[g][0])>0:v=>i(v,p[g][0])>=0;function m(v){return!h(v)&&!y(v)}let b=h,S=new this.Collection(this,()=>bt(p[0][0],p[p.length-1][1],!u,!l));return S._ondirectionchange=v=>{v==="next"?(b=h,d=a):(b=y,d=i),p.sort(f)},S._addAlgorithm((v,_,w)=>{for(var E=v.key;b(E);)if(++g,g===p.length)return _(w),!1;return m(E)?!0:(this._cmp(E,p[g][1])===0||this._cmp(E,p[g][0])===0||_(()=>{d===a?v.continue(p[g][0]):v.continue(p[g][1])}),!1)}),S}startsWithAnyOf(){let t=nt.apply(Rr,arguments);return t.every(r=>typeof r=="string")?t.length===0?Nr(this):this.inAnyRange(t.map(r=>[r,r+Kt])):Ne(this,"startsWithAnyOf() only works with strings")}};function yx(e){return On(Hi.prototype,function(r,n,a){this.db=e,this._ctx={table:r,index:n===":id"?null:n,or:a};let i=e._deps.indexedDB;if(!i)throw new F.MissingAPI;this._cmp=this._ascending=i.cmp.bind(i),this._descending=(o,s)=>i.cmp(s,o),this._max=(o,s)=>i.cmp(o,s)>0?o:s,this._min=(o,s)=>i.cmp(o,s)<0?o:s,this._IDBKeyRange=e._deps.IDBKeyRange})}function He(e){return ee(function(t){return bn(t),e(t.target.error),!1})}function bn(e){e.stopPropagation&&e.stopPropagation(),e.preventDefault&&e.preventDefault()}var wn="storagemutated",xt="x-storagemutated-1",St=Tn(null,wn),Au=class{_lock(){return dn(!D.global),++this._reculock,this._reculock===1&&!D.global&&(D.lockOwnerFor=this),this}_unlock(){if(dn(!D.global),--this._reculock===0)for(D.global||(D.lockOwnerFor=null);this._blockedFuncs.length>0&&!this._locked();){var t=this._blockedFuncs.shift();try{Ur(t[1],t[0])}catch{}}return this}_locked(){return this._reculock&&D.lockOwnerFor!==this}create(t){if(!this.mode)return this;let r=this.db.idbdb,n=this.db._state.dbOpenError;if(dn(!this.idbtrans),!t&&!r)switch(n&&n.name){case"DatabaseClosedError":throw new F.DatabaseClosed(n);case"MissingAPIError":throw new F.MissingAPI(n.message,n);default:throw new F.OpenFailed(n)}if(!this.active)throw new F.TransactionInactive;return dn(this._completion._state===null),t=this.idbtrans=t||(this.db.core?this.db.core.transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability}):r.transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability})),t.onerror=ee(a=>{bn(a),this._reject(t.error)}),t.onabort=ee(a=>{bn(a),this.active&&this._reject(new F.Abort(t.error)),this.active=!1,this.on("abort").fire(a)}),t.oncomplete=ee(()=>{this.active=!1,this._resolve(),"mutatedParts"in t&&St.storagemutated.fire(t.mutatedParts)}),this}_promise(t,r,n){if(t==="readwrite"&&this.mode!=="readwrite")return le(new F.ReadOnly("Transaction is readonly"));if(!this.active)return le(new F.TransactionInactive);if(this._locked())return new O((i,o)=>{this._blockedFuncs.push([()=>{this._promise(t,r,n).then(i,o)},D])});if(n)return _t(()=>{var i=new O((o,s)=>{this._lock();let u=r(o,s,this);u&&u.then&&u.then(o,s)});return i.finally(()=>this._unlock()),i._lib=!0,i});var a=new O((i,o)=>{var s=r(i,o,this);s&&s.then&&s.then(i,o)});return a._lib=!0,a}_root(){return this.parent?this.parent._root():this}waitFor(t){var r=this._root();let n=O.resolve(t);if(r._waitingFor)r._waitingFor=r._waitingFor.then(()=>n);else{r._waitingFor=n,r._waitingQueue=[];var a=r.idbtrans.objectStore(r.storeNames[0]);(function o(){for(++r._spinCount;r._waitingQueue.length;)r._waitingQueue.shift()();r._waitingFor&&(a.get(-1/0).onsuccess=o)})()}var i=r._waitingFor;return new O((o,s)=>{n.then(u=>r._waitingQueue.push(ee(o.bind(null,u))),u=>r._waitingQueue.push(ee(s.bind(null,u)))).finally(()=>{r._waitingFor===i&&(r._waitingFor=null)})})}abort(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new F.Abort))}table(t){let r=this._memoizedTables||(this._memoizedTables={});if(Re(r,t))return r[t];let n=this.schema[t];if(!n)throw new F.NotFound("Table "+t+" not part of transaction");let a=new this.db.Table(t,n,this);return a.core=this.db.core.table(t),r[t]=a,a}};function vx(e){return On(Au.prototype,function(r,n,a,i,o){this.db=e,this.mode=r,this.storeNames=n,this.schema=a,this.chromeTransactionDurability=i,this.idbtrans=null,this.on=Tn(this,"complete","error","abort"),this.parent=o||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new O((s,u)=>{this._resolve=s,this._reject=u}),this._completion.then(()=>{this.active=!1,this.on.complete.fire()},s=>{var u=this.active;return this.active=!1,this.on.error.fire(s),this.parent?this.parent._reject(s):u&&this.idbtrans&&this.idbtrans.abort(),le(s)})})}function Su(e,t,r,n,a,i,o){return{name:e,keyPath:t,unique:r,multi:n,auto:a,compound:i,src:(r&&!o?"&":"")+(n?"*":"")+(a?"++":"")+eh(t)}}function eh(e){return typeof e=="string"?e:e?"["+[].join.call(e,"+")+"]":""}function th(e,t,r){return{name:e,primKey:t,indexes:r,mappedClass:null,idxByName:Dp(r,n=>[n.name,n])}}function bx(e){return e.length===1?e[0]:e}var xn=e=>{try{return e.only([[]]),xn=()=>[[]],[[]]}catch{return xn=()=>Kt,Kt}};function Eu(e){return e==null?()=>{}:typeof e=="string"?wx(e):t=>it(t,e)}function wx(e){return e.split(".").length===1?r=>r[e]:r=>it(r,e)}function Tp(e){return[].slice.call(e)}var xx=0;function mn(e){return e==null?":id":typeof e=="string"?e:`[${e.join("+")}]`}function _x(e,t,r){function n(c,d){let f=Tp(c.objectStoreNames);return{schema:{name:c.name,tables:f.map(p=>d.objectStore(p)).map(p=>{let{keyPath:g,autoIncrement:h}=p,y=ye(g),m=g==null,b={},S={name:p.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:m,compound:y,keyPath:g,autoIncrement:h,unique:!0,extractKey:Eu(g)},indexes:Tp(p.indexNames).map(v=>p.index(v)).map(v=>{let{name:_,unique:w,multiEntry:E,keyPath:C}=v,k=ye(C),U={name:_,compound:k,keyPath:C,unique:w,multiEntry:E,extractKey:Eu(C)};return b[mn(C)]=U,U}),getIndexByKeyPath:v=>b[mn(v)]};return b[":id"]=S.primaryKey,g!=null&&(b[mn(g)]=S.primaryKey),S})},hasGetAll:f.length>0&&"getAll"in d.objectStore(f[0])&&!(typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}}function a(c){if(c.type===3)return null;if(c.type===4)throw new Error("Cannot convert never type to IDBKeyRange");let{lower:d,upper:f,lowerOpen:p,upperOpen:g}=c;return d===void 0?f===void 0?null:t.upperBound(f,!!g):f===void 0?t.lowerBound(d,!!p):t.bound(d,f,!!p,!!g)}function i(c){let d=c.name;function f({trans:h,type:y,keys:m,values:b,range:S}){return new Promise((v,_)=>{v=ee(v);let w=h.objectStore(d),E=w.keyPath==null,C=y==="put"||y==="add";if(!C&&y!=="delete"&&y!=="deleteRange")throw new Error("Invalid operation type: "+y);let{length:k}=m||b||{length:1};if(m&&b&&m.length!==b.length)throw new Error("Given keys array must have same length as given values array.");if(k===0)return v({numFailures:0,failures:{},results:[],lastResult:void 0});let U,N=[],q=[],M=0,re=Q=>{++M,bn(Q)};if(y==="deleteRange"){if(S.type===4)return v({numFailures:M,failures:q,results:[],lastResult:void 0});S.type===3?N.push(U=w.clear()):N.push(U=w.delete(a(S)))}else{let[Q,ae]=C?E?[b,m]:[b,null]:[m,null];if(C)for(let se=0;se<k;++se)N.push(U=ae&&ae[se]!==void 0?w[y](Q[se],ae[se]):w[y](Q[se])),U.onerror=re;else for(let se=0;se<k;++se)N.push(U=w[y](Q[se])),U.onerror=re}let H=Q=>{let ae=Q.target.result;N.forEach((se,Ot)=>se.error!=null&&(q[Ot]=se.error)),v({numFailures:M,failures:q,results:y==="delete"?m:N.map(se=>se.result),lastResult:ae})};U.onerror=Q=>{re(Q),H(Q)},U.onsuccess=H})}function p({trans:h,values:y,query:m,reverse:b,unique:S}){return new Promise((v,_)=>{v=ee(v);let{index:w,range:E}=m,C=h.objectStore(d),k=w.isPrimaryKey?C:C.index(w.name),U=b?S?"prevunique":"prev":S?"nextunique":"next",N=y||!("openKeyCursor"in k)?k.openCursor(a(E),U):k.openKeyCursor(a(E),U);N.onerror=He(_),N.onsuccess=ee(q=>{let M=N.result;if(!M){v(null);return}M.___id=++xx,M.done=!1;let re=M.continue.bind(M),H=M.continuePrimaryKey;H&&(H=H.bind(M));let Q=M.advance.bind(M),ae=()=>{throw new Error("Cursor not started")},se=()=>{throw new Error("Cursor not stopped")};M.trans=h,M.stop=M.continue=M.continuePrimaryKey=M.advance=ae,M.fail=ee(_),M.next=function(){let Ot=1;return this.start(()=>Ot--?this.continue():this.stop()).then(()=>this)},M.start=Ot=>{let Ge=new Promise((dt,$r)=>{dt=ee(dt),N.onerror=He($r),M.fail=$r,M.stop=Ie=>{M.stop=M.continue=M.continuePrimaryKey=M.advance=se,dt(Ie)}}),ir=()=>{if(N.result)try{Ot()}catch(dt){M.fail(dt)}else M.done=!0,M.start=()=>{throw new Error("Cursor behind last entry")},M.stop()};return N.onsuccess=ee(dt=>{N.onsuccess=ir,ir()}),M.continue=re,M.continuePrimaryKey=H,M.advance=Q,ir(),Ge},v(M)},_)})}function g(h){return y=>new Promise((m,b)=>{m=ee(m);let{trans:S,values:v,limit:_,query:w}=y,E=_===1/0?void 0:_,{index:C,range:k}=w,U=S.objectStore(d),N=C.isPrimaryKey?U:U.index(C.name),q=a(k);if(_===0)return m({result:[]});if(h){let M=v?N.getAll(q,E):N.getAllKeys(q,E);M.onsuccess=re=>m({result:re.target.result}),M.onerror=He(b)}else{let M=0,re=v||!("openKeyCursor"in N)?N.openCursor(q):N.openKeyCursor(q),H=[];re.onsuccess=Q=>{let ae=re.result;if(!ae)return m({result:H});if(H.push(v?ae.value:ae.primaryKey),++M===_)return m({result:H});ae.continue()},re.onerror=He(b)}})}return{name:d,schema:c,mutate:f,getMany({trans:h,keys:y}){return new Promise((m,b)=>{m=ee(m);let S=h.objectStore(d),v=y.length,_=new Array(v),w=0,E=0,C,k=N=>{let q=N.target;(_[q._pos]=q.result)!=null,++E===w&&m(_)},U=He(b);for(let N=0;N<v;++N)y[N]!=null&&(C=S.get(y[N]),C._pos=N,C.onsuccess=k,C.onerror=U,++w);w===0&&m(_)})},get({trans:h,key:y}){return new Promise((m,b)=>{m=ee(m);let v=h.objectStore(d).get(y);v.onsuccess=_=>m(_.target.result),v.onerror=He(b)})},query:g(s),openCursor:p,count({query:h,trans:y}){let{index:m,range:b}=h;return new Promise((S,v)=>{let _=y.objectStore(d),w=m.isPrimaryKey?_:_.index(m.name),E=a(b),C=E?w.count(E):w.count();C.onsuccess=ee(k=>S(k.target.result)),C.onerror=He(v)})}}}let{schema:o,hasGetAll:s}=n(e,r),u=o.tables.map(c=>i(c)),l={};return u.forEach(c=>l[c.name]=c),{stack:"dbcore",transaction:e.transaction.bind(e),table(c){if(!l[c])throw new Error(`Table '${c}' not found`);return l[c]},MIN_KEY:-1/0,MAX_KEY:xn(t),schema:o}}function Ax(e,t){return t.reduce((r,{create:n})=>({...r,...n(r)}),e)}function Sx(e,t,{IDBKeyRange:r,indexedDB:n},a){return{dbcore:Ax(_x(t,r,a),e.dbcore)}}function Vu({_novip:e},t){let r=t.db,n=Sx(e._middlewares,r,e._deps,t);e.core=n.dbcore,e.tables.forEach(a=>{let i=a.name;e.core.schema.tables.some(o=>o.name===i)&&(a.core=e.core.table(i),e[i]instanceof e.Table&&(e[i].core=a.core))})}function Yi({_novip:e},t,r,n){r.forEach(a=>{let i=n[a];t.forEach(o=>{let s=Pu(o,a);(!s||"value"in s&&s.value===void 0)&&(o===e.Transaction.prototype||o instanceof e.Transaction?ot(o,a,{get(){return this.table(a)},set(u){Np(this,a,{value:u,writable:!0,configurable:!0,enumerable:!0})}}):o[a]=new e.Table(a,i))})})}function Iu({_novip:e},t){t.forEach(r=>{for(let n in r)r[n]instanceof e.Table&&delete r[n]})}function Ex(e,t){return e._cfg.version-t._cfg.version}function Ix(e,t,r,n){let a=e._dbSchema,i=e._createTransaction("readwrite",e._storeNames,a);i.create(r),i._completion.catch(n);let o=i._reject.bind(i),s=D.transless||D;_t(()=>{D.trans=i,D.transless=s,t===0?(oe(a).forEach(u=>{Hu(r,u,a[u].primKey,a[u].indexes)}),Vu(e,r),O.follow(()=>e.on.populate.fire(i)).catch(o)):Tx(e,t,i,r).catch(o)})}function Tx({_novip:e},t,r,n){let a=[],i=e._versions,o=e._dbSchema=Yu(e,e.idbdb,n),s=!1;i.filter(c=>c._cfg.version>=t).forEach(c=>{a.push(()=>{let d=o,f=c._cfg.dbschema;Ou(e,d,n),Ou(e,f,n),o=e._dbSchema=f;let p=rh(d,f);p.add.forEach(h=>{Hu(n,h[0],h[1].primKey,h[1].indexes)}),p.change.forEach(h=>{if(h.recreate)throw new F.Upgrade("Not yet support for changing primary key");{let y=n.objectStore(h.name);h.add.forEach(m=>Tu(y,m)),h.change.forEach(m=>{y.deleteIndex(m.name),Tu(y,m)}),h.del.forEach(m=>y.deleteIndex(m))}});let g=c._cfg.contentUpgrade;if(g&&c._cfg.version>t){Vu(e,n),r._memoizedTables={},s=!0;let h=Mp(f);p.del.forEach(S=>{h[S]=d[S]}),Iu(e,[e.Transaction.prototype]),Yi(e,[e.Transaction.prototype],oe(h),h),r.schema=h;let y=Lu(g);y&&Fr();let m,b=O.follow(()=>{if(m=g(r),m&&y){var S=st.bind(null,null);m.then(S,S)}});return m&&typeof m.then=="function"?O.resolve(m):b.then(()=>m)}}),a.push(d=>{if(!s||!ix){let f=c._cfg.dbschema;Cx(f,d)}Iu(e,[e.Transaction.prototype]),Yi(e,[e.Transaction.prototype],e._storeNames,e._dbSchema),r.schema=e._dbSchema})});function l(){return a.length?O.resolve(a.shift()(r.idbtrans)).then(l):O.resolve()}return l().then(()=>{Ox(o,n)})}function rh(e,t){let r={del:[],add:[],change:[]},n;for(n in e)t[n]||r.del.push(n);for(n in t){let a=e[n],i=t[n];if(!a)r.add.push([n,i]);else{let o={name:n,def:i,recreate:!1,del:[],add:[],change:[]};if(""+(a.primKey.keyPath||"")!=""+(i.primKey.keyPath||"")||a.primKey.auto!==i.primKey.auto&&!Ki)o.recreate=!0,r.change.push(o);else{let s=a.idxByName,u=i.idxByName,l;for(l in s)u[l]||o.del.push(l);for(l in u){let c=s[l],d=u[l];c?c.src!==d.src&&o.change.push(d):o.add.push(d)}(o.del.length>0||o.add.length>0||o.change.length>0)&&r.change.push(o)}}}return r}function Hu(e,t,r,n){let a=e.db.createObjectStore(t,r.keyPath?{keyPath:r.keyPath,autoIncrement:r.auto}:{autoIncrement:r.auto});return n.forEach(i=>Tu(a,i)),a}function Ox(e,t){oe(e).forEach(r=>{t.db.objectStoreNames.contains(r)||Hu(t,r,e[r].primKey,e[r].indexes)})}function Cx(e,t){[].slice.call(t.db.objectStoreNames).forEach(r=>e[r]==null&&t.db.deleteObjectStore(r))}function Tu(e,t){e.createIndex(t.name,t.keyPath,{unique:t.unique,multiEntry:t.multi})}function Yu(e,t,r){let n={};return qi(t.objectStoreNames,0).forEach(i=>{let o=r.objectStore(i),s=o.keyPath,u=Su(eh(s),s||"",!1,!1,!!o.autoIncrement,s&&typeof s!="string",!0),l=[];for(let d=0;d<o.indexNames.length;++d){let f=o.index(o.indexNames[d]);s=f.keyPath;var c=Su(f.name,s,!!f.unique,!!f.multiEntry,!1,s&&typeof s!="string",!1);l.push(c)}n[i]=th(i,u,l)}),n}function Nx({_novip:e},t,r){e.verno=t.version/10;let n=e._dbSchema=Yu(e,t,r);e._storeNames=qi(t.objectStoreNames,0),Yi(e,[e._allTables],oe(n),n)}function Rx(e,t){let r=Yu(e,e.idbdb,t),n=rh(r,e._dbSchema);return!(n.add.length||n.change.some(a=>a.add.length||a.change.length))}function Ou({_novip:e},t,r){let n=r.db.objectStoreNames;for(let a=0;a<n.length;++a){let i=n[a],o=r.objectStore(i);e._hasGetAll="getAll"in o;for(let s=0;s<o.indexNames.length;++s){let u=o.indexNames[s],l=o.index(u).keyPath,c=typeof l=="string"?l:"["+qi(l).join("+")+"]";if(t[i]){let d=t[i].idxByName[c];d&&(d.name=u,delete t[i].idxByName[c],t[i].idxByName[u]=d)}}}typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&J.WorkerGlobalScope&&J instanceof J.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(e._hasGetAll=!1)}function kx(e){return e.split(",").map((t,r)=>{t=t.trim();let n=t.replace(/([&*]|\+\+)/g,""),a=/^\[/.test(n)?n.match(/^\[(.*)\]$/)[1].split("+"):n;return Su(n,a||null,/\&/.test(t),/\*/.test(t),/\+\+/.test(t),ye(a),r===0)})}var Cu=class{_parseStoresSpec(t,r){oe(t).forEach(n=>{if(t[n]!==null){var a=kx(t[n]),i=a.shift();if(i.multi)throw new F.Schema("Primary key cannot be multi-valued");a.forEach(o=>{if(o.auto)throw new F.Schema("Only primary key can be marked as autoIncrement (++)");if(!o.keyPath)throw new F.Schema("Index must have a name and cannot be an empty string")}),r[n]=th(n,i,a)}})}stores(t){let r=this.db;this._cfg.storesSource=this._cfg.storesSource?xe(this._cfg.storesSource,t):t;let n=r._versions,a={},i={};return n.forEach(o=>{xe(a,o._cfg.storesSource),i=o._cfg.dbschema={},o._parseStoresSpec(a,i)}),r._dbSchema=i,Iu(r,[r._allTables,r,r.Transaction.prototype]),Yi(r,[r._allTables,r,r.Transaction.prototype,this._cfg.tables],oe(i),i),r._storeNames=oe(i),this}upgrade(t){return this._cfg.contentUpgrade=ju(this._cfg.contentUpgrade||X,t),this}};function Dx(e){return On(Cu.prototype,function(r){this.db=e,this._cfg={version:r,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})}function zu(e,t){let r=e._dbNamesDB;return r||(r=e._dbNamesDB=new Mr(Xi,{addons:[],indexedDB:e,IDBKeyRange:t}),r.version(1).stores({dbnames:"name"})),r.table("dbnames")}function Gu(e){return e&&typeof e.databases=="function"}function Mx({indexedDB:e,IDBKeyRange:t}){return Gu(e)?Promise.resolve(e.databases()).then(r=>r.map(n=>n.name).filter(n=>n!==Xi)):zu(e,t).toCollection().primaryKeys()}function Px({indexedDB:e,IDBKeyRange:t},r){!Gu(e)&&r!==Xi&&zu(e,t).put({name:r}).catch(X)}function Lx({indexedDB:e,IDBKeyRange:t},r){!Gu(e)&&r!==Xi&&zu(e,t).delete(r).catch(X)}function Nu(e){return _t(function(){return D.letThrough=!0,e()})}function Fx(){var e=!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent);if(!e||!indexedDB.databases)return Promise.resolve();var t;return new Promise(function(r){var n=function(){return indexedDB.databases().finally(r)};t=setInterval(n,100),n()}).finally(function(){return clearInterval(t)})}function Ux(e){let t=e._state,{indexedDB:r}=e._deps;if(t.isBeingOpened||e.idbdb)return t.dbReadyPromise.then(()=>t.dbOpenError?le(t.dbOpenError):e);Ye&&(t.openCanceller._stackHolder=tr()),t.isBeingOpened=!0,t.dbOpenError=null,t.openComplete=!1;let n=t.openCanceller;function a(){if(t.openCanceller!==n)throw new F.DatabaseClosed("db.open() was cancelled")}let i=t.dbReadyResolve,o=null,s=!1,u=()=>new O((l,c)=>{if(a(),!r)throw new F.MissingAPI;let d=e.name,f=t.autoSchema?r.open(d):r.open(d,Math.round(e.verno*10));if(!f)throw new F.MissingAPI;f.onerror=He(c),f.onblocked=ee(e._fireOnBlocked),f.onupgradeneeded=ee(p=>{if(o=f.transaction,t.autoSchema&&!e._options.allowEmptyDB){f.onerror=bn,o.abort(),f.result.close();let h=r.deleteDatabase(d);h.onsuccess=h.onerror=ee(()=>{c(new F.NoSuchDatabase(`Database ${d} doesnt exist`))})}else{o.onerror=He(c);var g=p.oldVersion>Math.pow(2,62)?0:p.oldVersion;s=g<1,e._novip.idbdb=f.result,Ix(e,g/10,o,c)}},c),f.onsuccess=ee(()=>{o=null;let p=e._novip.idbdb=f.result,g=qi(p.objectStoreNames);if(g.length>0)try{let h=p.transaction(bx(g),"readonly");t.autoSchema?Nx(e,p,h):(Ou(e,e._dbSchema,h),Rx(e,h)||console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Some queries may fail.")),Vu(e,h)}catch{}hn.push(e),p.onversionchange=ee(h=>{t.vcFired=!0,e.on("versionchange").fire(h)}),p.onclose=ee(h=>{e.on("close").fire(h)}),s&&Px(e._deps,d),l()},c)}).catch(l=>l&&l.name==="UnknownError"&&t.PR1398_maxLoop>0?(t.PR1398_maxLoop--,console.warn("Dexie: Workaround for Chrome UnknownError on open()"),u()):O.reject(l));return O.race([n,(typeof navigator>"u"?O.resolve():Fx()).then(u)]).then(()=>(a(),t.onReadyBeingFired=[],O.resolve(Nu(()=>e.on.ready.fire(e.vip))).then(function l(){if(t.onReadyBeingFired.length>0){let c=t.onReadyBeingFired.reduce(ju,X);return t.onReadyBeingFired=[],O.resolve(Nu(()=>c(e.vip))).then(l)}}))).finally(()=>{t.onReadyBeingFired=null,t.isBeingOpened=!1}).then(()=>e).catch(l=>{t.dbOpenError=l;try{o&&o.abort()}catch{}return n===t.openCanceller&&e._close(),le(l)}).finally(()=>{t.openComplete=!0,i()})}function Ru(e){var t=o=>e.next(o),r=o=>e.throw(o),n=i(t),a=i(r);function i(o){return s=>{var u=o(s),l=u.value;return u.done?l:!l||typeof l.then!="function"?ye(l)?Promise.all(l).then(n,a):n(l):l.then(n,a)}}return i(t)()}function jx(e,t,r){var n=arguments.length;if(n<2)throw new F.InvalidArgument("Too few arguments");for(var a=new Array(n-1);--n;)a[n-1]=arguments[n];r=a.pop();var i=Pp(a);return[e,i,r]}function nh(e,t,r,n,a){return O.resolve().then(()=>{let i=D.transless||D,o=e._createTransaction(t,r,e._dbSchema,n),s={trans:o,transless:i};if(n)o.idbtrans=n.idbtrans;else try{o.create(),e._state.PR1398_maxLoop=3}catch(d){return d.name===Uu.InvalidState&&e.isOpen()&&--e._state.PR1398_maxLoop>0?(console.warn("Dexie: Need to reopen db"),e._close(),e.open().then(()=>nh(e,t,r,null,a))):le(d)}let u=Lu(a);u&&Fr();let l,c=O.follow(()=>{if(l=a.call(o,o),l)if(u){var d=st.bind(null,null);l.then(d,d)}else typeof l.next=="function"&&typeof l.throw=="function"&&(l=Ru(l))},s);return(l&&typeof l.then=="function"?O.resolve(l).then(d=>o.active?d:le(new F.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))):c.then(()=>l)).then(d=>(n&&o._resolve(),o._completion.then(()=>d))).catch(d=>(o._reject(d),le(d)))})}function Ri(e,t,r){let n=ye(e)?e.slice():[e];for(let a=0;a<r;++a)n.push(t);return n}function Bx(e){return{...e,table(t){let r=e.table(t),{schema:n}=r,a={},i=[];function o(f,p,g){let h=mn(f),y=a[h]=a[h]||[],m=f==null?0:typeof f=="string"?1:f.length,b=p>0,S={...g,isVirtual:b,keyTail:p,keyLength:m,extractKey:Eu(f),unique:!b&&g.unique};if(y.push(S),S.isPrimaryKey||i.push(S),m>1){let v=m===2?f[0]:f.slice(0,m-1);o(v,p+1,g)}return y.sort((v,_)=>v.keyTail-_.keyTail),S}let s=o(n.primaryKey.keyPath,0,n.primaryKey);a[":id"]=[s];for(let f of n.indexes)o(f.keyPath,0,f);function u(f){let p=a[mn(f)];return p&&p[0]}function l(f,p){return{type:f.type===1?2:f.type,lower:Ri(f.lower,f.lowerOpen?e.MAX_KEY:e.MIN_KEY,p),lowerOpen:!0,upper:Ri(f.upper,f.upperOpen?e.MIN_KEY:e.MAX_KEY,p),upperOpen:!0}}function c(f){let p=f.query.index;return p.isVirtual?{...f,query:{index:p,range:l(f.query.range,p.keyTail)}}:f}return{...r,schema:{...n,primaryKey:s,indexes:i,getIndexByKeyPath:u},count(f){return r.count(c(f))},query(f){return r.query(c(f))},openCursor(f){let{keyTail:p,isVirtual:g,keyLength:h}=f.query.index;if(!g)return r.openCursor(f);function y(m){function b(v){v!=null?m.continue(Ri(v,f.reverse?e.MAX_KEY:e.MIN_KEY,p)):f.unique?m.continue(m.key.slice(0,h).concat(f.reverse?e.MIN_KEY:e.MAX_KEY,p)):m.continue()}return Object.create(m,{continue:{value:b},continuePrimaryKey:{value(v,_){m.continuePrimaryKey(Ri(v,e.MAX_KEY,p),_)}},primaryKey:{get(){return m.primaryKey}},key:{get(){let v=m.key;return h===1?v[0]:v.slice(0,h)}},value:{get(){return m.value}}})}return r.openCursor(c(f)).then(m=>m&&y(m))}}}}}var Wx={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:Bx};function qu(e,t,r,n){return r=r||{},n=n||"",oe(e).forEach(a=>{if(!Re(t,a))r[n+a]=void 0;else{var i=e[a],o=t[a];if(typeof i=="object"&&typeof o=="object"&&i&&o){let s=uu(i),u=uu(o);s!==u?r[n+a]=t[a]:s==="Object"?qu(i,o,r,n+a+"."):i!==o&&(r[n+a]=t[a])}else i!==o&&(r[n+a]=t[a])}}),oe(t).forEach(a=>{Re(e,a)||(r[n+a]=t[a])}),r}function $x(e,t){return t.type==="delete"?t.keys:t.keys||t.values.map(e.extractKey)}var Vx={stack:"dbcore",name:"HooksMiddleware",level:2,create:e=>({...e,table(t){let r=e.table(t),{primaryKey:n}=r.schema;return{...r,mutate(i){let o=D.trans,{deleting:s,creating:u,updating:l}=o.table(t).hook;switch(i.type){case"add":if(u.fire===X)break;return o._promise("readwrite",()=>c(i),!0);case"put":if(u.fire===X&&l.fire===X)break;return o._promise("readwrite",()=>c(i),!0);case"delete":if(s.fire===X)break;return o._promise("readwrite",()=>c(i),!0);case"deleteRange":if(s.fire===X)break;return o._promise("readwrite",()=>d(i),!0)}return r.mutate(i);function c(p){let g=D.trans,h=p.keys||$x(n,p);if(!h)throw new Error("Keys missing");return p=p.type==="add"||p.type==="put"?{...p,keys:h}:{...p},p.type!=="delete"&&(p.values=[...p.values]),p.keys&&(p.keys=[...p.keys]),Hx(r,p,h).then(y=>{let m=h.map((b,S)=>{let v=y[S],_={onerror:null,onsuccess:null};if(p.type==="delete")s.fire.call(_,b,v,g);else if(p.type==="add"||v===void 0){let w=u.fire.call(_,b,p.values[S],g);b==null&&w!=null&&(b=w,p.keys[S]=b,n.outbound||Ue(p.values[S],n.keyPath,b))}else{let w=qu(v,p.values[S]),E=l.fire.call(_,w,b,v,g);if(E){let C=p.values[S];Object.keys(E).forEach(k=>{Re(C,k)?C[k]=E[k]:Ue(C,k,E[k])})}}return _});return r.mutate(p).then(({failures:b,results:S,numFailures:v,lastResult:_})=>{for(let w=0;w<h.length;++w){let E=S?S[w]:h[w],C=m[w];E==null?C.onerror&&C.onerror(b[w]):C.onsuccess&&C.onsuccess(p.type==="put"&&y[w]?p.values[w]:E)}return{failures:b,results:S,numFailures:v,lastResult:_}}).catch(b=>(m.forEach(S=>S.onerror&&S.onerror(b)),Promise.reject(b)))})}function d(p){return f(p.trans,p.range,1e4)}function f(p,g,h){return r.query({trans:p,values:!1,query:{index:n,range:g},limit:h}).then(({result:y})=>c({type:"delete",keys:y,trans:p}).then(m=>m.numFailures>0?Promise.reject(m.failures[0]):y.length<h?{failures:[],numFailures:0,lastResult:void 0}:f(p,{...g,lower:y[y.length-1],lowerOpen:!0},h)))}}}}})};function Hx(e,t,r){return t.type==="add"?Promise.resolve([]):e.getMany({trans:t.trans,keys:r,cache:"immutable"})}function ah(e,t,r){try{if(!t||t.keys.length<e.length)return null;let n=[];for(let a=0,i=0;a<t.keys.length&&i<e.length;++a)we(t.keys[a],e[i])===0&&(n.push(r?An(t.values[a]):t.values[a]),++i);return n.length===e.length?n:null}catch{return null}}var Yx={stack:"dbcore",level:-1,create:e=>({table:t=>{let r=e.table(t);return{...r,getMany:n=>{if(!n.cache)return r.getMany(n);let a=ah(n.keys,n.trans._cache,n.cache==="clone");return a?O.resolve(a):r.getMany(n).then(i=>(n.trans._cache={keys:n.keys,values:n.cache==="clone"?An(i):i},i))},mutate:n=>(n.type!=="add"&&(n.trans._cache=null),r.mutate(n))}}})};function Zu(e){return!("from"in e)}var rt=function(e,t){if(this)xe(this,arguments.length?{d:1,from:e,to:arguments.length>1?t:e}:{d:0});else{let r=new rt;return e&&"d"in e&&xe(r,e),r}};Dr(rt.prototype,{add(e){return zi(this,e),this},addKey(e){return _n(this,e,e),this},addKeys(e){return e.forEach(t=>_n(this,t,t)),this},[lu](){return ku(this)}});function _n(e,t,r){let n=we(t,r);if(isNaN(n))return;if(n>0)throw RangeError();if(Zu(e))return xe(e,{from:t,to:r,d:1});let a=e.l,i=e.r;if(we(r,e.from)<0)return a?_n(a,t,r):e.l={from:t,to:r,d:1,l:null,r:null},Op(e);if(we(t,e.to)>0)return i?_n(i,t,r):e.r={from:t,to:r,d:1,l:null,r:null},Op(e);we(t,e.from)<0&&(e.from=t,e.l=null,e.d=i?i.d+1:1),we(r,e.to)>0&&(e.to=r,e.r=null,e.d=e.l?e.l.d+1:1);let o=!e.r;a&&!e.l&&zi(e,a),i&&o&&zi(e,i)}function zi(e,t){function r(n,{from:a,to:i,l:o,r:s}){_n(n,a,i),o&&r(n,o),s&&r(n,s)}Zu(t)||r(e,t)}function zx(e,t){let r=ku(t),n=r.next();if(n.done)return!1;let a=n.value,i=ku(e),o=i.next(a.from),s=o.value;for(;!n.done&&!o.done;){if(we(s.from,a.to)<=0&&we(s.to,a.from)>=0)return!0;we(a.from,s.from)<0?a=(n=r.next(s.from)).value:s=(o=i.next(a.from)).value}return!1}function ku(e){let t=Zu(e)?null:{s:0,n:e};return{next(r){let n=arguments.length>0;for(;t;)switch(t.s){case 0:if(t.s=1,n)for(;t.n.l&&we(r,t.n.from)<0;)t={up:t,n:t.n.l,s:1};else for(;t.n.l;)t={up:t,n:t.n.l,s:1};case 1:if(t.s=2,!n||we(r,t.n.to)<=0)return{value:t.n,done:!1};case 2:if(t.n.r){t.s=3,t={up:t,n:t.n.r,s:0};continue}case 3:t=t.up}return{done:!0}}}}function Op(e){var t,r;let n=(((t=e.r)===null||t===void 0?void 0:t.d)||0)-(((r=e.l)===null||r===void 0?void 0:r.d)||0),a=n>1?"r":n<-1?"l":"";if(a){let i=a==="r"?"l":"r",o={...e},s=e[a];e.from=s.from,e.to=s.to,e[a]=s[a],o[a]=s[i],e[i]=o,o.d=Cp(o)}e.d=Cp(e)}function Cp({r:e,l:t}){return(e?t?Math.max(e.d,t.d):e.d:t?t.d:0)+1}var Gx={stack:"dbcore",level:0,create:e=>{let t=e.schema.name,r=new rt(e.MIN_KEY,e.MAX_KEY);return{...e,table:n=>{let a=e.table(n),{schema:i}=a,{primaryKey:o}=i,{extractKey:s,outbound:u}=o,l={...a,mutate:f=>{let p=f.trans,g=p.mutatedParts||(p.mutatedParts={}),h=w=>{let E=`idb://${t}/${n}/${w}`;return g[E]||(g[E]=new rt)},y=h(""),m=h(":dels"),{type:b}=f,[S,v]=f.type==="deleteRange"?[f.range]:f.type==="delete"?[f.keys]:f.values.length<50?[[],f.values]:[],_=f.trans._cache;return a.mutate(f).then(w=>{if(ye(S)){b!=="delete"&&(S=w.results),y.addKeys(S);let E=ah(S,_);!E&&b!=="add"&&m.addKeys(S),(E||v)&&qx(h,i,E,v)}else if(S){let E={from:S.lower,to:S.upper};m.add(E),y.add(E)}else y.add(r),m.add(r),i.indexes.forEach(E=>h(E.name).add(r));return w})}},c=({query:{index:f,range:p}})=>{var g,h;return[f,new rt((g=p.lower)!==null&&g!==void 0?g:e.MIN_KEY,(h=p.upper)!==null&&h!==void 0?h:e.MAX_KEY)]},d={get:f=>[o,new rt(f.key)],getMany:f=>[o,new rt().addKeys(f.keys)],count:c,query:c,openCursor:c};return oe(d).forEach(f=>{l[f]=function(p){let{subscr:g}=D;if(g){let h=v=>{let _=`idb://${t}/${n}/${v}`;return g[_]||(g[_]=new rt)},y=h(""),m=h(":dels"),[b,S]=d[f](p);if(h(b.name||"").add(S),!b.isPrimaryKey)if(f==="count")m.add(r);else{let v=f==="query"&&u&&p.values&&a.query({...p,values:!1});return a[f].apply(this,arguments).then(_=>{if(f==="query"){if(u&&p.values)return v.then(({result:E})=>(y.addKeys(E),_));let w=p.values?_.result.map(s):_.result;p.values?y.addKeys(w):m.addKeys(w)}else if(f==="openCursor"){let w=_,E=p.values;return w&&Object.create(w,{key:{get(){return m.addKey(w.primaryKey),w.key}},primaryKey:{get(){let C=w.primaryKey;return m.addKey(C),C}},value:{get(){return E&&y.addKey(w.primaryKey),w.value}}})}return _})}}return a[f].apply(this,arguments)}}),l}}}};function qx(e,t,r,n){function a(i){let o=e(i.name||"");function s(l){return l!=null?i.extractKey(l):null}let u=l=>i.multiEntry&&ye(l)?l.forEach(c=>o.addKey(c)):o.addKey(l);(r||n).forEach((l,c)=>{let d=r&&s(r[c]),f=n&&s(n[c]);we(d,f)!==0&&(d!=null&&u(d),f!=null&&u(f))})}t.indexes.forEach(a)}var Mr=class e{constructor(t,r){this._middlewares={},this.verno=0;let n=e.dependencies;this._options=r={addons:e.addons,autoOpen:!0,indexedDB:n.indexedDB,IDBKeyRange:n.IDBKeyRange,...r},this._deps={indexedDB:r.indexedDB,IDBKeyRange:r.IDBKeyRange};let{addons:a}=r;this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;let i={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:X,dbReadyPromise:null,cancelOpen:X,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3};i.dbReadyPromise=new O(o=>{i.dbReadyResolve=o}),i.openCanceller=new O((o,s)=>{i.cancelOpen=s}),this._state=i,this.name=t,this.on=Tn(this,"populate","blocked","versionchange","close",{ready:[ju,X]}),this.on.ready.subscribe=Rp(this.on.ready.subscribe,o=>(s,u)=>{e.vip(()=>{let l=this._state;if(l.openComplete)l.dbOpenError||O.resolve().then(s),u&&o(s);else if(l.onReadyBeingFired)l.onReadyBeingFired.push(s),u&&o(s);else{o(s);let c=this;u||o(function d(){c.on.ready.unsubscribe(s),c.on.ready.unsubscribe(d)})}})}),this.Collection=dx(this),this.Table=sx(this),this.Transaction=vx(this),this.Version=Dx(this),this.WhereClause=yx(this),this.on("versionchange",o=>{o.newVersion>0?console.warn(`Another connection wants to upgrade database '${this.name}'. Closing db now to resume the upgrade.`):console.warn(`Another connection wants to delete database '${this.name}'. Closing db now to resume the delete request.`),this.close()}),this.on("blocked",o=>{!o.newVersion||o.newVersion<o.oldVersion?console.warn(`Dexie.delete('${this.name}') was blocked`):console.warn(`Upgrade '${this.name}' blocked by other connection holding version ${o.oldVersion/10}`)}),this._maxKey=xn(r.IDBKeyRange),this._createTransaction=(o,s,u,l)=>new this.Transaction(o,s,u,this._options.chromeTransactionDurability,l),this._fireOnBlocked=o=>{this.on("blocked").fire(o),hn.filter(s=>s.name===this.name&&s!==this&&!s._state.vcFired).map(s=>s.on("versionchange").fire(o))},this.use(Wx),this.use(Vx),this.use(Gx),this.use(Yx),this.vip=Object.create(this,{_vip:{value:!0}}),a.forEach(o=>o(this))}version(t){if(isNaN(t)||t<.1)throw new F.Type("Given version is not a positive number");if(t=Math.round(t*10)/10,this.idbdb||this._state.isBeingOpened)throw new F.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,t);let r=this._versions;var n=r.filter(a=>a._cfg.version===t)[0];return n||(n=new this.Version(t),r.push(n),r.sort(Ex),n.stores({}),this._state.autoSchema=!1,n)}_whenReady(t){return this.idbdb&&(this._state.openComplete||D.letThrough||this._vip)?t():new O((r,n)=>{if(this._state.openComplete)return n(new F.DatabaseClosed(this._state.dbOpenError));if(!this._state.isBeingOpened){if(!this._options.autoOpen){n(new F.DatabaseClosed);return}this.open().catch(X)}this._state.dbReadyPromise.then(r,n)}).then(t)}use({stack:t,create:r,level:n,name:a}){a&&this.unuse({stack:t,name:a});let i=this._middlewares[t]||(this._middlewares[t]=[]);return i.push({stack:t,create:r,level:n??10,name:a}),i.sort((o,s)=>o.level-s.level),this}unuse({stack:t,name:r,create:n}){return t&&this._middlewares[t]&&(this._middlewares[t]=this._middlewares[t].filter(a=>n?a.create!==n:r?a.name!==r:!1)),this}open(){return Ux(this)}_close(){let t=this._state,r=hn.indexOf(this);if(r>=0&&hn.splice(r,1),this.idbdb){try{this.idbdb.close()}catch{}this._novip.idbdb=null}t.dbReadyPromise=new O(n=>{t.dbReadyResolve=n}),t.openCanceller=new O((n,a)=>{t.cancelOpen=a})}close(){this._close();let t=this._state;this._options.autoOpen=!1,t.dbOpenError=new F.DatabaseClosed,t.isBeingOpened&&t.cancelOpen(t.dbOpenError)}delete(){let t=arguments.length>0,r=this._state;return new O((n,a)=>{let i=()=>{this.close();var o=this._deps.indexedDB.deleteDatabase(this.name);o.onsuccess=ee(()=>{Lx(this._deps,this.name),n()}),o.onerror=He(a),o.onblocked=this._fireOnBlocked};if(t)throw new F.InvalidArgument("Arguments not allowed in db.delete()");r.isBeingOpened?r.dbReadyPromise.then(i):i()})}backendDB(){return this.idbdb}isOpen(){return this.idbdb!==null}hasBeenClosed(){let t=this._state.dbOpenError;return t&&t.name==="DatabaseClosed"}hasFailed(){return this._state.dbOpenError!==null}dynamicallyOpened(){return this._state.autoSchema}get tables(){return oe(this._allTables).map(t=>this._allTables[t])}transaction(){let t=jx.apply(this,arguments);return this._transaction.apply(this,t)}_transaction(t,r,n){let a=D.trans;(!a||a.db!==this||t.indexOf("!")!==-1)&&(a=null);let i=t.indexOf("?")!==-1;t=t.replace("!","").replace("?","");let o,s;try{if(s=r.map(l=>{var c=l instanceof this.Table?l.name:l;if(typeof c!="string")throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return c}),t=="r"||t===ru)o=ru;else if(t=="rw"||t==nu)o=nu;else throw new F.InvalidArgument("Invalid transaction mode: "+t);if(a){if(a.mode===ru&&o===nu)if(i)a=null;else throw new F.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");a&&s.forEach(l=>{if(a&&a.storeNames.indexOf(l)===-1)if(i)a=null;else throw new F.SubTransaction("Table "+l+" not included in parent transaction.")}),i&&a&&!a.active&&(a=null)}}catch(l){return a?a._promise(null,(c,d)=>{d(l)}):le(l)}let u=nh.bind(null,this,o,s,a,n);return a?a._promise(o,u,"lock"):D.trans?Ur(D.transless,()=>this._whenReady(u)):this._whenReady(u)}table(t){if(!Re(this._allTables,t))throw new F.InvalidTable(`Table ${t} does not exist`);return this._allTables[t]}},Zx=typeof Symbol<"u"&&"observable"in Symbol?Symbol.observable:"@@observable",Du=class{constructor(t){this._subscribe=t}subscribe(t,r,n){return this._subscribe(!t||typeof t=="function"?{next:t,error:r,complete:n}:t)}[Zx](){return this}};function ih(e,t){return oe(t).forEach(r=>{let n=e[r]||(e[r]=new rt);zi(n,t[r])}),e}function Kx(e){let t=!1,r,n=new Du(a=>{let i=Lu(e);function o(y){i&&Fr();let m=()=>_t(e,{subscr:y,trans:null}),b=D.trans?Ur(D.transless,m):m();return i&&b.then(st,st),b}let s=!1,u={},l={},c={get closed(){return s},unsubscribe:()=>{s=!0,St.storagemutated.unsubscribe(g)}};a.start&&a.start(c);let d=!1,f=!1;function p(){return oe(l).some(y=>u[y]&&zx(u[y],l[y]))}let g=y=>{ih(u,y),p()&&h()},h=()=>{if(d||s)return;u={};let y={},m=o(y);f||(St(wn,g),f=!0),d=!0,Promise.resolve(m).then(b=>{t=!0,r=b,d=!1,!s&&(p()?h():(u={},l=y,a.next&&a.next(b)))},b=>{d=!1,t=!1,a.error&&a.error(b),c.unsubscribe()})};return h(),c});return n.hasValue=()=>t,n.getValue=()=>r,n}var Mu;try{Mu={indexedDB:J.indexedDB||J.mozIndexedDB||J.webkitIndexedDB||J.msIndexedDB,IDBKeyRange:J.IDBKeyRange||J.webkitIDBKeyRange}}catch{Mu={indexedDB:null,IDBKeyRange:null}}var Zt=Mr;Dr(Zt,{...Zi,delete(e){return new Zt(e,{addons:[]}).delete()},exists(e){return new Zt(e,{addons:[]}).open().then(t=>(t.close(),!0)).catch("NoSuchDatabaseError",()=>!1)},getDatabaseNames(e){try{return Mx(Zt.dependencies).then(e)}catch{return le(new F.MissingAPI)}},defineClass(){function e(t){xe(this,t)}return e},ignoreTransaction(e){return D.trans?Ur(D.transless,e):e()},vip:Nu,async:function(e){return function(){try{var t=Ru(e.apply(this,arguments));return!t||typeof t.then!="function"?O.resolve(t):t}catch(r){return le(r)}}},spawn:function(e,t,r){try{var n=Ru(e.apply(r,t||[]));return!n||typeof n.then!="function"?O.resolve(n):n}catch(a){return le(a)}},currentTransaction:{get:()=>D.trans||null},waitFor:function(e,t){let r=O.resolve(typeof e=="function"?Zt.ignoreTransaction(e):e).timeout(t||6e4);return D.trans?D.trans.waitFor(r):r},Promise:O,debug:{get:()=>Ye,set:e=>{Fp(e,e==="dexie"?()=>!0:Xp)}},derive:Pr,extend:xe,props:Dr,override:Rp,Events:Tn,on:St,liveQuery:Kx,extendObservabilitySet:ih,getByKeyPath:it,setByKeyPath:Ue,delByKeyPath:Dw,shallowClone:Mp,deepClone:An,getObjectDiff:qu,cmp:we,asap:kp,minKey:wu,addons:[],connections:hn,errnames:Uu,dependencies:Mu,semVer:_p,version:_p.split(".").map(e=>parseInt(e)).reduce((e,t,r)=>e+t/Math.pow(10,r*2))});Zt.maxKey=xn(Zt.dependencies.IDBKeyRange);typeof dispatchEvent<"u"&&typeof addEventListener<"u"&&(St(wn,e=>{if(!at){let t;Ki?(t=document.createEvent("CustomEvent"),t.initCustomEvent(xt,!0,!0,e)):t=new CustomEvent(xt,{detail:e}),at=!0,dispatchEvent(t),at=!1}}),addEventListener(xt,({detail:e})=>{at||Gi(e)}));function Gi(e){let t=at;try{at=!0,St.storagemutated.fire(e)}finally{at=t}}var at=!1;if(typeof BroadcastChannel<"u"){let e=new BroadcastChannel(xt);typeof e.unref=="function"&&e.unref(),St(wn,t=>{at||e.postMessage(t)}),e.onmessage=t=>{t.data&&Gi(t.data)}}else if(typeof self<"u"&&typeof navigator<"u"){St(wn,t=>{try{at||(typeof localStorage<"u"&&localStorage.setItem(xt,JSON.stringify({trig:Math.random(),changedParts:t})),typeof self.clients=="object"&&[...self.clients.matchAll({includeUncontrolled:!0})].forEach(r=>r.postMessage({type:xt,changedParts:t})))}catch{}}),typeof addEventListener<"u"&&addEventListener("storage",t=>{if(t.key===xt){let r=JSON.parse(t.newValue);r&&Gi(r.changedParts)}});let e=self.document&&navigator.serviceWorker;e&&e.addEventListener("message",Xx)}function Xx({data:e}){e&&e.type===xt&&Gi(e.changedParts)}O.rejectionMapper=$w;Fp(Ye,Xp);var Ku=class extends Mr{constructor(){super("penx-local");this.createExtension=r=>this.extension.add(r);this.getExtension=r=>this.extension.get(r);this.getExtensionByName=r=>this.extension.where({name:r}).first();this.upsertExtension=async(r,n)=>{let a=await this.extension.where({name:r}).first();a?await this.updateExtension(a.id,{...n}):await this.createExtension({id:me(),spaceId:"",name:r,isDeveloping:!1,createdAt:new Date,updatedAt:new Date,...n})};this.updateExtension=(r,n)=>this.extension.update(r,n);this.updateCommandAlias=async(r,n,a)=>{let i=await this.extension.get(r);if(!i)return;let o=i.commands.findIndex(s=>s.name===n);o!==-1&&(i.commands[o].alias=a,await this.updateExtension(r,{commands:i.commands}))};this.updateCommandHotkey=async(r,n,a)=>{let i=await this.extension.get(r);if(!i)return;let o=i.commands.findIndex(s=>s.name===n);o!==-1&&(i.commands[o].hotkey=a,await this.updateExtension(r,{commands:i.commands}))};this.addCommand=async(r,n)=>{let a=await this.extension.get(r);a&&await this.updateExtension(r,{commands:[...a.commands,n]})};this.listExtensions=async()=>await this.extension.toArray();this.installExtension=async r=>{let n=await this.extension.where({spaceId:r.spaceId,name:r.name}).toArray();if(n?.length){let a=n[0];return this.extension.update(a.id,{...a,...r})}return this.extension.add({id:me(),...r})};this.deleteExtension=async r=>this.extension.delete(r);this.createFile=async r=>{let n=await this.file.add({id:me(),...r});return this.file.get(n)};this.version(20).stores({space:"id, name, userId",node:"id, spaceId, databaseId, type, date, [type+spaceId+databaseId], [type+spaceId], [type+databaseId]",file:"id, googleDriveFileId, fileHash",extension:"id, name, isDeveloping"})}},ut=new Ku;function jr(e){"@babel/helpers - typeof";return jr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},jr(e)}function Ee(e){if(e===null||e===!0||e===!1)return NaN;var t=Number(e);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}function z(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}function ne(e){z(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||jr(e)==="object"&&t==="[object Date]"?new Date(e.getTime()):typeof e=="number"||t==="[object Number]"?new Date(e):((typeof e=="string"||t==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}function Xu(e,t){z(2,arguments);var r=ne(e).getTime(),n=Ee(t);return new Date(r+n)}var Qx={};function Et(){return Qx}function Qu(e){var t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),e.getTime()-t.getTime()}function Ju(e){return z(1,arguments),e instanceof Date||jr(e)==="object"&&Object.prototype.toString.call(e)==="[object Date]"}function el(e){if(z(1,arguments),!Ju(e)&&typeof e!="number")return!1;var t=ne(e);return!isNaN(Number(t))}function tl(e,t){z(2,arguments);var r=Ee(t);return Xu(e,-r)}var Jx=864e5;function rl(e){z(1,arguments);var t=ne(e),r=t.getTime();t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0);var n=t.getTime(),a=r-n;return Math.floor(a/Jx)+1}function It(e){z(1,arguments);var t=1,r=ne(e),n=r.getUTCDay(),a=(n<t?7:0)+n-t;return r.setUTCDate(r.getUTCDate()-a),r.setUTCHours(0,0,0,0),r}function Cn(e){z(1,arguments);var t=ne(e),r=t.getUTCFullYear(),n=new Date(0);n.setUTCFullYear(r+1,0,4),n.setUTCHours(0,0,0,0);var a=It(n),i=new Date(0);i.setUTCFullYear(r,0,4),i.setUTCHours(0,0,0,0);var o=It(i);return t.getTime()>=a.getTime()?r+1:t.getTime()>=o.getTime()?r:r-1}function nl(e){z(1,arguments);var t=Cn(e),r=new Date(0);r.setUTCFullYear(t,0,4),r.setUTCHours(0,0,0,0);var n=It(r);return n}var e0=6048e5;function al(e){z(1,arguments);var t=ne(e),r=It(t).getTime()-nl(t).getTime();return Math.round(r/e0)+1}function Tt(e,t){var r,n,a,i,o,s,u,l;z(1,arguments);var c=Et(),d=Ee((r=(n=(a=(i=t?.weekStartsOn)!==null&&i!==void 0?i:t==null||(o=t.locale)===null||o===void 0||(s=o.options)===null||s===void 0?void 0:s.weekStartsOn)!==null&&a!==void 0?a:c.weekStartsOn)!==null&&n!==void 0?n:(u=c.locale)===null||u===void 0||(l=u.options)===null||l===void 0?void 0:l.weekStartsOn)!==null&&r!==void 0?r:0);if(!(d>=0&&d<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var f=ne(e),p=f.getUTCDay(),g=(p<d?7:0)+p-d;return f.setUTCDate(f.getUTCDate()-g),f.setUTCHours(0,0,0,0),f}function Nn(e,t){var r,n,a,i,o,s,u,l;z(1,arguments);var c=ne(e),d=c.getUTCFullYear(),f=Et(),p=Ee((r=(n=(a=(i=t?.firstWeekContainsDate)!==null&&i!==void 0?i:t==null||(o=t.locale)===null||o===void 0||(s=o.options)===null||s===void 0?void 0:s.firstWeekContainsDate)!==null&&a!==void 0?a:f.firstWeekContainsDate)!==null&&n!==void 0?n:(u=f.locale)===null||u===void 0||(l=u.options)===null||l===void 0?void 0:l.firstWeekContainsDate)!==null&&r!==void 0?r:1);if(!(p>=1&&p<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var g=new Date(0);g.setUTCFullYear(d+1,0,p),g.setUTCHours(0,0,0,0);var h=Tt(g,t),y=new Date(0);y.setUTCFullYear(d,0,p),y.setUTCHours(0,0,0,0);var m=Tt(y,t);return c.getTime()>=h.getTime()?d+1:c.getTime()>=m.getTime()?d:d-1}function il(e,t){var r,n,a,i,o,s,u,l;z(1,arguments);var c=Et(),d=Ee((r=(n=(a=(i=t?.firstWeekContainsDate)!==null&&i!==void 0?i:t==null||(o=t.locale)===null||o===void 0||(s=o.options)===null||s===void 0?void 0:s.firstWeekContainsDate)!==null&&a!==void 0?a:c.firstWeekContainsDate)!==null&&n!==void 0?n:(u=c.locale)===null||u===void 0||(l=u.options)===null||l===void 0?void 0:l.firstWeekContainsDate)!==null&&r!==void 0?r:1),f=Nn(e,t),p=new Date(0);p.setUTCFullYear(f,0,d),p.setUTCHours(0,0,0,0);var g=Tt(p,t);return g}var t0=6048e5;function ol(e,t){z(1,arguments);var r=ne(e),n=Tt(r,t).getTime()-il(r,t).getTime();return Math.round(n/t0)+1}function Y(e,t){for(var r=e<0?"-":"",n=Math.abs(e).toString();n.length<t;)n="0"+n;return r+n}var r0={y:function(t,r){var n=t.getUTCFullYear(),a=n>0?n:1-n;return Y(r==="yy"?a%100:a,r.length)},M:function(t,r){var n=t.getUTCMonth();return r==="M"?String(n+1):Y(n+1,2)},d:function(t,r){return Y(t.getUTCDate(),r.length)},a:function(t,r){var n=t.getUTCHours()/12>=1?"pm":"am";switch(r){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h:function(t,r){return Y(t.getUTCHours()%12||12,r.length)},H:function(t,r){return Y(t.getUTCHours(),r.length)},m:function(t,r){return Y(t.getUTCMinutes(),r.length)},s:function(t,r){return Y(t.getUTCSeconds(),r.length)},S:function(t,r){var n=r.length,a=t.getUTCMilliseconds(),i=Math.floor(a*Math.pow(10,n-3));return Y(i,r.length)}},lt=r0;var Br={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},n0={G:function(t,r,n){var a=t.getUTCFullYear()>0?1:0;switch(r){case"G":case"GG":case"GGG":return n.era(a,{width:"abbreviated"});case"GGGGG":return n.era(a,{width:"narrow"});case"GGGG":default:return n.era(a,{width:"wide"})}},y:function(t,r,n){if(r==="yo"){var a=t.getUTCFullYear(),i=a>0?a:1-a;return n.ordinalNumber(i,{unit:"year"})}return lt.y(t,r)},Y:function(t,r,n,a){var i=Nn(t,a),o=i>0?i:1-i;if(r==="YY"){var s=o%100;return Y(s,2)}return r==="Yo"?n.ordinalNumber(o,{unit:"year"}):Y(o,r.length)},R:function(t,r){var n=Cn(t);return Y(n,r.length)},u:function(t,r){var n=t.getUTCFullYear();return Y(n,r.length)},Q:function(t,r,n){var a=Math.ceil((t.getUTCMonth()+1)/3);switch(r){case"Q":return String(a);case"QQ":return Y(a,2);case"Qo":return n.ordinalNumber(a,{unit:"quarter"});case"QQQ":return n.quarter(a,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(a,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(a,{width:"wide",context:"formatting"})}},q:function(t,r,n){var a=Math.ceil((t.getUTCMonth()+1)/3);switch(r){case"q":return String(a);case"qq":return Y(a,2);case"qo":return n.ordinalNumber(a,{unit:"quarter"});case"qqq":return n.quarter(a,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(a,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(a,{width:"wide",context:"standalone"})}},M:function(t,r,n){var a=t.getUTCMonth();switch(r){case"M":case"MM":return lt.M(t,r);case"Mo":return n.ordinalNumber(a+1,{unit:"month"});case"MMM":return n.month(a,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(a,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(a,{width:"wide",context:"formatting"})}},L:function(t,r,n){var a=t.getUTCMonth();switch(r){case"L":return String(a+1);case"LL":return Y(a+1,2);case"Lo":return n.ordinalNumber(a+1,{unit:"month"});case"LLL":return n.month(a,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(a,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(a,{width:"wide",context:"standalone"})}},w:function(t,r,n,a){var i=ol(t,a);return r==="wo"?n.ordinalNumber(i,{unit:"week"}):Y(i,r.length)},I:function(t,r,n){var a=al(t);return r==="Io"?n.ordinalNumber(a,{unit:"week"}):Y(a,r.length)},d:function(t,r,n){return r==="do"?n.ordinalNumber(t.getUTCDate(),{unit:"date"}):lt.d(t,r)},D:function(t,r,n){var a=rl(t);return r==="Do"?n.ordinalNumber(a,{unit:"dayOfYear"}):Y(a,r.length)},E:function(t,r,n){var a=t.getUTCDay();switch(r){case"E":case"EE":case"EEE":return n.day(a,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(a,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(a,{width:"short",context:"formatting"});case"EEEE":default:return n.day(a,{width:"wide",context:"formatting"})}},e:function(t,r,n,a){var i=t.getUTCDay(),o=(i-a.weekStartsOn+8)%7||7;switch(r){case"e":return String(o);case"ee":return Y(o,2);case"eo":return n.ordinalNumber(o,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});case"eeee":default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(t,r,n,a){var i=t.getUTCDay(),o=(i-a.weekStartsOn+8)%7||7;switch(r){case"c":return String(o);case"cc":return Y(o,r.length);case"co":return n.ordinalNumber(o,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});case"cccc":default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(t,r,n){var a=t.getUTCDay(),i=a===0?7:a;switch(r){case"i":return String(i);case"ii":return Y(i,r.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(a,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(a,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(a,{width:"short",context:"formatting"});case"iiii":default:return n.day(a,{width:"wide",context:"formatting"})}},a:function(t,r,n){var a=t.getUTCHours(),i=a/12>=1?"pm":"am";switch(r){case"a":case"aa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(t,r,n){var a=t.getUTCHours(),i;switch(a===12?i=Br.noon:a===0?i=Br.midnight:i=a/12>=1?"pm":"am",r){case"b":case"bb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(t,r,n){var a=t.getUTCHours(),i;switch(a>=17?i=Br.evening:a>=12?i=Br.afternoon:a>=4?i=Br.morning:i=Br.night,r){case"B":case"BB":case"BBB":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(t,r,n){if(r==="ho"){var a=t.getUTCHours()%12;return a===0&&(a=12),n.ordinalNumber(a,{unit:"hour"})}return lt.h(t,r)},H:function(t,r,n){return r==="Ho"?n.ordinalNumber(t.getUTCHours(),{unit:"hour"}):lt.H(t,r)},K:function(t,r,n){var a=t.getUTCHours()%12;return r==="Ko"?n.ordinalNumber(a,{unit:"hour"}):Y(a,r.length)},k:function(t,r,n){var a=t.getUTCHours();return a===0&&(a=24),r==="ko"?n.ordinalNumber(a,{unit:"hour"}):Y(a,r.length)},m:function(t,r,n){return r==="mo"?n.ordinalNumber(t.getUTCMinutes(),{unit:"minute"}):lt.m(t,r)},s:function(t,r,n){return r==="so"?n.ordinalNumber(t.getUTCSeconds(),{unit:"second"}):lt.s(t,r)},S:function(t,r){return lt.S(t,r)},X:function(t,r,n,a){var i=a._originalDate||t,o=i.getTimezoneOffset();if(o===0)return"Z";switch(r){case"X":return sh(o);case"XXXX":case"XX":return rr(o);case"XXXXX":case"XXX":default:return rr(o,":")}},x:function(t,r,n,a){var i=a._originalDate||t,o=i.getTimezoneOffset();switch(r){case"x":return sh(o);case"xxxx":case"xx":return rr(o);case"xxxxx":case"xxx":default:return rr(o,":")}},O:function(t,r,n,a){var i=a._originalDate||t,o=i.getTimezoneOffset();switch(r){case"O":case"OO":case"OOO":return"GMT"+oh(o,":");case"OOOO":default:return"GMT"+rr(o,":")}},z:function(t,r,n,a){var i=a._originalDate||t,o=i.getTimezoneOffset();switch(r){case"z":case"zz":case"zzz":return"GMT"+oh(o,":");case"zzzz":default:return"GMT"+rr(o,":")}},t:function(t,r,n,a){var i=a._originalDate||t,o=Math.floor(i.getTime()/1e3);return Y(o,r.length)},T:function(t,r,n,a){var i=a._originalDate||t,o=i.getTime();return Y(o,r.length)}};function oh(e,t){var r=e>0?"-":"+",n=Math.abs(e),a=Math.floor(n/60),i=n%60;if(i===0)return r+String(a);var o=t||"";return r+String(a)+o+Y(i,2)}function sh(e,t){if(e%60===0){var r=e>0?"-":"+";return r+Y(Math.abs(e)/60,2)}return rr(e,t)}function rr(e,t){var r=t||"",n=e>0?"-":"+",a=Math.abs(e),i=Y(Math.floor(a/60),2),o=Y(a%60,2);return n+i+r+o}var uh=n0;var lh=function(t,r){switch(t){case"P":return r.date({width:"short"});case"PP":return r.date({width:"medium"});case"PPP":return r.date({width:"long"});case"PPPP":default:return r.date({width:"full"})}},ch=function(t,r){switch(t){case"p":return r.time({width:"short"});case"pp":return r.time({width:"medium"});case"ppp":return r.time({width:"long"});case"pppp":default:return r.time({width:"full"})}},a0=function(t,r){var n=t.match(/(P+)(p+)?/)||[],a=n[1],i=n[2];if(!i)return lh(t,r);var o;switch(a){case"P":o=r.dateTime({width:"short"});break;case"PP":o=r.dateTime({width:"medium"});break;case"PPP":o=r.dateTime({width:"long"});break;case"PPPP":default:o=r.dateTime({width:"full"});break}return o.replace("{{date}}",lh(a,r)).replace("{{time}}",ch(i,r))},i0={p:ch,P:a0},dh=i0;var o0=["D","DD"],s0=["YY","YYYY"];function fh(e){return o0.indexOf(e)!==-1}function ph(e){return s0.indexOf(e)!==-1}function sl(e,t,r){if(e==="YYYY")throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(t,"`) for formatting years to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="YY")throw new RangeError("Use `yy` instead of `YY` (in `".concat(t,"`) for formatting years to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="D")throw new RangeError("Use `d` instead of `D` (in `".concat(t,"`) for formatting days of the month to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="DD")throw new RangeError("Use `dd` instead of `DD` (in `".concat(t,"`) for formatting days of the month to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var u0={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},l0=function(t,r,n){var a,i=u0[t];return typeof i=="string"?a=i:r===1?a=i.one:a=i.other.replace("{{count}}",r.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+a:a+" ago":a},hh=l0;function Rn(e){return function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.width?String(t.width):e.defaultWidth,n=e.formats[r]||e.formats[e.defaultWidth];return n}}var c0={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},d0={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},f0={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},p0={date:Rn({formats:c0,defaultWidth:"full"}),time:Rn({formats:d0,defaultWidth:"full"}),dateTime:Rn({formats:f0,defaultWidth:"full"})},mh=p0;var h0={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},m0=function(t,r,n,a){return h0[t]},gh=m0;function nr(e){return function(t,r){var n=r!=null&&r.context?String(r.context):"standalone",a;if(n==="formatting"&&e.formattingValues){var i=e.defaultFormattingWidth||e.defaultWidth,o=r!=null&&r.width?String(r.width):i;a=e.formattingValues[o]||e.formattingValues[i]}else{var s=e.defaultWidth,u=r!=null&&r.width?String(r.width):e.defaultWidth;a=e.values[u]||e.values[s]}var l=e.argumentCallback?e.argumentCallback(t):t;return a[l]}}var g0={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},y0={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},v0={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},b0={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},w0={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},x0={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},_0=function(t,r){var n=Number(t),a=n%100;if(a>20||a<10)switch(a%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},A0={ordinalNumber:_0,era:nr({values:g0,defaultWidth:"wide"}),quarter:nr({values:y0,defaultWidth:"wide",argumentCallback:function(t){return t-1}}),month:nr({values:v0,defaultWidth:"wide"}),day:nr({values:b0,defaultWidth:"wide"}),dayPeriod:nr({values:w0,defaultWidth:"wide",formattingValues:x0,defaultFormattingWidth:"wide"})},yh=A0;function ar(e){return function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=r.width,a=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],i=t.match(a);if(!i)return null;var o=i[0],s=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],u=Array.isArray(s)?E0(s,function(d){return d.test(o)}):S0(s,function(d){return d.test(o)}),l;l=e.valueCallback?e.valueCallback(u):u,l=r.valueCallback?r.valueCallback(l):l;var c=t.slice(o.length);return{value:l,rest:c}}}function S0(e,t){for(var r in e)if(e.hasOwnProperty(r)&&t(e[r]))return r}function E0(e,t){for(var r=0;r<e.length;r++)if(t(e[r]))return r}function ul(e){return function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=t.match(e.matchPattern);if(!n)return null;var a=n[0],i=t.match(e.parsePattern);if(!i)return null;var o=e.valueCallback?e.valueCallback(i[0]):i[0];o=r.valueCallback?r.valueCallback(o):o;var s=t.slice(a.length);return{value:o,rest:s}}}var I0=/^(\d+)(th|st|nd|rd)?/i,T0=/\d+/i,O0={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},C0={any:[/^b/i,/^(a|c)/i]},N0={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},R0={any:[/1/i,/2/i,/3/i,/4/i]},k0={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},D0={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},M0={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},P0={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},L0={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},F0={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},U0={ordinalNumber:ul({matchPattern:I0,parsePattern:T0,valueCallback:function(t){return parseInt(t,10)}}),era:ar({matchPatterns:O0,defaultMatchWidth:"wide",parsePatterns:C0,defaultParseWidth:"any"}),quarter:ar({matchPatterns:N0,defaultMatchWidth:"wide",parsePatterns:R0,defaultParseWidth:"any",valueCallback:function(t){return t+1}}),month:ar({matchPatterns:k0,defaultMatchWidth:"wide",parsePatterns:D0,defaultParseWidth:"any"}),day:ar({matchPatterns:M0,defaultMatchWidth:"wide",parsePatterns:P0,defaultParseWidth:"any"}),dayPeriod:ar({matchPatterns:L0,defaultMatchWidth:"any",parsePatterns:F0,defaultParseWidth:"any"})},vh=U0;var j0={code:"en-US",formatDistance:hh,formatLong:mh,formatRelative:gh,localize:yh,match:vh,options:{weekStartsOn:0,firstWeekContainsDate:1}},bh=j0;var wh=bh;var B0=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,W0=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,$0=/^'([^]*?)'?$/,V0=/''/g,H0=/[a-zA-Z]/;function Qi(e,t,r){var n,a,i,o,s,u,l,c,d,f,p,g,h,y,m,b,S,v;z(2,arguments);var _=String(t),w=Et(),E=(n=(a=r?.locale)!==null&&a!==void 0?a:w.locale)!==null&&n!==void 0?n:wh,C=Ee((i=(o=(s=(u=r?.firstWeekContainsDate)!==null&&u!==void 0?u:r==null||(l=r.locale)===null||l===void 0||(c=l.options)===null||c===void 0?void 0:c.firstWeekContainsDate)!==null&&s!==void 0?s:w.firstWeekContainsDate)!==null&&o!==void 0?o:(d=w.locale)===null||d===void 0||(f=d.options)===null||f===void 0?void 0:f.firstWeekContainsDate)!==null&&i!==void 0?i:1);if(!(C>=1&&C<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var k=Ee((p=(g=(h=(y=r?.weekStartsOn)!==null&&y!==void 0?y:r==null||(m=r.locale)===null||m===void 0||(b=m.options)===null||b===void 0?void 0:b.weekStartsOn)!==null&&h!==void 0?h:w.weekStartsOn)!==null&&g!==void 0?g:(S=w.locale)===null||S===void 0||(v=S.options)===null||v===void 0?void 0:v.weekStartsOn)!==null&&p!==void 0?p:0);if(!(k>=0&&k<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!E.localize)throw new RangeError("locale must contain localize property");if(!E.formatLong)throw new RangeError("locale must contain formatLong property");var U=ne(e);if(!el(U))throw new RangeError("Invalid time value");var N=Qu(U),q=tl(U,N),M={firstWeekContainsDate:C,weekStartsOn:k,locale:E,_originalDate:U},re=_.match(W0).map(function(H){var Q=H[0];if(Q==="p"||Q==="P"){var ae=dh[Q];return ae(H,E.formatLong)}return H}).join("").match(B0).map(function(H){if(H==="''")return"'";var Q=H[0];if(Q==="'")return Y0(H);var ae=uh[Q];if(ae)return!(r!=null&&r.useAdditionalWeekYearTokens)&&ph(H)&&sl(H,t,String(e)),!(r!=null&&r.useAdditionalDayOfYearTokens)&&fh(H)&&sl(H,t,String(e)),ae(q,H,E.localize,M);if(Q.match(H0))throw new RangeError("Format string contains an unescaped latin alphabet character `"+Q+"`");return H}).join("");return re}function Y0(e){var t=e.match($0);return t?t[1].replace(V0,"'"):e}function kn(e){return Qi(e,"yyyy-MM-dd")}function ct(e,t=""){let{name:r,...n}=e;return{id:me(),type:"COMMON",element:[{type:Vc,children:[{text:t}]}],props:n.props||{},collapsed:!1,folded:!0,children:[],createdAt:new Date,updatedAt:new Date,...n}}function ze(e){return{id:me(),type:"COMMON",props:e.props||{},collapsed:!1,folded:!0,children:[],createdAt:new Date,updatedAt:new Date,...e}}var ll=class{constructor(t){this.node=t;this.listNodesBySpaceId=t=>this.node.where({spaceId:t}).toArray();this.listNodesByIds=t=>this.node.where("id").anyOf(t).toArray();this.deleteNodeByIds=t=>this.node.where("id").anyOf(t).delete();this.deleteNodeBySpaceId=t=>this.node.where({spaceId:t}).delete();this.createInboxNode=async t=>{let r=await this.createNode(ct({spaceId:t}));return await this.createNode({...ze({spaceId:t,type:"INBOX"}),children:[r.id]})};this.createNode=async t=>{let r=await this.node.add({...ct({spaceId:t.spaceId}),...t});return this.node.get(r)};this.createTextNode=async(t,r)=>await this.createNode({...ct({spaceId:t},r)});this.addTextToToday=async(t,r)=>{let n=await this.getOrCreateTodayNode(t),a=await this.createNode({...ct({spaceId:t},r)}),i=await this.updateNode(n.id,{children:[...n.children||[],a.id]});return{node:a,todayNode:i}};this.addNodesToToday=async(t,r)=>{let n=await this.getOrCreateTodayNode(t);for(let o of r)await this.createNode({parentId:o.parentId||n.id,...o});let a=r.filter(o=>!o.parentId).map(o=>o.id);return await this.updateNode(n.id,{children:[...n.children||[],...a]})};this.getNode=t=>this.node.get(t);this.getRootNode=async t=>await this.node.where({type:"ROOT",spaceId:t}).first();this.getDailyRootNode=async t=>await this.node.where({type:"DAILY_ROOT",spaceId:t}).first();this.getInboxNode=async t=>await this.node.where({type:"INBOX",spaceId:t}).first();this.getTrashNode=async t=>await this.node.where({type:"TRASH",spaceId:t}).first();this.getNodeByDate=async(t,r=kn(new Date))=>(await this.node.where({type:"DAILY",spaceId:t}).toArray()).find(a=>a.date===r);this.getFavoriteNode=async t=>(await this.node.where({type:"FAVORITE"}).toArray()).find(n=>n.spaceId===t);this.updateNode=async(t,r)=>{let n=r||{};return Reflect.has(r,"updatedAt")||(n.updatedAt=new Date),await this.node.update(t,n),this.node.get(t)};this.updateNodeProps=async(t,r)=>{let a={...(await this.getNode(t)).props,...r};await this.node.update(t,{props:a})};this.deleteNode=async t=>this.node.delete(t);this.getSpaceNode=async t=>(await this.node.where({type:"ROOT"}).toArray()).find(a=>a.spaceId===t);this.createPageNode=async(t,r)=>{let{spaceId:n=""}=t,a=await this.createNode(ct({spaceId:n})),i=await this.createNode({...ze({spaceId:t.spaceId}),...t,children:[a.id]}),o=await this.getSpaceNode(r.id);return await this.updateNode(o.id,{children:[...o.children||[],i.id]}),i};this.createDailyNode=async t=>{let{spaceId:r=""}=t,n=await this.getNodeByDate(r,t.date);if(n)return n;let a=await this.getDailyRootNode(r),i=await this.createNode(ct({spaceId:r})),o=await this.createNode({...ze({spaceId:t.spaceId,type:"DAILY"}),...t,parentId:a.id,collapsed:!0,children:[i.id]});await this.updateNode(i.id,{parentId:o.id});let s=[...a.children||[],o.id];return await this.updateNode(a.id,{children:s}),o};this.getOrCreateTodayNode=async t=>{let r=await this.getNodeByDate(t);return r||(r=await this.createDailyNode({spaceId:t,date:kn(new Date)})),r}}},Wr=new ll(ut.node);var cl=class{constructor(t,r){this.penx=t;this.node=r;this.getDatabaseRootNode=async t=>await this.penx.node.where({type:"DATABASE_ROOT",spaceId:t}).first();this.listDatabases=async()=>await this.penx.node.where({type:"DATABASE"}).toArray();this.listDatabaseBySpace=async t=>await this.penx.node.where({type:"DATABASE",spaceId:t}).toArray();this.createDatabase=async({spaceId:t,name:r,columnSchema:n=[],shouldInitCells:a=!1})=>{let i=await this.getDatabaseByName(t,r);if(i)return i;let o=await this.getDatabaseRootNode(t),s=await this.node.createNode({parentId:o.id,spaceId:t,type:"DATABASE",props:{color:cn(),name:r,activeViewId:"",viewIds:[]}});await this.node.updateNode(o.id,{children:[...o.children||[],s.id]});let u=await this.initColumns(t,s.id,r,n),l=u.map(f=>({columnId:f.id,width:160,visible:!0})),c=await this.node.createNode({spaceId:t,databaseId:s.id,parentId:s.id,type:"VIEW",children:u.map(f=>f.id),props:{name:"Table",viewType:"TABLE",viewColumns:l,sorts:[],filters:[],groups:[],kanbanColumnId:"",kanbanOptionIds:[]}}),d=await this.node.createNode({spaceId:t,databaseId:s.id,parentId:s.id,type:"VIEW",children:u.map(f=>f.id),props:{name:"List",viewType:"LIST",viewColumns:l,sorts:[],filters:[],groups:[],kanbanColumnId:"",kanbanOptionIds:[]}});if(await this.node.updateNode(s.id,{props:{...s.props,activeViewId:c.id,viewIds:[c.id,d.id]}}),a){let f=await this.initRows(t,s.id);await this.initCells(t,s.id,u,f)}return s};this.initColumnsBySchema=async(t,r,n)=>{let a=[];for(let i of n){let o=await this.node.createNode({spaceId:t,parentId:r,databaseId:r,type:"COLUMN",props:i});a.push(o)}return a};this.initColumns=async(t,r,n="",a)=>{if(a.length)return this.initColumnsBySchema(t,r,a);let i=n===vr,o=n===br,s=await this.node.createNode({spaceId:t,parentId:r,databaseId:r,type:"COLUMN",props:{displayName:"Name",fieldName:me(),description:"",fieldType:"TEXT",isPrimary:!0,config:{}}});if(i){let l=await this.node.createNode({spaceId:t,databaseId:r,parentId:r,type:"COLUMN",props:{displayName:"Source",fieldName:me(),description:"",fieldType:"TODO_SOURCE",isPrimary:!1,config:{}}});return[s,l]}if(o){let l=await this.node.createNode({spaceId:t,databaseId:r,parentId:r,type:"COLUMN",props:{displayName:"File",fieldName:me(),description:"",fieldType:"FILE",isPrimary:!1,config:{}}});return[s,l]}let u=await this.node.createNode({spaceId:t,databaseId:r,parentId:r,type:"COLUMN",props:{displayName:"Type",fieldName:me(),description:"",fieldType:"SINGLE_SELECT",isPrimary:!1,config:{}}});return[s,u]};this.initRows=async(t,r)=>Promise.all([this.node.createNode({spaceId:t,databaseId:r,parentId:r,type:"ROW",props:{sort:1}}),this.node.createNode({spaceId:t,parentId:r,type:"ROW",databaseId:r,props:{sort:2}})]);this.initCells=async(t,r,n,a)=>{let i=a.reduce((o,s)=>{let u=n.map(l=>({spaceId:t,databaseId:r,parentId:r,type:"CELL",props:{columnId:l.id,rowId:s.id,data:""}}));return[...o,...u]},[]);for(let o of i)await this.node.createNode(o)};this.getDatabase=async t=>{let r=await this.node.getNode(t),n=r.spaceId,a=await this.penx.node.where({type:"COLUMN",spaceId:n,databaseId:t}).toArray(),i=await this.penx.node.where({type:"ROW",spaceId:n,databaseId:t}).toArray(),o=await this.penx.node.where({type:"VIEW",spaceId:n,databaseId:t}).toArray(),s=await this.penx.node.where({type:"CELL",spaceId:n,databaseId:t}).toArray(),u=await this.penx.node.where({type:"OPTION",databaseId:t}).toArray();return{database:r,views:o,columns:a,rows:i,cells:s,options:u}};this.updateDatabaseProps=async(t,r)=>{let n=await this.node.getNode(t);await this.node.updateNode(t,{props:{...n.props,...r}})};this.getDatabaseByName=async(t,r)=>(await this.penx.node.where({type:"DATABASE",spaceId:t}).toArray()).find(i=>i.props.name===r);this.getColumnByFieldName=async(t,r)=>(await this.penx.node.where({databaseId:t,type:"COLUMN"}).toArray()).find(a=>a.props.fieldName===r);this.addView=async(t,r)=>{let n=await this.node.getNode(t),a=n.spaceId,i=await this.penx.node.where({type:"COLUMN",spaceId:a,databaseId:t}).toArray(),o=i.map(c=>({columnId:c.id,width:160,visible:!0})),s="",u=[];if(r==="KANBAN"){let c=i.find(d=>d.props.fieldType==="SINGLE_SELECT");c?u=(await this.penx.node.where({type:"OPTION",databaseId:n.id}).toArray()).filter(f=>f.props.columnId===c.id).map(f=>f.id):c=await this.addColumn(t,"SINGLE_SELECT"),s=c.id}let l=await this.node.createNode({spaceId:n.spaceId,databaseId:n.id,parentId:n.id,type:"VIEW",children:i.map(c=>c.id),props:{name:r.toLowerCase(),viewType:r,viewColumns:o,sorts:[],filters:[],groups:[],kanbanColumnId:s,kanbanOptionIds:u}});return await this.node.updateNode(n.id,{props:{...n.props,activeViewId:l.id,viewIds:[...n.props.viewIds||[],l.id]}}),l};this.addColumn=async(t,r)=>{let n={TEXT:"Text",NUMBER:"Number",URL:"URL",PASSWORD:"Password",SINGLE_SELECT:"Single Select",MULTIPLE_SELECT:"Multiple Select",RATE:"Rate",MARKDOWN:"Markdown",DATE:"Date",CREATED_AT:"Created At",UPDATED_AT:"Updated At"},i=(await this.node.getNode(t)).spaceId,o=await this.node.createNode({spaceId:i,databaseId:t,parentId:t,type:"COLUMN",props:{displayName:n[r]||"",fieldName:me(),description:"",fieldType:r,isPrimary:!1,config:{}}}),s=await this.penx.node.where({type:"VIEW",spaceId:i,databaseId:t}).toArray();for(let l of s)await this.penx.node.update(l.id,{props:{...l.props,viewColumns:[...l.props.viewColumns,{columnId:o.id,width:160,visible:!0}]}});let u=await this.penx.node.where({type:"ROW",spaceId:i,databaseId:t}).toArray();for(let l of u)await this.node.createNode({spaceId:i,databaseId:t,parentId:t,type:"CELL",props:{columnId:o.id,rowId:l.id,ref:"",data:""}});return o};this.checkRowsSortNormal=(t=[])=>t.length?!(!Reflect.has(t[0].props,"sort")||!t.map(n=>n.props.sort).sort().every((n,a)=>n===a+1)):!0;this.fixRowsSort=async(t=[])=>{let r=1,n=t.sort((a,i)=>a.props.sort-i.props.sort);for(let a of n)await this.node.updateNode(a.id,{props:{...a.props,sort:r}}),r++};this.addRow=async t=>{let{databaseId:r,ref:n}=t,i=(await this.node.getNode(r)).spaceId,o=await this.penx.node.where({type:"ROW",spaceId:i,databaseId:r}).toArray();this.checkRowsSortNormal(o)||await this.fixRowsSort(o);let u=await this.node.createNode({spaceId:i,databaseId:r,parentId:r,type:"ROW",props:{sort:o.length+1}}),c=(await this.penx.node.where({type:"VIEW",spaceId:i,databaseId:r}).toArray()).find(g=>g.props.viewType==="TABLE"),d=await this.penx.node.where({type:"COLUMN",spaceId:i,databaseId:r}).toArray(),p=c.props.viewColumns.map(({columnId:g})=>d.find(y=>y.id===g)).map((g,h)=>{let y={columnId:g.id,rowId:u.id,ref:h===0&&n?n:"",data:""};return t.type==="file"&&h===1&&(y.data={},y.data.fileHash=t.fileHash,y.data.googleDriveFileId=t.googleDriveFileId),t.type==="todo"&&h===1&&(y.data={},y.data.isTodoSource=!0,y.data.sourceId=t.sourceId),this.node.createNode({spaceId:i,databaseId:r,parentId:r,type:"CELL",props:y})});await Promise.all(p)};this.addRowByFieldName=async({databaseId:t,...r})=>{let a=(await this.node.getNode(t)).spaceId,i=await this.penx.node.where({type:"ROW",spaceId:a,databaseId:t}).toArray(),o=await this.node.createNode({spaceId:a,databaseId:t,parentId:t,type:"ROW",props:{sort:i.length+1}}),s=await this.penx.node.where({type:"COLUMN",spaceId:a,databaseId:t}).toArray(),u={};for(let c of s)if(c.props.fieldType==="MULTIPLE_SELECT"||c.props.fieldType==="SINGLE_SELECT"){let d=r[c.props.fieldName],f=JSON.stringify(d);if(Array.isArray(d)){let p=d.map(h=>this.addOption(t,c.id,h)),g=await Promise.all(p);u[f]=g.map(h=>h.id)}else{let p=await this.addOption(t,c.id,d);u[f]=[p.id]}}let l=s.map((c,d)=>{let f=r[c.props.fieldName];if(c.props.fieldType==="MULTIPLE_SELECT"||c.props.fieldType==="SINGLE_SELECT"){let p=JSON.stringify(f);f=u[p]}return this.node.createNode({spaceId:a,databaseId:t,parentId:t,type:"CELL",props:{columnId:c.id,rowId:o.id,ref:"",data:f}})});await Promise.all(l)};this.createTodoRow=async(t,r,n)=>{let i=(await this.penx.node.where({type:"DATABASE",spaceId:t}).toArray()).find(u=>u.props.name===vr);i||(i=await this.createDatabase({spaceId:t,name:vr})),(await this.penx.node.where({type:"CELL",spaceId:t,databaseId:i.id}).toArray()).find(u=>u.props.ref===r)||await this.addRow({databaseId:i.id,ref:r,type:"todo",sourceId:n})};this.createFileRow=async t=>{let{spaceId:r,ref:n,fileHash:a,googleDriveFileId:i}=t,s=(await this.penx.node.where({type:"DATABASE",spaceId:r}).toArray()).find(c=>c.props.name===br);s||(s=await this.createDatabase({spaceId:r,name:br}));let u=await this.penx.node.where({type:"CELL",spaceId:r,databaseId:s.id}).toArray(),l=u.find(c=>c.props.ref===n);if(!l)await this.addRow({databaseId:s.id,ref:n,type:"file",fileHash:a,googleDriveFileId:i});else{let c=u.find(d=>{if(d.props.rowId===l.props.rowId&&typeof d.props.data=="object")return Reflect.has(d.props.data,"googleDriveFileId")});c&&await this.node.updateNode(c.id,{props:{...c.props,data:{fileHash:a,googleDriveFileId:i}}})}};this.createTagRow=async(t,r,n="")=>{let a=Yc(r),o=(await this.penx.node.where({type:"DATABASE",spaceId:t}).toArray()).find(l=>l.props.name===a);if(!o)return;(await this.penx.node.where({type:"CELL",spaceId:t,databaseId:o.id}).toArray()).find(l=>l.props.ref===n)||await this.addRow({databaseId:o.id,ref:n})};this.deleteRow=async(t,r,n=!0)=>{let a=await this.penx.node.where({type:"CELL",databaseId:t}).toArray(),i=[];if(i.push(this.penx.node.delete(r)),n){let s=a.find(u=>!!u.props.ref&&u.props.rowId===r);if(s){let u=s.props.ref;i.push(this.penx.node.delete(u))}}for(let s of a)s.props.rowId===r&&i.push(this.penx.node.delete(s.id));await Promise.all(i);let o=await this.penx.node.where({type:"ROW",databaseId:t}).toArray();await this.fixRowsSort(o)};this.updateCell=async(t,r)=>{let n=await this.node.getNode(t),a=await this.node.updateNode(t,{...r,updatedAt:new Date});return await this.node.updateNode(n.props.rowId,{updatedAt:new Date}),a};this.deleteColumn=async(t,r)=>{let n=await this.penx.node.where({type:"CELL",databaseId:t}).toArray();for(let i of n)i.props.columnId===r&&await this.node.deleteNode(i.id);let a=await this.penx.node.where({type:"VIEW",databaseId:t}).toArray();for(let i of a)await this.node.updateNode(i.id,{props:{...i.props,viewColumns:i.props.viewColumns.filter(({columnId:o})=>o!==r)}});await this.node.deleteNode(r)};this.updateColumnName=async(t,r)=>{let n=await this.node.getNode(t);await this.node.updateNode(t,{props:{...n.props,displayName:r}})};this.updateColumnWidth=async(t,r,n)=>{await this.updateViewColumn(t,r,{width:n})};this.deleteView=async(t,r)=>{let n=await this.node.getNode(t);await this.node.deleteNode(r),await this.node.updateNode(n.id,{props:{...n.props,viewIds:n.props?.viewIds.filter(a=>a!==r)}})};this.updateView=async(t,r)=>{let n=await this.node.getNode(t);await this.node.updateNode(t,{props:{...n.props,...r}})};this.updateViewColumn=async(t,r,n)=>{let a=await this.node.getNode(t),{viewColumns:i=[]}=a.props,o=i.findIndex(s=>s.columnId===r);i[o]={...i[o],...n},await this.node.updateNode(t,{props:{...a.props,viewColumns:i}})};this.addSort=async(t,r,n)=>{let a=await this.node.getNode(t);await this.node.updateNode(t,{props:{...a.props,sorts:[...a.props.sorts||[],{isAscending:!0,columnId:r,...n}]}})};this.deleteSort=async(t,r)=>{let n=await this.node.getNode(t);await this.node.updateNode(t,{props:{...n.props,sorts:n.props.sorts?.filter(a=>a.columnId!==r)}})};this.addGroup=async(t,r,n)=>{let a=await this.node.getNode(t);await this.node.updateNode(t,{props:{...a.props,groups:[...a.props.groups||[],{showEmptyGroup:!1,isAscending:!0,columnId:r,...n}]}})};this.deleteGroup=async(t,r)=>{let n=await this.node.getNode(t);await this.node.updateNode(t,{props:{...n.props,groups:n.props.groups?.filter(a=>a.columnId!==r)}})};this.addFilter=async(t,r,n)=>{let a=await this.node.getNode(t);await this.node.updateNode(t,{props:{...a.props,filters:[...a.props.filters||[],{...n,columnId:r,conjunction:"AND"}]}})};this.updateFilter=async(t,r,n,a)=>{let i=await this.node.getNode(t),o=i.props.filters,s=o.findIndex(u=>u.columnId===r);s>=0&&(o[s]={...o[s],columnId:n,...a}),await this.node.updateNode(t,{props:{...i.props,filters:o}})};this.deleteFilter=async(t,r)=>{let n=await this.node.getNode(t);await this.node.updateNode(t,{props:{...n.props,filters:n.props.filters?.filter(a=>a.columnId!==r)}})};this.applyFilter=async(t,r)=>{let n=await this.node.getNode(t);await this.node.updateNode(t,{props:{...n.props,filters:r}})};this.addOption=async(t,r,n)=>{let i=(await this.node.getNode(t)).spaceId,s=(await this.penx.node.where({databaseId:t,type:"OPTION"}).toArray()).find(c=>c.props.name===n);if(s)return s;let u=await this.node.createNode({spaceId:i,databaseId:t,parentId:t,type:"OPTION",props:{columnId:r,name:n,color:cn()}}),l=await this.node.getNode(r);return await this.node.updateNode(r,{props:{...l.props,optionIds:[...l.props.optionIds||[],u.id]}}),u};this.updateColumnOptions=async(t,r)=>{let n=await this.node.getNode(t),a=n.props.optionIds||[],i=r.map(s=>s.id),o=a.filter(s=>!i.includes(s));for(let s of o){await this.node.updateNode(n.id,{props:{...n.props,optionIds:i}});let u=await this.penx.node.where({type:"CELL",databaseId:n.databaseId}).toArray();for(let l of u)Array.isArray(l.props.data)&&l.props.data.includes(s)&&await this.node.updateNode(l.id,{props:{...l.props,data:l.props.data.filter(c=>c!==c)}})}for(let{id:s,...u}of r){let l=await this.node.getNode(s);await this.node.updateNode(s,{props:{...l.props,...u}})}};this.deleteCellOption=async(t,r)=>{let n=await this.node.getNode(t),a=Array.isArray(n.props.data)?n.props.data:[];await this.node.updateNode(n.id,{props:{...n.props,data:a.filter(i=>i!==r)}})};this.moveColumn=async(t,r,n,a)=>{let o=(await this.penx.node.where({type:"VIEW",databaseId:t}).toArray()).find(u=>u.id===r),s=await this.penx.node.where({type:"COLUMN",databaseId:t}).toArray();!s[n]||!s[a]||await this.node.updateNode(o.id,{props:{...o.props,viewColumns:jc(o.props.viewColumns,n,a)}})};this.deleteDatabase=async t=>{let r=await this.penx.node.where({databaseId:t.id}).delete();console.log("===========deleteCount:",r),await this.node.deleteNode(t.id);let n=await this.getDatabaseRootNode(t.spaceId);await this.node.updateNode(n.id,{children:n.children?.filter(a=>a!==t.id)})}}},eo=new cl(ut,Wr);function xh(e){return new Promise((t,r)=>{e.oncomplete=e.onsuccess=()=>t(e.result),e.onabort=e.onerror=()=>r(e.error)})}function z0(e,t){let r=indexedDB.open(e);r.onupgradeneeded=()=>r.result.createObjectStore(t);let n=xh(r);return(a,i)=>n.then(o=>i(o.transaction(t,a).objectStore(t)))}var dl;function G0(){return dl||(dl=z0("keyval-store","keyval")),dl}function _h(e,t=G0()){return t("readonly",r=>xh(r.get(e)))}async function Ah(){try{return await _h($c)}catch(e){console.log("error1",e);return}}function fl(e){return{id:me(),userId:"",editorMode:"OUTLINER",name:"My Space",sort:1,color:cn(),activeNodeIds:[],nodeSnapshot:{version:0,nodeMap:{}},pageSnapshot:{version:0,pageMap:{}},createdAt:new Date,updatedAt:new Date,...e}}var pl=class{constructor(t,r,n){this.penx=t;this.node=r;this.database=n;this.getLastUpdatedAt=async t=>{let r=await this.node.listNodesBySpaceId(t);return r.length?Math.max(...r.map(a=>new Date(a.updatedAt).getTime())):0};this.initSpaceNodes=async t=>{let r=t.id;await this.penx.node.add(ct({spaceId:r,type:"ROOT"},t.name)),await this.node.createInboxNode(t.id),await this.penx.node.add(ze({spaceId:r,type:"TRASH"})),await this.penx.node.add(ze({spaceId:r,type:"FAVORITE"})),await this.penx.node.add(ze({spaceId:r,type:"DATABASE_ROOT"}));let n=await this.node.createNode(ze({spaceId:r,type:"DAILY_ROOT"})),a=await this.node.createDailyNode(ze({parentId:n.id,spaceId:r,type:"DAILY",date:kn(new Date)}));await this.updateSpace(r,{activeNodeIds:[a.id]}),await this.database.createDatabase({spaceId:r,name:vr}),await this.database.createDatabase({spaceId:r,name:br})};this.createSpace=async(t,r=!0)=>{let n=fl(t),a=await this.penx.space.add(n),i=await this.penx.space.get(a);return r&&await this.initSpaceNodes(i),i};this.createLocalSpace=async()=>{let t=await this.penx.space.where({userId:Za}).first();if(t)return t;let r=fl({userId:Za,name:"Local Space"}),n=await this.penx.space.add(r),a=await this.penx.space.get(n);return await this.initSpaceNodes(a),a};this.listLocalSpaces=async()=>await this.penx.space.where({userId:Za}).toArray()||[];this.listSpaces=async(t,r)=>{let n=[],a=r??await Ah();if(a){let o=t??a?.userId,s=await this.penx.space.where({userId:o}).toArray();n.push(...s)}let i=await this.listLocalSpaces();return n.push(...i),n};this.getSpace=t=>this.penx.space.get(t);this.updateSpace=(t,r)=>this.penx.space.update(t,r);this.deleteSpace=async t=>{let r=await this.node.listNodesBySpaceId(t);for(let n of r)await this.penx.node.delete(n.id);await this.penx.space.delete(t)}}},Sh=new pl(ut,Wr,eo);var hl={...ut,...eo,...Wr,...Sh,penx:ut};function Eh(e){return{all:e=e||new Map,on:function(t,r){var n=e.get(t);n?n.push(r):e.set(t,[r])},off:function(t,r){var n=e.get(t);n&&(r?n.splice(n.indexOf(r)>>>0,1):e.set(t,[]))},emit:function(t,r){var n=e.get(t);n&&n.slice().map(function(a){a(r)}),(n=e.get("*"))&&n.slice().map(function(a){a(t,r)})}}}var AR=Eh();var q0=`
"use strict";(()=>{var o;(function(t){t.Render="Render",t.InitOnFilterChange="InitOnFilterChange",t.OnFilterChange="OnFilterChange",t.InitOnSearchChange="InitOnSearchChange",t.OnSearchChange="OnSearchChange"})(o||(o={}));function r(t){return t.type==="CustomAction"}function u(t){return t?.type==="action--custom-action"&&Reflect.has(t,"itemIndex")}function l(t){return t?.type==="onItemSelect"}var i=class{constructor(a){this.setState=s=>{let e=s?.items?.length?!1:this.state.isLoading;this.state={...this.state,isLoading:e,...s},this.render()},this.onSelectItem=s=>(this.onItemSelectCallback=s,this),this.run=()=>(this.render(),self.addEventListener("message",async s=>{if(u(s.data)){let n=this.state.items[s.data.itemIndex].actions[s.data.actionIndex];r(n)&&n.onClick?.()}if(l(s.data)){let e=this.state.items[s.data.itemIndex];if(typeof e.detail=="function"){postMessage({type:"detail",isLoading:!0,data:[]});let n=await e.detail();postMessage({type:"detail",isLoading:!1,data:n})}}}),this),this.render=()=>{postMessage({type:o.Render,payload:{type:"list",...this.formatState(this.state)}})},this.state={items:[],isLoading:!1,filtering:!0,titleLayout:"row",isShowingDetail:!1,...a}}formatState(a){let s=a.items.map(e=>({...e,detail:typeof e.detail=="function"?"functionDetail":e.detail,actions:e.actions?.map(n=>{if(!r(n))return n;let{onClick:h,...c}=n;return c})}));return{...this.state,items:s}}};async function d(){let t=new i({items:[]}).run(),a=Array(10).fill("").map((s,e)=>({icon:e+1,title:100+e.toString(),actions:[{type:"CopyToClipboard",content:e.toString()}]}));setTimeout(()=>{t.setState({items:a})},1)}d();})();
`,Z0=`
"use strict";(()=>{var o;(function(t){t.Render="Render",t.InitOnFilterChange="InitOnFilterChange",t.OnFilterChange="OnFilterChange",t.InitOnSearchChange="InitOnSearchChange",t.OnSearchChange="OnSearchChange"})(o||(o={}));function r(t){return t.type==="SubmitForm"}function l(t){return t.type==="CustomAction"}function u(t){return t?.type==="action--on-submit"&&Reflect.has(t,"values")}var a=class{constructor(s){this.setState=n=>{this.state={...this.state,...n},this.render()},this.run=()=>(this.render(),self.addEventListener("message",async n=>{if(u(n.data)){let e=this.state.actions[n.data.actionIndex];r(e)&&e.onSubmit(n.data.values)}}),this),this.render=()=>{postMessage({type:o.Render,payload:{type:"form",...this.state,...this.formatState(this.state)}})},this.state={fields:[],isLoading:!1,...s}}formatState(s){let n=s.actions?.map(e=>{if(r(e)){let{onSubmit:c,...i}=e;return i}if(l(e)){let{onClick:c,...i}=e;return i}return e});return{...this.state,actions:n}}};function d(){let t=new a({fields:[{label:"First Name",name:"firstName",component:"Input"},{label:"Description",name:"description",component:"Textarea"},{label:"Open",name:"isOpen",component:"Switch",value:!0},{label:"Color",name:"color",component:"Select",options:[{label:"Red",value:"red"},{label:"Green",value:"green"},{label:"Blue",value:"blur"}],value:"red"}],actions:[{type:"SubmitForm",onSubmit:async s=>{console.log("======values:",s)}}]}).run()}d();})();
`,K0=`
"use strict";(()=>{var s;(function(t){t.Render="Render",t.InitOnFilterChange="InitOnFilterChange",t.OnFilterChange="OnFilterChange",t.InitOnSearchChange="InitOnSearchChange",t.OnSearchChange="OnSearchChange"})(s||(s={}));var e=class{constructor(a){this.setState=n=>{let i=n?.content?!1:this.state.isLoading;this.state={...this.state,isLoading:i,...n},this.render()},this.run=()=>(this.render(),this),this.render=()=>{postMessage({type:s.Render,payload:{type:"markdown",...this.state}})},this.state={isLoading:!1,...a}}};async function o(){new e({content:"# Hello world"}).run()}o();})();
`,Ih={markdown:K0,list:q0,form:Z0};function X0(){new Dn({fields:[{label:"Template",name:"template",component:"Select",options:[{label:"Markdown App",value:"markdown"},{label:"List App",value:"list"},{label:"Form App",value:"form"}],value:"list"},{label:"Extension Title",name:"extensionTitle",component:"Input",value:"",validators:{required:"Extension Name is required"}},{label:"Location",name:"location",component:"LocationInput",value:"",validators:{required:"Location is required"}}],actions:[{type:"SubmitForm",onSubmit:e}]}).run();async function e(t){let r=qa(t.extensionTitle),n=t.extensionTitle,a=t.location,i=await Fe.resolve(a,r),o=await Fe.resolve(i,"src"),s=Uc(t.template,n),u=Fc(t.template);try{let l=Lc[t.template];await Ae.exists(i)||await Ae.mkdir(i,{recursive:!0}),await Ae.exists(o)||await Ae.mkdir(o,{recursive:!0});let c=await Fe.resolve(i,"README.md"),d=await Fe.resolve(i,"package.json"),f=await Fe.resolve(i,"manifest.json"),p=await Fe.resolve(i,".gitignore"),g=await Fe.resolve(i,".prettier"),h=await Fe.resolve(i,"tsconfig.json"),y=await Fe.resolve(o,`${t.template}.command.ts`);if(await Promise.all([Ae.writeTextFile(c,`# ${n}`),Ae.writeTextFile(d,u),Ae.writeTextFile(f,s),Ae.writeTextFile(p,Dc),Ae.writeTextFile(g,Mc),Ae.writeTextFile(h,Pc),Ae.writeTextFile(y,l)]),await hl.getExtensionByName(r))return;let b=JSON.parse(s);b.commands[0].code=Ih[t.template],await hl.upsertExtension(r,{isDeveloping:!0,location:i,...b}),console.log("file created!")}catch(l){console.log("error:",l),await Ae.remove(i,{recursive:!0})}}}X0();})();
/*! Bundled license information:

react/cjs/react.production.min.js:
  (**
   * @license React
   * react.production.min.js
   *
   * Copyright (c) Facebook, Inc. and its affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)

react-is/cjs/react-is.production.min.js:
  (** @license React v16.13.1
   * react-is.production.min.js
   *
   * Copyright (c) Facebook, Inc. and its affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)

@huakunshen/comlink/dist/esm/comlink.mjs:
  (**
   * @license
   * Copyright 2019 Google LLC
   * SPDX-License-Identifier: Apache-2.0
   *)
*/

"undefined"!=typeof document&&document.addEventListener("keydown",e=>{"Escape"!==e.key||window.$__IS_ACTION_OPEN__||window.parent.postMessage({type:"escape"},"*")});
